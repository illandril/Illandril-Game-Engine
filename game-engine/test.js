(function(){var i=void 0,q=null;function r(){return function(){}}function s(a){return function(){return this[a]}}function aa(a){return function(){return a}}var x,z=this;function ba(a,c){var b=a.split("."),d=z;!(b[0]in d)&&d.execScript&&d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)!b.length&&c!==i?d[e]=c:d=d[e]?d[e]:d[e]={}}function ca(){}
function da(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if(b=="[object Window]")return"object";if(b=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(b=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}var ea="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),fa=0;function A(a,c){function b(){}b.prototype=c.prototype;a.vg=c.prototype;a.prototype=new b;a.prototype.constructor=a};function ga(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;b==0&&g<f;g++){var h=d[g]||"",j=e[g]||"",k=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var o=k.exec(h)||["","",""],p=n.exec(j)||["","",""];if(o[0].length==0&&p[0].length==0)break;b=ha(o[1].length==0?0:parseInt(o[1],10),p[1].length==0?0:parseInt(p[1],10))||ha(o[2].length==0,p[2].length==0)||ha(o[2],p[2])}while(b==
0)}return b}function ha(a,c){if(a<c)return-1;else if(a>c)return 1;return 0};var ia,ja,ka,la;function ma(){return z.navigator?z.navigator.userAgent:q}la=ka=ja=ia=!1;var na;if(na=ma()){var oa=z.navigator;ia=na.indexOf("Opera")==0;ja=!ia&&na.indexOf("MSIE")!=-1;ka=!ia&&na.indexOf("WebKit")!=-1;la=!ia&&!ka&&oa.product=="Gecko"}var pa=ja,qa=la,ra=ka,sa=z.navigator,ta=(sa&&sa.platform||"").indexOf("Mac")!=-1,ua;
a:{var va="",wa;if(ia&&z.opera)var xa=z.opera.version,va=typeof xa=="function"?xa():xa;else if(qa?wa=/rv\:([^\);]+)(\)|;)/:pa?wa=/MSIE\s+([^\);]+)(\)|;)/:ra&&(wa=/WebKit\/(\S+)/),wa)var ya=wa.exec(ma()),va=ya?ya[1]:"";if(pa){var za,Aa=z.document;za=Aa?Aa.documentMode:i;if(za>parseFloat(va)){ua=String(za);break a}}ua=va}var Ba={},Ca={};var Da,Ea={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",
96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};var Fa=Array.prototype,Ga=Fa.indexOf?function(a,c,b){return Fa.indexOf.call(a,c,b)}:function(a,c,b){b=b==q?0:b<0?Math.max(0,a.length+b):b;if(typeof a=="string")return typeof c!="string"||c.length!=1?-1:a.indexOf(c,b);for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1};pa&&(Ca[9]||(Ca[9]=pa&&document.documentMode&&document.documentMode>=9));pa&&(Ba["8"]||(Ba["8"]=ga(ua,"8")>=0));function Ha(){}Ha.prototype.Yf=!1;Ha.prototype.Wc=function(){if(!this.Yf)this.Yf=!0,this.Xc()};Ha.prototype.Xc=function(){this.qh&&Ia.apply(q,this.qh)};function Ia(a){for(var c=0,b=arguments.length;c<b;++c){var d=arguments[c],e=da(d);e=="array"||e=="object"&&typeof d.length=="number"?Ia.apply(q,d):d&&typeof d.Wc=="function"&&d.Wc()}};function Ja(a,c){this.type=a;this.currentTarget=this.target=c}A(Ja,Ha);Ja.prototype.Xc=function(){delete this.type;delete this.target;delete this.currentTarget};Ja.prototype.tf=!1;Ja.prototype.oi=!0;function Ka(a){Ka[" "](a);return a}Ka[" "]=ca;function La(a,c){a&&this.yb(a,c)}A(La,Ja);x=La.prototype;x.target=q;x.relatedTarget=q;x.offsetX=0;x.offsetY=0;x.clientX=0;x.clientY=0;x.screenX=0;x.screenY=0;x.button=0;x.keyCode=0;x.charCode=0;x.ctrlKey=!1;x.altKey=!1;x.shiftKey=!1;x.metaKey=!1;x.ki=!1;x.Zf=q;
x.yb=function(a,c){var b=this.type=a.type;Ja.call(this,b);this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(qa){var e;a:{try{Ka(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=q)}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.ki=ta?a.metaKey:a.ctrlKey;this.state=a.state;this.Zf=a;delete this.oi;delete this.tf};x.Xc=function(){La.vg.Xc.call(this);this.relatedTarget=this.currentTarget=this.target=this.Zf=q};function Ma(){}var Na=0;x=Ma.prototype;x.key=0;x.md=!1;x.Sf=!1;x.yb=function(a,c,b,d,e,f){if(da(a)=="function")this.bg=!0;else if(a&&a.handleEvent&&da(a.handleEvent)=="function")this.bg=!1;else throw Error("Invalid listener argument");this.Ld=a;this.sg=c;this.src=b;this.type=d;this.capture=!!e;this.$f=f;this.Sf=!1;this.key=++Na;this.md=!1};x.handleEvent=function(a){return this.bg?this.Ld.call(this.$f||this.src,a):this.Ld.handleEvent.call(this.Ld,a)};var Oa,Pa=(Oa="ScriptEngine"in z&&z.ScriptEngine()=="JScript")?z.ScriptEngineMajorVersion()+"."+z.ScriptEngineMinorVersion()+"."+z.ScriptEngineBuildVersion():"0";function Qa(a,c){this.mg=c;this.Cc=[];if(a>this.mg)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.Cc.push(this.sb())}A(Qa,Ha);x=Qa.prototype;x.Ac=q;x.Xf=q;x.getObject=function(){return this.Cc.length?this.Cc.pop():this.sb()};function Ra(a,c){a.Cc.length<a.mg?a.Cc.push(c):Sa(a,c)}x.sb=function(){return this.Ac?this.Ac():{}};
function Sa(a,c){if(a.Xf)a.Xf(c);else{var b=da(c);if(b=="object"||b=="array"||b=="function")if(da(c.Wc)=="function")c.Wc();else for(var d in c)delete c[d]}}x.Xc=function(){Qa.vg.Xc.call(this);for(var a=this.Cc;a.length;)Sa(this,a.pop());delete this.Cc};var Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb;
(function(){function a(){return{gc:0,ld:0}}function c(){return[]}function b(){function a(b){b=g.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new Ma}function e(){return new La}var f=Oa&&!(ga(Pa,"5.7")>=0),g;Ya=function(a){g=a};if(f){Ta=function(){return h.getObject()};Ua=function(a){Ra(h,a)};Va=function(){return j.getObject()};Wa=function(a){Ra(j,a)};Xa=function(){return k.getObject()};Za=function(){Ra(k,b())};$a=function(){return n.getObject()};ab=function(a){Ra(n,a)};bb=function(){return o.getObject()};
cb=function(a){Ra(o,a)};var h=new Qa(0,600);h.Ac=a;var j=new Qa(0,600);j.Ac=c;var k=new Qa(0,600);k.Ac=b;var n=new Qa(0,600);n.Ac=d;var o=new Qa(0,600);o.Ac=e}else Ta=a,Ua=ca,Va=c,Wa=ca,Xa=b,Za=ca,$a=d,ab=ca,bb=e,cb=ca})();var db={},D={},eb={},fb={};
function gb(a,c,b,d,e){if(c)if(da(c)=="array")for(var f=0;f<c.length;f++)gb(a,c[f],b,d,e);else{var d=!!d,g=D;c in g||(g[c]=Ta());g=g[c];d in g||(g[d]=Ta(),g.gc++);var g=g[d],h=a[ea]||(a[ea]=++fa),j;g.ld++;if(g[h]){j=g[h];for(f=0;f<j.length;f++)if(g=j[f],g.Ld==b&&g.$f==e){if(g.md)break;return}}else j=g[h]=Va(),g.gc++;f=Xa();f.src=a;g=$a();g.yb(b,f,a,c,d,e);b=g.key;f.key=b;j.push(g);db[b]=g;eb[h]||(eb[h]=Va());eb[h].push(g);a.addEventListener?(a==z||!a.ph)&&a.addEventListener(c,f,d):a.attachEvent(c in
fb?fb[c]:fb[c]="on"+c,f)}else throw Error("Invalid event type");}function hb(a,c,b,d){if(!d.ke&&d.ng){for(var e=0,f=0;e<d.length;e++)if(d[e].md){var g=d[e].sg;g.src=q;Za(g);ab(d[e])}else e!=f&&(d[f]=d[e]),f++;d.length=f;d.ng=!1;f==0&&(Wa(d),delete D[a][c][b],D[a][c].gc--,D[a][c].gc==0&&(Ua(D[a][c]),delete D[a][c],D[a].gc--),D[a].gc==0&&(Ua(D[a]),delete D[a]))}}
function ib(a,c,b,d,e){var f=1,c=c[ea]||(c[ea]=++fa);if(a[c]){a.ld--;a=a[c];a.ke?a.ke++:a.ke=1;try{for(var g=a.length,h=0;h<g;h++){var j=a[h];j&&!j.md&&(f&=jb(j,e)!==!1)}}finally{a.ke--,hb(b,d,c,a)}}return Boolean(f)}
function jb(a,c){var b=a.handleEvent(c);if(a.Sf){var d=a.key;if(db[d]){var e=db[d];if(!e.md){var f=e.src,g=e.type,h=e.sg,j=e.capture;f.removeEventListener?(f==z||!f.ph)&&f.removeEventListener(g,h,j):f.detachEvent&&f.detachEvent(g in fb?fb[g]:fb[g]="on"+g,h);f=f[ea]||(f[ea]=++fa);h=D[g][j][f];if(eb[f]){var k=eb[f],n=Ga(k,e);n>=0&&Fa.splice.call(k,n,1);k.length==0&&delete eb[f]}e.md=!0;h.ng=!0;hb(g,j,f,h);delete db[d]}}}return b}
Ya(function(a,c){if(!db[a])return!0;var b=db[a],d=b.type,e=D;if(!(d in e))return!0;var e=e[d],f,g;Da===i&&(Da=pa&&!z.addEventListener);if(Da){var h;if(!(h=c))a:{h="window.event".split(".");for(var j=z;f=h.shift();)if(j[f]!=q)j=j[f];else{h=q;break a}h=j}f=h;h=!0 in e;j=!1 in e;if(h){if(f.keyCode<0||f.returnValue!=i)return!0;a:{var k=!1;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(n){k=!0}if(k||f.returnValue==i)f.returnValue=!0}}k=bb();k.yb(f,this);f=!0;try{if(h){for(var o=Va(),p=k.currentTarget;p;p=
p.parentNode)o.push(p);g=e[!0];g.ld=g.gc;for(var t=o.length-1;!k.tf&&t>=0&&g.ld;t--)k.currentTarget=o[t],f&=ib(g,o[t],d,!0,k);if(j){g=e[!1];g.ld=g.gc;for(t=0;!k.tf&&t<o.length&&g.ld;t++)k.currentTarget=o[t],f&=ib(g,o[t],d,!1,k)}}else f=jb(b,k)}finally{if(o)o.length=0,Wa(o);k.Wc();cb(k)}return f}d=new La(c,this);try{f=jb(b,d)}finally{d.Wc()}return f});var kb={61:187,59:186};pa||ra&&(Ba["525"]||(Ba["525"]=ga(ua,"525")>=0));function lb(a){this.id=mb++;this.name=a;this.controls={};this.xf={};this.Vf=[];this.xe=this.ee=q}function nb(a,c){var b=0,d=ob==pb&&qb==rb&&sb==tb,e;for(e in ub){var f=d&&ub[e].Bg;b++;var g=vb(e,ob,qb,sb);a.ee==q&&a.controls[g]!=q&&(!f||a.controls[g].uh)&&a.controls[g].execute(c)}if(b==1&&a.ee!=q)a.xe!=q&&clearTimeout(a.xe),a.xe=setTimeout(function(){E(a,a.ee,g);a.ee=q;a.xe=q},100)}
function E(a,c,b,d,e,f){var g=b;typeof b=="number"&&(g=vb(b,d,e,f));b=[];d=a.controls[g];e=a.xf[c.name];if(d!=q)if(e!=q)a.controls[e]=d,a.xf[d.name]=e,b.push(new wb(e,d));else throw"The specified key is already in use for a different function.";else e!=q&&delete a.controls[e];a.controls[g]=c;a.xf[c.name]=g;b.push(new wb(g,c));for(c=0;c<a.Vf.length;c++)g=a.Vf[c],g.Ii.apply(g.Ld,b||[],xb(a))}function xb(a){var c=[],b;for(b in a.controls)c.push(new wb(b,a.controls[b]));return c}
var mb=0,ub={},ob=!1,pb={},qb=!1,rb={},sb=!1,tb={};function yb(a){var c=a.Ai,c=qa&&a.keyCode in kb?kb[a.keyCode]:a.keyCode;return{keyCode:c,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey}}function vb(a,c,b,d){var e=Ea[a];e==q&&(e="KEY["+a+"]");return(c?"Ctrl + ":"")+(b?"Alt + ":"")+(d?"Shift + ":"")+e.toUpperCase()}gb(document,"keydown",function(a){a=yb(a);a.keyCode!=16&&a.keyCode!=17&&a.keyCode!=18&&ub[a.keyCode]==q&&(ub[a.keyCode]={Bg:!1});ob=a.ctrlKey;qb=a.altKey;sb=a.shiftKey});
gb(document,"keyup",function(a){a=yb(a);delete ub[a.keyCode];ob=a.ctrlKey;qb=a.altKey;sb=a.shiftKey});gb(document,"blur",function(){ub={};tb=sb=rb=qb=pb=ob=!1});function wb(a,c){this.key=this.key=a;this.action=this.action=c};function F(a,c){this.x=a;this.y=c}x=F.prototype;x.da=function(){this.y=this.x=0};x.i=function(a,c){this.x=a;this.y=c};x.l=function(a){this.x=a.x;this.y=a.y};x.tc=function(){return new F(-this.x,-this.y)};x.If=function(){this.x=-this.x;this.y=-this.y};x.ja=function(){return new F(this.x,this.y)};x.pd=function(a){this.x+=a.x;this.y+=a.y};x.Hf=function(a){this.x*=a;this.y*=a};function zb(a){return a.x*a.x+a.y*a.y}function G(a){var c=Math.sqrt(zb(a));c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)};function Ab(){this.a=new F(0,0);this.b=new F(0,0);this.de()}x=Ab.prototype;x.i=function(a){var c=Math.cos(a),a=Math.sin(a);this.a.i(c,a);this.b.i(-a,c)};x.ja=function(){var a=new Ab;a.Qc(this);return a};x.Qc=function(a){this.a.l(a.a);this.b.l(a.b)};x.Ge=function(a){this.a.pd(a.a);this.b.pd(a.b)};x.de=function(){this.a.i(1,0);this.b.i(0,1)};x.da=function(){this.a.i(0,0);this.b.i(0,0)};x.Jb=function(){return Math.atan2(this.a.y,this.a.x)};
x.Dd=function(a,c,b){var d=this.a.x*this.b.y-this.b.x*this.a.y;d!==0&&(d=1/d);a.x=d*(this.b.y*c-this.b.x*b);a.y=d*(this.a.x*b-this.a.y*c);return a};function Bb(a,c){return a.x*c.x+a.y*c.y}function Cb(a,c){return a.x*c.y-a.y*c.x}function Db(a){return new F(1*a.y,-1*a.x)}function Eb(a,c){return new F(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)}function Fb(a,c){return new F(Bb(c,a.a),Bb(c,a.b))}function I(a,c){var b=Eb(a.d,c);b.x+=a.position.x;b.y+=a.position.y;return b}function Gb(a,c){var b=J(c,a.position),d=b.x*a.d.a.x+b.y*a.d.a.y;b.y=b.x*a.d.b.x+b.y*a.d.b.y;b.x=d;return b}function J(a,c){return new F(a.x-c.x,a.y-c.y)}
function K(a,c,b){return a<c?c:a>b?b:a};function M(a){if(!a)throw"Assertion Failed";}var Hb=2/180*Math.PI,Ib=8/180*Math.PI,Jb=0.5*Math.PI,Kb=Jb*Jb,Lb=2/180*Math.PI;function Mb(){}Mb.prototype.i=function(a){this.xa.l(a.xa);this.pb.l(a.pb);this.ra.l(a.ra);this.k=a.k;this.fa=a.fa;this.ga=a.ga};function Nb(){var a=N;if(a.t==1)return a.M.ra.tc();else if(a.t==2){var c=J(a.W.ra,a.M.ra);return Cb(c,a.M.ra.tc())>0?new F(-1*c.y,1*c.x):Db(c)}else return M(!1),new F(0,0)}function Ob(a){return a.t==1?0:a.t==2?Math.sqrt(zb(J(a.M.ra,a.W.ra))):a.t==3?Cb(J(a.W.ra,a.M.ra),J(a.Ua.ra,a.M.ra)):(M(!1),0)};function Pb(a,c,b){var d=b.$a,e=b.Ce,f=b.ab,g=b.De,h=N;M(0<=c.count&&c.count<=3);var j,k;h.t=c.count;for(var n=h.j,o=0;o<h.t;o++){var p=n[o];p.fa=c.fa[o];p.ga=c.ga[o];j=O(d,p.fa);k=O(f,p.ga);p.xa=I(e,j);p.pb=I(g,k);p.ra=J(p.pb,p.xa);p.k=0}if(h.t>1&&(j=c.bi,k=Ob(h),k<0.5*j||2*j<k||k<Number.MIN_VALUE))h.t=0;if(h.t==0)p=n[0],p.fa=0,p.ga=0,j=O(d,0),k=O(f,0),p.xa=I(e,j),p.pb=I(g,k),p.ra=J(p.pb,p.xa),h.t=1;(N.t<1||N.t>3)&&M(!1);for(d=0;d<20;){e=[];for(f=0;f<N.t;f++)e[f]={},e[f].fa=N.j[f].fa,e[f].ga=N.j[f].ga;
if(N.t==2)f=N,g=f.M.ra,h=f.W.ra,n=J(h,g),g=-(g.x*n.x+g.y*n.y),g<=0?(f.M.k=1,f.t=1):(h=h.x*n.x+h.y*n.y,h<=0?(f.W.k=1,f.t=1,f.M.i(f.W)):(n=1/(h+g),f.M.k=h*n,f.W.k=g*n,f.t=2));else if(N.t==3){var f=N,p=f.M.ra,t=f.W.ra,v=f.Ua.ra,u=J(t,p),g=Bb(t,u),h=-Bb(p,u),w=J(v,p),n=Bb(v,w);j=-Bb(p,w);o=J(v,t);k=Bb(v,o);o=-Bb(t,o);w=Cb(u,w);u=w*Cb(t,v);v=w*Cb(v,p);p=w*Cb(p,t);h<=0&&j<=0?(f.M.k=1,f.t=1):g>0&&h>0&&p<=0?(n=1/(g+h),f.M.k=g*n,f.W.k=h*n,f.t=2):n>0&&j>0&&v<=0?(g=1/(n+j),f.M.k=n*g,f.Ua.k=j*g,f.t=2,f.W.i(f.Ua)):
g<=0&&o<=0?(f.W.k=1,f.t=1,f.M.i(f.W)):n<=0&&k<=0?(f.Ua.k=1,f.t=1,f.M.i(f.Ua)):k>0&&o>0&&u<=0?(g=1/(k+o),f.W.k=k*g,f.Ua.k=o*g,f.t=2,f.M.i(f.Ua)):(g=1/(u+v+p),f.M.k=u*g,f.W.k=v*g,f.Ua.k=p*g,f.t=3)}if(N.t==3)break;f=Nb();if(zb(f)<Qb)break;N.j[N.t].fa=b.$a.ce(Fb(b.Ce.d,f.tc()));N.j[N.t].xa=I(b.Ce,O(b.$a,N.j[N.t].fa));N.j[N.t].ga=b.ab.ce(Fb(b.De.d,f));N.j[N.t].pb=I(b.De,O(b.ab,N.j[N.t].ga));N.j[N.t].ra=J(N.j[N.t].pb,N.j[N.t].xa);d++;g=!1;for(f=0;f<e.length;f++)if(N.j[N.t].fa==e[f].fa&&N.j[N.t].ga==e[f].ga){g=
!0;break}if(g)break;N.t++}e=a.$b;f=a.ac;g=N;g.t==1?(e.l(g.M.xa),f.l(g.M.pb)):g.t==2?(e.x=g.M.k*g.M.xa.x+g.W.k*g.W.xa.x,e.y=g.M.k*g.M.xa.y+g.W.k*g.W.xa.y,f.x=g.M.k*g.M.pb.x+g.W.k*g.W.pb.x,f.y=g.M.k*g.M.pb.y+g.W.k*g.W.pb.y):g.t==3?(f.x=e.x=g.M.k*g.M.xa.x+g.W.k*g.W.xa.x+g.Ua.k*g.Ua.xa.x,f.y=e.y=g.M.k*g.M.xa.y+g.W.k*g.W.xa.y+g.Ua.k*g.Ua.xa.y):M(!1);a.Yc=Math.sqrt(zb(J(a.$b,a.ac)));a.Ki=d;d=N;c.bi=Ob(d);c.count=d.t;e=d.j;for(f=0;f<d.t;f++)c.fa[f]=e[f].fa,c.ga[f]=e[f].ga;if(b.zg)c=b.$a.F,b=b.ab.F,a.Yc>
c+b&&a.Yc>Number.MIN_VALUE?(a.Yc-=c+b,d=J(a.ac,a.$b),G(d),a.$b.x+=c*d.x,a.$b.y+=c*d.y,a.ac.x-=b*d.x,a.ac.y-=b*d.y):(b=new F(0,0),b.x=0.5*(a.$b.x+a.ac.x),b.y=0.5*(a.$b.y+a.ac.y),a.$b.x=a.ac.x=b.x,a.$b.y=a.ac.y=b.y,a.Yc=0)}var N=new function(){this.M=new Mb;this.W=new Mb;this.Ua=new Mb;this.j=[this.M,this.W,this.Ua]};function Rb(){};function Sb(){this.$b=new F(0,0);this.ac=new F(0,0)};function Tb(){this.fa=[0,0,0];this.ga=[0,0,0]};function Ub(){}Ub.prototype.i=function(a){a.Pe(this)};Ub.prototype.ce=function(a){for(var c=0,b=this.j[0].x*a.x+this.j[0].y*a.y,d=1;d<this.t;d++){var e=this.j[d].x*a.x+this.j[d].y*a.y;e>b&&(c=d,b=e)}return c};Ub.prototype.vd=function(a){return this.j[this.ce(a)]};Ub.prototype.Ff=s("t");function O(a,c){c===i&&(c=0);M(0<=c&&c<a.t);return a.j[c]};function Vb(){this.F=0.005}x=Vb.prototype;x.ja=aa(q);x.i=function(a){this.F=a.F};x.rd=r();x.He=r();x.Pe=function(){M(!1)};function Wb(){this.oc=0;this.zc=new F(0,0);this.xd=0};function Xb(a,c){this.position=new F(0,0);this.d=new Ab;a&&this.position.l(a);c&&this.d.Qc(c)}Xb.prototype.sa=function(a,c){this.position.l(a);this.d.Qc(c)};Xb.prototype.de=function(){this.position.da();this.d.de()};Xb.prototype.i=function(a){this.position.l(a.position);this.d.Qc(a.d)};Xb.prototype.Jb=function(){return Math.atan2(this.d.a.y,this.d.a.x)};function P(){this.F=0.005;this.lb=new F(0,0);this.j=[];this.$=[]}A(P,Vb);x=P.prototype;x.wd=aa("b2PolygonShape");x.ja=function(){var a=new P;a.i(this);return a};x.i=function(a){Vb.prototype.i.call(this,a);if(a instanceof P){this.lb.l(a.lb);this.V=a.V;Yb(this,this.V);for(var c=0;c<this.V;c++)this.j[c].l(a.j[c]),this.$[c].l(a.$[c])}};function Zb(a,c){$b(a,c)}
function $b(a,c){var b=c.length;M(2<=b);a.V=b;Yb(a,b);for(b=b=0;b<a.V;b++)a.j[b].l(c[b]);for(b=0;b<a.V;++b){var d=J(a.j[b+1<a.V?b+1:0],a.j[b]);M(zb(d)>Number.MIN_VALUE);a.$[b].l(Db(d));G(a.$[b])}b=a.j;d=a.V;d===i&&(d=0);for(var e=new F(0,0),f=0,g=1/3,h=0;h<d;++h){var j=b[h],k=h+1<d?b[h+1]:b[0],n=0.5*((j.x-0)*(k.y-0)-(j.y-0)*(k.x-0));f+=n;e.x+=n*g*(0+j.x+k.x);e.y+=n*g*(0+j.y+k.y)}e.x*=1/f;e.y*=1/f;a.lb=e}
function ac(a,c,b){a.V=4;Yb(a,4);a.j[0].i(-c,-b);a.j[1].i(c,-b);a.j[2].i(c,b);a.j[3].i(-c,b);a.$[0].i(0,-1);a.$[1].i(1,0);a.$[2].i(0,1);a.$[3].i(-1,0);a.lb.da()}
x.rd=function(a,c){for(var b=c.d,d=this.j[0],e=c.position.x+(b.a.x*d.x+b.b.x*d.y),f=c.position.y+(b.a.y*d.x+b.b.y*d.y),g=e,h=f,j=1;j<this.V;++j)var d=this.j[j],k=c.position.x+(b.a.x*d.x+b.b.x*d.y),d=c.position.y+(b.a.y*d.x+b.b.y*d.y),e=e<k?e:k,f=f<d?f:d,g=g>k?g:k,h=h>d?h:d;a.lowerBound.x=e-this.F;a.lowerBound.y=f-this.F;a.upperBound.x=g+this.F;a.upperBound.y=h+this.F};
x.He=function(a,c){c===i&&(c=0);if(this.V==2)a.zc.x=0.5*(this.j[0].x+this.j[1].x),a.zc.y=0.5*(this.j[0].y+this.j[1].y),a.oc=0,a.xd=0;else{for(var b=0,d=0,e=0,f=0,g=1/3,h=0;h<this.V;++h){var j=this.j[h],k=h+1<this.V?this.j[h+1]:this.j[0],n=j.x-0,o=j.y-0,p=k.x-0,t=k.y-0,v=n*t-o*p,u=0.5*v;e+=u;b+=u*g*(0+j.x+k.x);d+=u*g*(0+j.y+k.y);j=n;f+=v*(g*(0.25*(j*j+p*j+p*p)+(0*j+0*p))+0+(g*(0.25*(o*o+t*o+t*t)+(0*o+0*t))+0))}a.oc=c*e;b*=1/e;d*=1/e;a.zc.i(b,d);a.xd=c*f}};
x.Pe=function(a){a.j=this.j;a.t=this.V;a.F=this.F};x.Ff=s("V");x.ce=function(a){for(var c=0,b=this.j[0].x*a.x+this.j[0].y*a.y,d=1;d<this.V;++d){var e=this.j[d].x*a.x+this.j[d].y*a.y;e>b&&(c=d,b=e)}return c};x.vd=function(a){for(var c=0,b=this.j[0].x*a.x+this.j[0].y*a.y,d=1;d<this.V;++d){var e=this.j[d].x*a.x+this.j[d].y*a.y;e>b&&(c=d,b=e)}return this.j[c]};function Yb(a,c){a.j=[];a.$=[];for(var b=a.j.length;b<c;b++)a.j[b]=new F(0,0),a.$[b]=new F(0,0)}new Ab;var bc={},cc=0;function dc(){cc--}function ec(a){if(a.yf===i||a.yf===q)a.yf={};return a.yf};function fc(){this.te=this.jf=this.cd=this.Uh=this.ed=1;var a=this;this.Yh={zh:{clear:function(){a.Ub.clearRect(0,0,a.Ub.canvas.width,a.Ub.canvas.height)}}};this.fg=0}var gc,hc,ic,jc,kc,lc;
(function(a){a.prototype.ec=function(a,b){return"rgba("+((a&16711680)>>16)+","+((a&65280)>>8)+","+(a&255)+","+b+")"};a.prototype.Xg=function(){var a=mc;a===i&&(a=0);this.fg=a};a.prototype.Zg=function(a){this.Ub=a};a.prototype.Vg=function(a){a===i&&(a=0);this.ed=a};a.prototype.Yg=function(){var a=1;a===i&&(a=0);this.Uh=a;this.Ub.Yi=a};a.prototype.Wg=function(){var a=0.3;a===i&&(a=0);this.jf=a};a.prototype.Jg=function(a,b){var d=this.Ub,e=this.ed;d.beginPath();d.strokeStyle=this.ec(b.color,this.cd);
d.moveTo(a[0].x*e,a[0].y*e);for(var f=1;f<4;f++)d.lineTo(a[f].x*e,a[f].y*e);d.lineTo(a[0].x*e,a[0].y*e);d.closePath();d.stroke()};a.prototype.Lg=function(a,b,d){if(b){var e=this.Ub,f=this.ed;e.beginPath();e.strokeStyle=this.ec(d.color,this.cd);e.fillStyle=this.ec(d.color,this.jf);e.moveTo(a[0].x*f,a[0].y*f);for(d=1;d<b;d++)e.lineTo(a[d].x*f,a[d].y*f);e.lineTo(a[0].x*f,a[0].y*f);e.closePath();e.fill();e.stroke()}};a.prototype.Kg=function(a,b,d,e){if(b){var f=this.Ub,g=this.ed,h=a.x*g,j=a.y*g;f.moveTo(0,
0);f.beginPath();f.strokeStyle=this.ec(e.color,this.cd);f.fillStyle=this.ec(e.color,this.jf);f.arc(h,j,b*g,0,Math.PI*2,!0);f.moveTo(h,j);f.lineTo((a.x+d.x*b)*g,(a.y+d.y*b)*g);f.closePath();f.fill();f.stroke()}};a.prototype.$d=function(a,b,d){var e=this.Ub,f=this.ed;e.strokeStyle=this.ec(d.color,this.cd);e.beginPath();e.moveTo(a.x*f,a.y*f);e.lineTo(b.x*f,b.y*f);e.closePath();e.stroke()};a.prototype.Mg=function(a){var b=this.Ub,d=this.ed;b.beginPath();b.strokeStyle=this.ec(16711680,this.cd);b.moveTo(a.position.x*
d,a.position.y*d);b.lineTo((a.position.x+this.te*a.d.a.x)*d,(a.position.y+this.te*a.d.a.y)*d);b.strokeStyle=this.ec(65280,this.cd);b.moveTo(a.position.x*d,a.position.y*d);b.lineTo((a.position.x+this.te*a.d.b.x)*d,(a.position.y+this.te*a.d.b.y)*d);b.closePath();b.stroke()};gc=1;hc=2;ic=4;jc=8;kc=16;lc=32})(fc);function nc(a,c,b,d){if(bc[a]==q)cc++,bc[a]=new Image,bc[a].onload=dc,bc[a].src=a;this.url=a;this.og=c||new F(0,0);this.ze=b||new F(1,1);this.yg=d||new F(1,1);this.bb=new F(1,1)};function oc(){this.lowerBound=new F(0,0);this.upperBound=new F(0,0)}function pc(a){return new F((a.lowerBound.x+a.upperBound.x)/2,(a.lowerBound.y+a.upperBound.y)/2)}function qc(a,c){var b;return b=(b=(b=(b=a.lowerBound.x<=c.lowerBound.x)&&a.lowerBound.y<=c.lowerBound.y)&&c.upperBound.x<=a.upperBound.x)&&c.upperBound.y<=a.upperBound.y}
oc.prototype.Sc=function(a){return a.lowerBound.x-this.upperBound.x>0?!1:a.lowerBound.y-this.upperBound.y>0?!1:this.lowerBound.x-a.upperBound.x>0?!1:this.lowerBound.y-a.upperBound.y>0?!1:!0};function rc(a,c,b){a.lowerBound.x=Math.min(c.lowerBound.x,b.lowerBound.x);a.lowerBound.y=Math.min(c.lowerBound.y,b.lowerBound.y);a.upperBound.x=Math.max(c.upperBound.x,b.upperBound.x);a.upperBound.y=Math.max(c.upperBound.y,b.upperBound.y)};function sc(a,c,b,d,e){this.Pb={};this.ea=a;this.ob=d;this.Ib=new F(d.x/b,d.y/b);this.scale=b;this.ha=new F(0,0);this.ie=new F(-1,-1);this.Ag=Q(this.ea.n,new F(this.Ib.x*1.25,this.Ib.y*1.25),new F(0,0),!1,q,{Id:!0});tc(this,new F(0,0));a=document.getElementById(c);this.Bc=document.createElement("span");if(e)a.innerHTML='<div style="width: '+this.ob.x+"px; height: "+this.ob.y/2+'px; background-color: #000; opacity: 0.15; position: absolute;"></div><div style="width: '+this.ob.x/2+"px; height: "+this.ob.y+
'px; background-color: #FFF; opacity: 0.15; position: absolute;"></div>',this.Bc.innerHTML='<canvas id="'+c+'__DEBUG" class="debugViewport"></canvas>';this.Bc.className="viewportContainer";this.Bc.style.width=this.ob.x+"px";this.Bc.style.height=this.ob.y+"px";this.display=document.createElement("span");this.display.className="viewport";this.Bc.appendChild(this.display);a.appendChild(this.Bc);this.ef=document.createElement("div");this.ef=uc(this,"Loading, please wait.");vc(this.ef);this.pg=uc(this,
"Paused");e?(this.Qa=document.getElementById(c+"__DEBUG"),this.Qa.width=this.ea.n.La.x*b,this.Qa.height=this.ea.n.La.y*b,this.Qa.style.marginRight="-"+this.Qa.width+"px",this.Qa.style.marginBottom="-"+this.Qa.height+"px",c=new fc,c.Zg(this.Qa.getContext("2d")),c.Vg(b),c.Wg(),c.Yg(),c.Xg(),this.ea.n.gb.Ug(c)):this.Qa=q}
function uc(a,c){var b=document.createElement("div");b.style.fontSize="40px";b.style.textAlign="center";b.style.verticalAlign="middle";b.style.backgroundColor="rgba(255,255,255,0.5)";b.style.color="black";b.style.position="relative";b.style.display="none";b.style.zIndex=100+wc;b.innerHTML=c;b.style.width=a.ob.x+"px";b.style.height=a.ob.y+"px";a.Bc.appendChild(b);return b}function vc(a){if(a.style.display=="none")a.style.display="table-cell"}
function xc(a){if(a.style.display!="none")a.style.display="none"}function tc(a,c){a.ha.x=c.x;a.ha.y=c.y;if(a.ha.x<a.Ib.x/2)a.ha.x=a.Ib.x/2;else if(a.ha.x>a.ea.n.La.x-a.Ib.x/2)a.ha.x=a.ea.n.La.x-a.Ib.x/2;if(a.ha.y<a.Ib.y/2)a.ha.y=a.Ib.y/2;else if(a.ha.y>a.ea.n.La.y-a.Ib.y/2)a.ha.y=a.ea.n.La.y-a.Ib.y/2}
function yc(a,c){if(a.display==q)a.display={},a.display.C=new oc,a.yh=function(a){var c=this.body?this.body.g.position:this.position.ja();return this.display.ue==0?c:new F(c.x+(a.x-c.x)*this.display.ue,c.y+(a.y-c.y)*this.display.ue)},a.xh=function(){return this.body?this.body.Jb():this.Pa},a.display.ue=0,a.display.Cg=0;a.display.size=c.ja()}function R(a,c,b){a.display.Be=new nc(c,b)}var wc=100,mc=0|ic|gc,zc=0;var Ac=function(){var a=window.Xi||window.$i||window.Si||window.Wi||window.Ti||function(a){window.setTimeout(a,1E3/60)};return function(){a.apply(window,arguments)}}();function Bc(){this.Gd=1;this.Qd=65535;this.Dc=0}Bc.prototype.ja=function(){var a=new Bc;a.Gd=this.Gd;a.Qd=this.Qd;a.Dc=this.Dc;return a};function Cc(){this.filter=new Bc;this.qc=this.shape=q;this.Xa=0.2;this.Vc=this.Hb=0;this.filter.Gd=1;this.filter.Qd=65535;this.filter.Dc=0;this.Id=!1};function Dc(){}Dc.prototype.xb=function(a,c){var b=a.kf.ja(),d=c.kf.ja();return b.Dc==d.Dc&&b.Dc!=0?b.Dc>0:(b.Qd&d.Gd)!=0&&(b.Gd&d.Qd)!=0};var Ec=new Dc;function Fc(){};function Gc(a){this.Ha=new Fc;this.Ia=new Fc;this.Oi=new F(0,0);this.Pi=new F(0,0);M(a.ba!=a.ca);this.u=a.type;this.s=this.la=q;this.za=a.ba;this.Aa=a.ca;this.dg=a.Uf;this.gd=a.qc}x=Gc.prototype;x.ae=aa(q);x.be=aa(q);x.uc=s("gd");x.Kb=function(){return this.za.Kb()&&this.Aa.Kb()};x.Pc=r();x.yc=r();x.Ke=r();x.xc=aa(!1);function Hc(){this.Td=q;this.qg=0};var S=!(Object.prototype.defineProperty instanceof Function)&&Object.prototype.__defineGetter__ instanceof Function&&Object.prototype.__defineSetter__ instanceof Function?function(a,c,b){b.get instanceof Function&&a.__defineGetter__(c,b.get);b.set instanceof Function&&a.__defineSetter__(c,b.set)}:Object.defineProperty;function Ic(a,c){return function(){c.apply(a,arguments)}};function Jc(){}S(Jc.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:s("Xe")});S(Jc.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function(a){a===i&&(a=0);this.Xe=a;this.fc.Oa=this.fc.Oa&4294967040|this.Xe&255}});S(Jc.prototype,"incidentEdge",{enumerable:!1,configurable:!0,get:s("Ue")});S(Jc.prototype,"incidentEdge",{enumerable:!1,configurable:!0,set:function(a){a===i&&(a=0);this.Ue=a;this.fc.Oa=this.fc.Oa&4294902015|this.Ue<<8&65280}});
S(Jc.prototype,"incidentVertex",{enumerable:!1,configurable:!0,get:s("Ve")});S(Jc.prototype,"incidentVertex",{enumerable:!1,configurable:!0,set:function(a){a===i&&(a=0);this.Ve=a;this.fc.Oa=this.fc.Oa&4278255615|this.Ve<<16&16711680}});S(Jc.prototype,"flip",{enumerable:!1,configurable:!0,get:s("Se")});S(Jc.prototype,"flip",{enumerable:!1,configurable:!0,set:function(a){a===i&&(a=0);this.Se=a;this.fc.Oa=this.fc.Oa&16777215|this.Se<<24&4278190080}});function Kc(){this.hb=new Jc;this.hb.fc=this}Kc.prototype.i=function(a){this.key=a.Oa};Kc.prototype.ja=function(){var a=new Kc;a.key=this.key;return a};S(Kc.prototype,"key",{enumerable:!1,configurable:!0,get:s("Oa"),set:function(a){a===i&&(a=0);this.Oa=a;this.hb.Xe=this.Oa&255;this.hb.Ue=(this.Oa&65280)>>8&255;this.hb.Ve=(this.Oa&16711680)>>16&255;this.hb.Se=(this.Oa&4278190080)>>24&255}});function Lc(){this.cb=new F(0,0);this.id=new Kc}Lc.prototype.i=function(a){this.cb.l(a.cb);this.id.i(a.id)};function Mc(){this.B=new F(0,0);this.Wb=new Kc;this.constructor===Mc&&this.ya()}Mc.prototype.ya=function(){this.B.da();this.Jc=this.Hc=0;this.Wb.key=0};Mc.prototype.i=function(a){this.B.l(a.B);this.Hc=a.Hc;this.Jc=a.Jc;this.Wb.i(a.Wb)};function Nc(){this.aa=0;if(this.constructor===Nc){this.A=[];for(var a=0;a<2;a++)this.A[a]=new Mc;this.qa=new F(0,0);this.B=new F(0,0)}}Nc.prototype.ya=function(){for(var a=0;a<2;a++)this.A[a].ya();this.qa.da();this.B.da();this.aa=this.u=0};Nc.prototype.i=function(a){this.aa=a.aa;for(var c=0;c<2;c++)this.A[c].i(a.A[c]);this.qa.l(a.qa);this.B.l(a.B);this.u=a.u};Nc.prototype.ja=function(){var a=new Nc;a.i(this);return a};function Oc(a,c,b,d){var e=0,f=c[0].cb,g=c[1].cb,h=b.x*f.x+b.y*f.y-d,b=b.x*g.x+b.y*g.y-d;h<=0&&a[e++].i(c[0]);b<=0&&a[e++].i(c[1]);if(h*b<0)b=h/(h-b),d=a[e].cb,d.x=f.x+b*(g.x-f.x),d.y=f.y+b*(g.y-f.y),a[e].id=h>0?c[0].id:c[1].id,e++;return e}
function Pc(a,c,b,d,e){b===i&&(b=0);for(var f=a.j,g=a.$,a=d.j,h=c.d.a.x*g[b].x+c.d.b.x*g[b].y,g=c.d.a.y*g[b].x+c.d.b.y*g[b].y,j=e.d.a.x*h+e.d.a.y*g,k=e.d.b.x*h+e.d.b.y*g,n=0,o=Number.MAX_VALUE,p=0;p<d.V;++p){var t=a[p].x*j+a[p].y*k;t<o&&(o=t,n=p)}return(e.position.x+(e.d.a.x*a[n].x+e.d.b.x*a[n].y)-(c.position.x+(c.d.a.x*f[b].x+c.d.b.x*f[b].y)))*h+(e.position.y+(e.d.a.y*a[n].x+e.d.b.y*a[n].y)-(c.position.y+(c.d.a.y*f[b].x+c.d.b.y*f[b].y)))*g}
function Qc(a,c,b,d,e){var f=c.$,g=e.position.x+(e.d.a.x*d.lb.x+e.d.b.x*d.lb.y),h=e.position.y+(e.d.a.y*d.lb.x+e.d.b.y*d.lb.y);g-=b.position.x+(b.d.a.x*c.lb.x+b.d.b.x*c.lb.y);h-=b.position.y+(b.d.a.y*c.lb.x+b.d.b.y*c.lb.y);for(var j=g*b.d.a.x+h*b.d.a.y,h=g*b.d.b.x+h*b.d.b.y,g=0,k=-Number.MAX_VALUE,n=0;n<c.V;++n){var o=f[n].x*j+f[n].y*h;o>k&&(k=o,g=n)}f=Pc(c,b,g,d,e);j=g-1;j<0&&(j=c.V-1);h=Pc(c,b,j,d,e);k=g+1;k>=c.V&&(k=0);var n=Pc(c,b,k,d,e),p=o=0,t=0;if(h>f&&h>n)t=-1,o=j,p=h;else if(n>f)t=1,o=k,
p=n;else return a[0]=g,f;for(;;)if(t==-1?(g=o-1,g<0&&(g=c.V-1)):(g=o+1,g>=c.V&&(g=0)),f=Pc(c,b,g,d,e),f>p)o=g,p=f;else break;a[0]=o;return p}var Rc=[new Lc,new Lc],Sc=[new Lc,new Lc],Tc=[new Lc,new Lc],Uc=[0],Vc=[0],Wc=new F(0,0),Xc=new F(0,0),Yc=new F(0,0),Zc=new F(0,0),$c=new F(0,0),ad=new F(0,0),bd=new F(0,0),cd=new F(0,0);function dd(){this.B=new F(0,0);this.pa=new F(0,0)}
dd.prototype.sa=function(a,c,b,d,e){this.mc=c;this.nc=d;var f=a.count;M(0<f&&f<3);var g,h,j=h=g=0,k=0,d=c=0,n,o,j=0;f==1?(this.u=ed,f=O(this.mc,a.fa[0]),a=O(this.nc,a.ga[0]),o=f,n=b.d,g=b.position.x+(n.a.x*o.x+n.b.x*o.y),h=b.position.y+(n.a.y*o.x+n.b.y*o.y),o=a,n=e.d,j=e.position.x+(n.a.x*o.x+n.b.x*o.y),k=e.position.y+(n.a.y*o.x+n.b.y*o.y),this.pa.x=j-g,this.pa.y=k-h,G(this.pa)):(a.ga[0]==a.ga[1]?(this.u=fd,c=O(this.mc,a.fa[0]),d=O(this.mc,a.fa[1]),a=O(this.nc,a.ga[0]),this.B.x=0.5*(c.x+d.x),this.B.y=
0.5*(c.y+d.y),this.pa=Db(J(d,c)),G(this.pa),o=this.pa,n=b.d,c=n.a.x*o.x+n.b.x*o.y,d=n.a.y*o.x+n.b.y*o.y,o=this.B,n=b.d,g=b.position.x+(n.a.x*o.x+n.b.x*o.y),h=b.position.y+(n.a.y*o.x+n.b.y*o.y),o=a,n=e.d,j=e.position.x+(n.a.x*o.x+n.b.x*o.y),k=e.position.y+(n.a.y*o.x+n.b.y*o.y),j=(j-g)*c+(k-h)*d):a.fa[0]==a.fa[0]?(this.u=gd,g=O(this.nc,a.ga[0]),h=O(this.nc,a.ga[1]),f=O(this.mc,a.fa[0]),this.B.x=0.5*(g.x+h.x),this.B.y=0.5*(g.y+h.y),this.pa=Db(J(h,g)),G(this.pa),o=this.pa,n=e.d,c=n.a.x*o.x+n.b.x*o.y,
d=n.a.y*o.x+n.b.y*o.y,o=this.B,n=e.d,j=e.position.x+(n.a.x*o.x+n.b.x*o.y),k=e.position.y+(n.a.y*o.x+n.b.y*o.y),o=f,n=b.d,g=b.position.x+(n.a.x*o.x+n.b.x*o.y),h=b.position.y+(n.a.y*o.x+n.b.y*o.y),j=(g-j)*c+(h-k)*d):(c=O(this.mc,a.fa[0]),d=O(this.mc,a.fa[1]),g=O(this.nc,a.ga[0]),h=O(this.nc,a.ga[1]),j=Eb(b.d,J(d,c)),k=Eb(e.d,J(h,g)),e=j.x*j.x+j.y*j.y,b=k.x*k.x+k.y*k.y,f=J(k,j),a=j.x*f.x+j.y*f.y,f=k.x*f.x+k.y*f.y,k=j.x*k.x+j.y*k.y,n=e*b-k*k,j=0,n!=0&&(j=K((k*f-a*b)/n,0,1)),(k*j+f)/b<0&&(j=K((k-a)/e,
0,1)),f=new F(0,0),f.x=c.x+j*(d.x-c.x),f.y=c.y+j*(d.y-c.y),a=new F(0,0),a.x=g.x+j*(h.x-g.x),a.y=g.y+j*(h.y-g.y),j==0||j==1?(this.u=gd,this.pa=Db(J(h,g)),G(this.pa),this.B=a):(this.u=fd,this.pa=Db(J(d,c)),this.B=f)),j<0&&this.pa.If())};
dd.prototype.wb=function(a,c){var b,d,e=0;switch(this.u){case ed:b=Fb(a.d,this.pa);d=Fb(c.d,this.pa.tc());b=this.mc.vd(b);d=this.nc.vd(d);b=I(a,b);d=I(c,d);e=(d.x-b.x)*this.pa.x+(d.y-b.y)*this.pa.y;break;case fd:e=Eb(a.d,this.pa);b=I(a,this.B);d=Fb(c.d,e.tc());d=this.nc.vd(d);d=I(c,d);e=(d.x-b.x)*e.x+(d.y-b.y)*e.y;break;case gd:e=Eb(c.d,this.pa);d=I(c,this.B);b=Fb(a.d,e.tc());b=this.mc.vd(b);b=I(a,b);e=(b.x-d.x)*e.x+(b.y-d.y)*e.y;break;default:M(!1)}return e};var ed=1,fd=2,gd=4;var hd=0,id=0,jd=0,kd=0,ld=0,md=new Tb,nd=new Rb,od=new Xb,pd=new Xb,qd=new dd,rd=new Sb;function sd(){this.v=new F(0,0);this.oa=new F(0,0);this.h=new F(0,0)}sd.prototype.i=function(a){this.v.l(a.v);this.oa.l(a.oa);this.h.l(a.h);this.fb=a.fb;this.k=a.k;this.na=a.na};sd.prototype.ja=function(){var a=new sd;a.v.l(this.v);a.oa.l(this.oa);a.h.l(this.h);a.fb=this.fb;a.k=this.k;a.na=this.na;return a};
sd.prototype.qb=function(a,c){c===i&&(c=0);a.position.x=(1-c)*this.oa.x+c*this.h.x;a.position.y=(1-c)*this.oa.y+c*this.h.y;a.d.i((1-c)*this.fb+c*this.k);var b=a.d;a.position.x-=b.a.x*this.v.x+b.b.x*this.v.y;a.position.y-=b.a.y*this.v.x+b.b.y*this.v.y};sd.prototype.cc=function(a){a===i&&(a=0);if(this.na<a&&1-this.na>Number.MIN_VALUE){var c=(a-this.na)/(1-this.na);this.oa.x=(1-c)*this.oa.x+c*this.h.x;this.oa.y=(1-c)*this.oa.y+c*this.h.y;this.fb=(1-c)*this.fb+c*this.k;this.na=a}};function td(){};function ud(){this.position=new F(0,0);this.cg=new F(0,0);this.qc=q;this.position.da();this.Pa=0;this.cg.da();this.eh=this.Kh=this.fh=0;this.gh=this.dh=!0;this.kh=this.Zc=!1;this.type=T;this.bh=!0;this.Dh=1}var T=0;function U(){this.va=new td;this.wa=new td;this.Ta=new Nc;this.Od=new Nc}function vd(a,c){var b=a.H.p,d=a.D.U,e=a.H.U;c.sa(a.Ta,a.D.p.qb(),d.F,b.qb(),e.F)}U.prototype.Lb=s("ye");
U.prototype.ya=function(a,c){a===i&&(a=q);c===i&&(c=q);this.enabled=!0;this.ge=this.Lc=this.Ze=this.ye=!1;if(!a||!c)this.H=this.D=q;else{if(a.Lb()||c.Lb())this.ye=!0;var b=a.p,d=c.p;if(b.u!=2||(b.Cb&wd)==wd||d.u!=2||(d.Cb&wd)==wd)this.Ze=!0;this.D=a;this.H=c;this.Ta.aa=0;this.s=this.la=q;this.va.ia=q;this.va.X=q;this.va.next=q;this.va.R=q;this.wa.ia=q;this.wa.X=q;this.wa.next=q;this.wa.R=q}};
function xd(a,c){var b=a.Od;a.Od=a.Ta;a.Ta=b;a.enabled=!0;var d=!1,b=a.Lc,e=a.D.p,f=a.H.p,g=a.D.Tb.Sc(a.H.Tb);if(a.ye){if(g){var d=a.D.U,e=e.qb(),g=a.H.U,h=f.qb(),f=new Rb;f.$a=new Ub;f.$a.i(d);f.ab=new Ub;f.ab.i(g);f.Ce=e;f.De=h;f.zg=!0;e=new Tb;e.count=0;d=new Sb;Pb(d,e,f);d=d.Yc<10*Number.MIN_VALUE}a.Ta.aa=0}else{a.Ze=e.u!=2||(e.Cb&wd)==wd||f.u!=2||(f.Cb&wd)==wd?!0:!1;if(g){a.wb();d=a.Ta.aa>0;for(g=0;g<a.Ta.aa;g++){h=a.Ta.A[g];h.Hc=0;for(var j=h.Jc=0;j<a.Od.aa;j++){var k=a.Od.A[j];if(k.Wb.key==
h.Wb.key){h.Hc=k.Hc;h.Jc=k.Jc;break}}}}else a.Ta.aa=0;d!=b&&(W(e,!0),W(f,!0))}a.Lc=d;!b&&d&&c.qd(a);b&&!d&&c.Nc(a);a.ye||c.Cd(a,a.Od)}U.prototype.wb=r();var yd=new function(){this.$a=new Ub;this.ab=new Ub;this.wg=new sd;this.xg=new sd};function zd(){U.call(this)}A(zd,U);function Ad(){return new zd}zd.prototype.ya=function(a,c){U.prototype.ya.call(this,a,c)};zd.prototype.wb=function(){var a=this.Ta,c=this.D.U,b=this.D.p.g,d=this.H.U,e=this.H.p.g;a.aa=0;var f=e.position.x+(e.d.a.x*d.T.x+e.d.b.x*d.T.y)-(b.position.x+(b.d.a.x*c.T.x+b.d.b.x*c.T.y)),b=e.position.y+(e.d.a.y*d.T.x+e.d.b.y*d.T.y)-(b.position.y+(b.d.a.y*c.T.x+b.d.b.y*c.T.y)),e=c.F+d.F;if(!(f*f+b*b>e*e))a.u=1,a.B.l(c.T),a.qa.da(),a.aa=1,a.A[0].B.l(d.T),a.A[0].Wb.key=0};function Bd(){U.call(this)}A(Bd,U);function Cd(){return new Bd}Bd.prototype.ya=function(a,c){U.prototype.ya.call(this,a,c)};Bd.prototype.wb=r();function Dd(a){this.F=0.005;this.F=a;this.T=new F(0,0)}A(Dd,Vb);x=Dd.prototype;x.wd=aa("b2CircleShape");x.ja=function(){var a=new Dd(this.F);a.i(this);return a};x.i=function(a){Vb.prototype.i.call(this,a);a instanceof Dd&&this.T.l(a.T)};x.rd=function(a,c){var b=c.d,d=c.position.x+(b.a.x*this.T.x+b.b.x*this.T.y),b=c.position.y+(b.a.y*this.T.x+b.b.y*this.T.y);a.lowerBound.i(d-this.F,b-this.F);a.upperBound.i(d+this.F,b+this.F)};
x.He=function(a,c){a.oc=c*Math.PI*this.F*this.F;a.zc.l(this.T);a.xd=a.oc*(0.5*this.F*this.F+(this.T.x*this.T.x+this.T.y*this.T.y))};x.Pe=function(a){a.j=[this.T];a.t=1;a.F=this.F};function Ed(){U.call(this)}A(Ed,U);function Fd(){return new Ed}Ed.prototype.ya=function(a,c){M(a.U instanceof P);M(c.U instanceof Dd);U.prototype.ya.call(this,a,c)};
Ed.prototype.wb=function(){a:{var a=this.Ta,c=this.D.U,b=this.D.p.g,d=this.H.U,e=this.H.p.g;a.aa=0;for(var f=e.position.x+(e.d.a.x*d.T.x+e.d.b.x*d.T.y)-b.position.x,g=e.position.y+(e.d.a.y*d.T.x+e.d.b.y*d.T.y)-b.position.y,e=f*b.d.a.x+g*b.d.a.y,b=f*b.d.b.x+g*b.d.b.y,f=0,g=-Number.MAX_VALUE,h=c.F+d.F,j=0;j<c.V;++j){var k=c.$[j].x*(e-c.j[j].x)+c.$[j].y*(b-c.j[j].y);if(k>h)break a;k>g&&(g=k,f=j)}k=f+1;k>=c.V&&(k=0);var j=c.j[f],n=c.j[k];if(g<Number.MIN_VALUE)a.aa=1,a.u=2,a.qa.l(c.$[f]),a.B.x=0.5*(j.x+
n.x),a.B.y=0.5*(j.y+n.y);else if((e-j.x)*(n.x-j.x)+(b-j.y)*(n.y-j.y)<=0){if((e-j.x)*(e-j.x)+(b-j.y)*(b-j.y)>h*h)break a;a.aa=1;a.u=2;a.qa.x=e-j.x;a.qa.y=b-j.y;G(a.qa);a.B.l(j)}else if((e-n.x)*(j.x-n.x)+(b-n.y)*(j.y-n.y)<=0){if((e-n.x)*(e-n.x)+(b-n.y)*(b-n.y)>h*h)break a;a.aa=1;a.u=2;a.qa.x=e-n.x;a.qa.y=b-n.y;G(a.qa);a.B.l(n)}else{k=0.5*(j.x+n.x);j=0.5*(j.y+n.y);g=(e-k)*c.$[f].x+(b-j)*c.$[f].y;if(g>h)break a;a.aa=1;a.u=2;a.qa.x=c.$[f].x;a.qa.y=c.$[f].y;G(a.qa);a.B.i(k,j)}a.A[0].B.l(d.T);a.A[0].Wb.key=
0}};function Gd(){U.call(this)}A(Gd,U);function Hd(){return new Gd}Gd.prototype.ya=function(a,c){M(a.U instanceof P);M(!1);U.prototype.ya.call(this,a,c)};Gd.prototype.wb=r();function Id(){U.call(this)}A(Id,U);function Jd(){return new Id}Id.prototype.ya=function(a,c){U.prototype.ya.call(this,a,c)};
Id.prototype.wb=function(){var a=this.Ta,c=this.D.U,b=this.D.p.g,d=this.H.U,e=this.H.p.g;a.aa=0;var f=c.F+d.F;Uc[0]=0;var g=Qc(Uc,c,b,d,e);if(!(g>f)){Vc[0]=0;var h=Qc(Vc,d,e,c,b);if(!(h>f)){var j=c,k=d,n=b,o=e,p=Uc[0],t=0;a.u=2;if(h>0.98*g+0.001)j=d,k=c,n=e,o=b,p=Vc[0],a.u=4,t=1;c=p;b=o;c===i&&(c=0);for(var d=n.d.a.x*j.$[c].x+n.d.b.x*j.$[c].y,e=n.d.a.y*j.$[c].x+n.d.b.y*j.$[c].y,g=b.d.a.x*d+b.d.a.y*e,e=b.d.b.x*d+b.d.b.y*e,d=g,g=0,h=Number.MAX_VALUE,v=0;v<k.V;v++){var u=d*k.$[v].x+e*k.$[v].y;u<h&&(h=
u,g=v)}d=g+1;d>=k.V&&(d=0);Rc[0].cb.x=b.position.x+(b.d.a.x*k.j[g].x+b.d.b.x*k.j[g].y);Rc[0].cb.y=b.position.y+(b.d.a.y*k.j[g].x+b.d.b.y*k.j[g].y);Rc[0].id.hb.mi=c;Rc[0].id.hb.Bh=g;Rc[0].id.hb.Ch=0;Rc[1].cb.x=b.position.x+(b.d.a.x*k.j[d].x+b.d.b.x*k.j[d].y);Rc[1].cb.y=b.position.y+(b.d.a.y*k.j[d].x+b.d.b.y*k.j[d].y);Rc[1].id.hb.mi=c;Rc[1].id.hb.Bh=d;Rc[1].id.hb.Ch=1;c=j.j[p];j=p+1<j.V?j.j[p+1]:j.j[0];Wc.i(j.x-c.x,j.y-c.y);G(Wc);Xc.x=Wc.y;Xc.y=-Wc.x;Yc.i(0.5*(c.x+j.x),0.5*(c.y+j.y));$c.x=n.d.a.x*Wc.x+
n.d.b.x*Wc.y;$c.y=n.d.a.y*Wc.x+n.d.b.y*Wc.y;ad.x=-$c.x;ad.y=-$c.y;Zc.x=$c.y;Zc.y=-$c.x;bd.x=n.position.x+(n.d.a.x*c.x+n.d.b.x*c.y);bd.y=n.position.y+(n.d.a.y*c.x+n.d.b.y*c.y);cd.x=n.position.x+(n.d.a.x*j.x+n.d.b.x*j.y);cd.y=n.position.y+(n.d.a.y*j.x+n.d.b.y*j.y);if(!(Oc(Sc,Rc,ad,-$c.x*bd.x-$c.y*bd.y+f)<2)&&!(Oc(Tc,Sc,$c,$c.x*cd.x+$c.y*cd.y+f)<2)){a.qa.l(Xc);a.B.l(Yc);n=Zc.x*bd.x+Zc.y*bd.y;for(p=j=0;p<2;++p)if(Zc.x*Tc[p].cb.x+Zc.y*Tc[p].cb.y-n<=f)c=Tc[p].cb.x-o.position.x,k=Tc[p].cb.y-o.position.y,
a.A[j].B.x=c*o.d.a.x+k*o.d.a.y,a.A[j].B.y=c*o.d.b.x+k*o.d.b.y,a.A[j].Wb.i(Tc[p].id),a.A[j].Wb.hb.Hi=t,j++;a.aa=j}}}};function Kd(){this.mb=[];Ld(this,Ad,"b2CircleShape","b2CircleShape");Ld(this,Fd,"b2PolygonShape","b2CircleShape");Ld(this,Jd,"b2PolygonShape","b2PolygonShape");Ld(this,Cd,"b2EdgeShape","b2CircleShape");Ld(this,Hd,"b2PolygonShape","b2EdgeShape")}function Ld(a,c,b,d){a.mb[b]=a.mb[b]||[];a.mb[b][d]=new Hc;a.mb[b][d].Wf=c;a.mb[b][d].rg=!0;if(b!=d)a.mb[d]=a.mb[d]||[],a.mb[d][b]=new Hc,a.mb[d][b].Wf=c,a.mb[d][b].rg=!1}
Kd.prototype.Mc=function(a,c){var b=this.mb[a.U.wd()][c.U.wd()],d;if(b.Td)return d=b.Td,b.Td=d.s,b.qg--,d.ya(a,c),d;d=b.Wf;return d!=q?(b.rg?(d=d(),d.ya(a,c)):(d=d(),d.ya(c,a)),d):q};Kd.prototype.dc=function(a){a.Ta.aa>0&&(W(a.D.p,!0),W(a.H.p,!0));var c=this.mb[a.D.U.wd()][a.H.U.wd()];c.qg++;a.s=c.Td;c.Td=a};function Md(){};function Nd(){this.C=new oc;this.parent=this.Nb=this.Ma=q};function Od(){if(this.constructor===Od)this.Fb=q,this.Rh=this.Qi=0}x=Od.prototype;x.sd=function(a,c){var b=new Nd;b.C.lowerBound.x=a.lowerBound.x-0.1;b.C.lowerBound.y=a.lowerBound.y-0.1;b.C.upperBound.x=a.upperBound.x+0.1;b.C.upperBound.y=a.upperBound.y+0.1;b.qc=c;Pd(this,b);return b};x.td=function(a){Qd(this,a)};
x.Ne=function(a,c,b){M(a.Ma===q);if(qc(a.C,c))return!1;Qd(this,a);var d=0.1+2*Math.abs(b.x),b=0.1+2*Math.abs(b.y);a.C.lowerBound.x=c.lowerBound.x-d;a.C.lowerBound.y=c.lowerBound.y-b;a.C.upperBound.x=c.upperBound.x+d;a.C.upperBound.y=c.upperBound.y+b;Pd(this,a);return!0};x.Oc=function(a){return a.C};x.uc=function(a){return a.qc};x.Oe=function(a,c){if(this.Fb!==q){var b=[];for(b.push(this.Fb);b.length>0;){var d=b.pop();if(d.C.Sc(c))if(d.Ma===q){if(!a(d))break}else b.push(d.Ma),b.push(d.Nb)}}};
function Pd(a,c){a.Rh++;if(a.Fb===q)a.Fb=c,a.Fb.parent=q;else{for(var b=pc(c.C),d=a.Fb;d.Ma!==q;)var e=d.Ma,d=d.Nb,d=Math.abs((e.C.lowerBound.x+e.C.upperBound.x)/2-b.x)+Math.abs((e.C.lowerBound.y+e.C.upperBound.y)/2-b.y)<Math.abs((d.C.lowerBound.x+d.C.upperBound.x)/2-b.x)+Math.abs((d.C.lowerBound.y+d.C.upperBound.y)/2-b.y)?e:d;b=d.parent;e=new Nd;e.parent=b;e.qc=q;rc(e.C,c.C,d.C);if(b){d.parent.Ma==d?b.Ma=e:b.Nb=e;e.Ma=d;e.Nb=c;d.parent=e;for(c.parent=e;b;){if(qc(b.C,e.C))break;rc(b.C,b.Ma.C,b.Nb.C);
e=b;b=b.parent}}else e.Ma=d,e.Nb=c,d.parent=e,c.parent=e,a.Fb=e}}function Qd(a,c){if(c==a.Fb)a.Fb=q;else{var b=c.parent,d=b.parent,e;e=b.Ma==c?b.Nb:b.Ma;if(d){d.Ma==b?d.Ma=e:d.Nb=e;for(e.parent=d;d;){b=d.C;e=d;var f=new oc;rc(f,d.Ma.C,d.Nb.C);e.C=f;if(qc(b,d.C))break;d=d.parent}}else a.Fb=e,e.parent=q}};function Rd(){this.nb=new Od;this.Yb=[];this.Pd=[];this.lg=this.Ic=0}x=Rd.prototype;x.sd=function(a,c){var b=this.nb.sd(a,c);this.lg++;return this.Yb[this.Yb.length]=b};x.td=function(a){this.Yb.splice(this.Yb.indexOf(a),1);this.lg--;this.nb.td(a)};x.Ne=function(a,c,b){this.nb.Ne(a,c,b)&&(this.Yb[this.Yb.length]=a)};x.Sc=function(a,c){return this.nb.Oc(a).Sc(this.nb.Oc(c))};x.uc=function(a){return this.nb.uc(a)};x.Oc=function(a){return this.nb.Oc(a)};
function Sd(a,c){for(var b=a.Ic=0;b<a.Yb.length;b++){var d=a.Yb[b];a.nb.Oe(function(b){if(b==d)return!0;a.Ic==a.Pd.length&&(a.Pd[a.Ic]=new Md);var c=a.Pd[a.Ic];c.$a=b<d?b:d;c.ab=b>=d?b:d;a.Ic++;return!0},a.nb.Oc(d))}for(b=a.Yb.length=0;b<a.Ic;){var e=a.Pd[b];c(a.nb.uc(e.$a),a.nb.uc(e.ab));for(b++;b<a.Ic;){var f=a.Pd[b];if(f.$a!=e.$a||f.ab!=e.ab)break;b++}}}x.Oe=function(a,c){this.nb.Oe(a,c)};function Td(){}Td.prototype.qd=r();Td.prototype.Nc=r();Td.prototype.Cd=r();Td.prototype.Bd=r();var Ud=new Td;function Vd(a){this.Ka=a;this.Sa=0;this.gf=Ec;this.dd=Ud;this.eg=new Kd;this.Ec=new Rd}
Vd.prototype.Dg=function(a,c){var b=a.p,d=c.p;if(b!=d&&d.xb(b)&&this.gf.xb(a,c)){for(d=d.N;d;){if(d.R==b){var e=d.ia.D,f=d.ia.H;if(e==a&&f==c)return;if(e==c&&f==a)return}d=d.next}e=this.eg.Mc(a,c);a=e.D;c=e.H;b=a.p;d=c.p;e.la=q;e.s=this.Ka.N;if(this.Ka.N!=q)this.Ka.N.la=e;this.Ka.N=e;e.va.ia=e;e.va.R=d;e.va.X=q;e.va.next=b.N;if(b.N!=q)b.N.X=e.va;b.N=e.va;e.wa.ia=e;e.wa.R=b;e.wa.X=q;e.wa.next=d.N;if(d.N!=q)d.N.X=e.wa;d.N=e.wa;this.Ka.Sa++}};function Wd(a){Sd(a.Ec,Ic(a,a.Dg))}
Vd.prototype.dc=function(a){var c=a.D.p,b=a.H.p;a.Lc&&this.dd.Nc(a);if(a.la)a.la.s=a.s;if(a.s)a.s.la=a.la;if(a==this.Ka.N)this.Ka.N=a.s;if(a.va.X)a.va.X.next=a.va.next;if(a.va.next)a.va.next.X=a.va.X;if(a.va==c.N)c.N=a.va.next;if(a.wa.X)a.wa.X.next=a.wa.next;if(a.wa.next)a.wa.next.X=a.wa.X;if(a.wa==b.N)b.N=a.wa.next;this.eg.dc(a);this.Sa--};new function(){this.position=new F(0,0);this.Zi=new F(0,0);this.Zb=new F(0,0);this.id=new Kc};function X(a,c,b){this.We=255*K(a,0,1);this.Te=255*K(c,0,1);this.Re=255*K(b,0,1)}X.prototype.i=function(a,c,b){this.We=255*K(a,0,1);this.Te=255*K(c,0,1);this.Re=255*K(b,0,1)};S(X.prototype,"r",{enumerable:!1,configurable:!0,set:function(a){this.We=255*K(a,0,1)}});S(X.prototype,"g",{enumerable:!1,configurable:!0,set:function(a){this.Te=255*K(a,0,1)}});S(X.prototype,"b",{enumerable:!1,configurable:!0,set:function(a){this.Re=255*K(a,0,1)}});
S(X.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this.We<<16|this.Te<<8|this.Re}});var Qb=Number.MIN_VALUE*Number.MIN_VALUE;function Xd(){this.I=new F(0,0);this.A=[];for(var a=0;a<2;a++)this.A[a]=new F(0,0)}
Xd.prototype.sa=function(a,c,b,d,e){b===i&&(b=0);e===i&&(e=0);if(a.aa!=0){var f=0,g,h,j=0,k=0,n=0,o=0,p=0;g=0;switch(a.u){case 1:h=c.d;g=a.B;f=c.position.x+h.a.x*g.x+h.b.x*g.y;c=c.position.y+h.a.y*g.x+h.b.y*g.y;h=d.d;g=a.A[0].B;a=d.position.x+h.a.x*g.x+h.b.x*g.y;d=d.position.y+h.a.y*g.x+h.b.y*g.y;g=a-f;h=d-c;j=g*g+h*h;j>Qb?(j=Math.sqrt(j),this.I.x=g/j,this.I.y=h/j):(this.I.x=1,this.I.y=0);g=c+b*this.I.y;d-=e*this.I.y;this.A[0].x=0.5*(f+b*this.I.x+(a-e*this.I.x));this.A[0].y=0.5*(g+d);break;case 2:h=
c.d;g=a.qa;j=h.a.x*g.x+h.b.x*g.y;k=h.a.y*g.x+h.b.y*g.y;h=c.d;g=a.B;n=c.position.x+h.a.x*g.x+h.b.x*g.y;o=c.position.y+h.a.y*g.x+h.b.y*g.y;this.I.x=j;this.I.y=k;for(f=0;f<a.aa;f++)h=d.d,g=a.A[f].B,p=d.position.x+h.a.x*g.x+h.b.x*g.y,g=d.position.y+h.a.y*g.x+h.b.y*g.y,this.A[f].x=p+0.5*(b-(p-n)*j-(g-o)*k-e)*j,this.A[f].y=g+0.5*(b-(p-n)*j-(g-o)*k-e)*k;break;case 4:h=d.d;g=a.qa;j=h.a.x*g.x+h.b.x*g.y;k=h.a.y*g.x+h.b.y*g.y;h=d.d;g=a.B;n=d.position.x+h.a.x*g.x+h.b.x*g.y;o=d.position.y+h.a.y*g.x+h.b.y*g.y;
this.I.x=-j;this.I.y=-k;for(f=0;f<a.aa;f++)h=c.d,g=a.A[f].B,p=c.position.x+h.a.x*g.x+h.b.x*g.y,g=c.position.y+h.a.y*g.x+h.b.y*g.y,this.A[f].x=p+0.5*(e-(p-n)*j-(g-o)*k-b)*j,this.A[f].y=g+0.5*(e-(p-n)*j-(g-o)*k-b)*k}}};function Yd(){}Yd.prototype.i=function(a){this.Y=a.Y;this.jb=a.jb;this.kd=a.kd;this.nd=a.nd;this.od=a.od};function Zd(){this.Ab=new F(0,0);this.J=new F(0,0);this.K=new F(0,0)};function $d(){this.je=new F(0,0);this.Ab=new F(0,0);this.Zb=new F(0,0);this.jd=new Ab;this.rb=new Ab;this.Da=[];for(var a=0;a<2;a++)this.Da[a]=new Zd};function ae(){this.I=new F(0,0);this.re=[];this.A=[];for(var a=0;a<2;a++)this.A[a]=new F(0,0)}
ae.prototype.sa=function(a){M(a.Za>0);var c=0,b=0,d=0,e=0,f=0;switch(a.type){case 1:var g=a.ba.g.d,d=a.Ab,c=a.ba.g.position.x+(g.a.x*d.x+g.b.x*d.y),b=a.ba.g.position.y+(g.a.y*d.x+g.b.y*d.y),g=a.ca.g.d,d=a.Da[0].Ab,e=a.ca.g.position.x+(g.a.x*d.x+g.b.x*d.y),g=a.ca.g.position.y+(g.a.y*d.x+g.b.y*d.y),d=e-c,f=g-b,h=d*d+f*f;h>Qb?(h=Math.sqrt(h),this.I.x=d/h,this.I.y=f/h):(this.I.x=1,this.I.y=0);this.A[0].x=0.5*(c+e);this.A[0].y=0.5*(b+g);this.re[0]=d*this.I.x+f*this.I.y-a.wf;break;case 2:g=a.ba.g.d;d=a.je;
this.I.x=g.a.x*d.x+g.b.x*d.y;this.I.y=g.a.y*d.x+g.b.y*d.y;g=a.ba.g.d;d=a.Ab;e=a.ba.g.position.x+(g.a.x*d.x+g.b.x*d.y);f=a.ba.g.position.y+(g.a.y*d.x+g.b.y*d.y);g=a.ca.g.d;for(c=0;c<a.Za;c++)d=a.Da[c].Ab,b=a.ca.g.position.x+(g.a.x*d.x+g.b.x*d.y),d=a.ca.g.position.y+(g.a.y*d.x+g.b.y*d.y),this.re[c]=(b-e)*this.I.x+(d-f)*this.I.y-a.wf,this.A[c].x=b,this.A[c].y=d;break;case 4:g=a.ca.g.d;d=a.je;this.I.x=g.a.x*d.x+g.b.x*d.y;this.I.y=g.a.y*d.x+g.b.y*d.y;g=a.ca.g.d;d=a.Ab;e=a.ca.g.position.x+(g.a.x*d.x+g.b.x*
d.y);f=a.ca.g.position.y+(g.a.y*d.x+g.b.y*d.y);g=a.ba.g.d;for(c=0;c<a.Za;c++)d=a.Da[c].Ab,b=a.ba.g.position.x+(g.a.x*d.x+g.b.x*d.y),d=a.ba.g.position.y+(g.a.y*d.x+g.b.y*d.y),this.re[c]=(b-e)*this.I.x+(d-f)*this.I.y-a.wf,this.A[c].i(b,d);this.I.x*=-1;this.I.y*=-1}};function be(){this.Zh=new Yd;this.Bb=[]}x=be.prototype;
x.sa=function(a,c,b){b===i&&(b=0);var d;this.Zh.i(a);a=0;for(this.Md=b;this.Bb.length<this.Md;)this.Bb[this.Bb.length]=new $d;for(a=0;a<b;++a){d=c[a];var e=d.D,f=d.H,g=e.U.F,h=f.U.F,j=e.p,k=f.p,n=d.Ta,o;d=e.lf;var p=f.lf;d===i&&(d=0);p===i&&(p=0);o=Math.sqrt(d*p);var t,e=e.nf,f=f.nf;e===i&&(e=0);f===i&&(f=0);t=e>f?e:f;var p=j.q.x,v=j.q.y,u=k.q.x,w=k.q.y,y=j.G,L=k.G;M(n.aa>0);ce.sa(n,j.g,g,k.g,h);e=ce.I.x;d=ce.I.y;f=this.Bb[a];f.ba=j;f.ca=k;f.$h=n;f.Zb.x=e;f.Zb.y=d;f.Za=n.aa;f.Xa=o;f.Hb=t;f.je.x=n.qa.x;
f.je.y=n.qa.y;f.Ab.x=n.B.x;f.Ab.y=n.B.y;f.wf=g+h;f.type=n.u;for(g=0;g<f.Za;++g){o=n.A[g];h=f.Da[g];h.ma=o.Hc;h.bc=o.Jc;h.Ab.l(o.B);o=h.J.x=ce.A[g].x-j.c.h.x;t=h.J.y=ce.A[g].y-j.c.h.y;var C=h.K.x=ce.A[g].x-k.c.h.x,l=h.K.y=ce.A[g].y-k.c.h.y,m=o*d-t*e,H=C*d-l*e;m*=m;H*=H;h.jd=1/(j.z+k.z+j.L*m+k.L*H);var V=j.m*j.z+k.m*k.z;V+=j.m*j.L*m+k.m*k.L*H;h.th=1/V;H=d;V=-e;m=o*V-t*H;H=C*V-l*H;m*=m;H*=H;h.si=1/(j.z+k.z+j.L*m+k.L*H);h.Ee=0;o=f.Zb.x*(u+-L*l-p- -y*t)+f.Zb.y*(w+L*C-v-y*o);o<-1&&(h.Ee+=-f.Hb*o)}if(f.Za==
2)w=f.Da[0],u=f.Da[1],n=j.z,j=j.L,p=k.z,k=k.L,v=w.J.x*d-w.J.y*e,w=w.K.x*d-w.K.y*e,y=u.J.x*d-u.J.y*e,u=u.K.x*d-u.K.y*e,e=n+p+j*v*v+k*w*w,d=n+p+j*y*y+k*u*u,k=n+p+j*v*y+k*w*u,e*e<100*(e*d-k*k)?(f.rb.a.i(e,k),f.rb.b.i(k,d),k=f.rb,f=f.jd,j=k.a.x*k.b.y-k.b.x*k.a.y,j!==0&&(j=1/j),f.a.x=j*k.b.y,f.b.x=-j*k.b.x,f.a.y=-j*k.a.y,f.b.y=j*k.a.x):f.Za=1}};
x.Pc=function(a){for(var c=0;c<this.Md;++c){var b=this.Bb[c],d=b.ba,e=b.ca,f=d.z,g=d.L,h=e.z,j=e.L,k=b.Zb.x,n=b.Zb.y,o=n,p=-k,t=0,v=0;if(a.od){v=b.Za;for(t=0;t<v;++t){var u=b.Da[t];u.ma*=a.Qb;u.bc*=a.Qb;var w=u.ma*k+u.bc*o,y=u.ma*n+u.bc*p;d.G-=g*(u.J.x*y-u.J.y*w);d.q.x-=f*w;d.q.y-=f*y;e.G+=j*(u.K.x*y-u.K.y*w);e.q.x+=h*w;e.q.y+=h*y}}else{v=b.Za;for(t=0;t<v;++t)d=b.Da[t],d.ma=0,d.bc=0}}};
x.yc=function(){for(var a=0,c,b=0,d=0,e=0,f=d=d=b=b=0,g=b=b=0,h=b=e=0,j=0,k,n=0;n<this.Md;++n){var e=this.Bb[n],o=e.ba,p=e.ca,t=o.G,v=p.G,u=o.q,w=p.q,y=o.z,L=o.L,C=p.z,l=p.L,h=e.Zb.x,m=j=e.Zb.y;k=-h;g=e.Xa;for(a=0;a<e.Za;a++)c=e.Da[a],b=w.x-v*c.K.y-u.x+t*c.J.y,d=w.y+v*c.K.x-u.y-t*c.J.x,b=b*m+d*k,b=c.si*-b,d=g*c.ma,d=K(c.bc+b,-d,d),b=d-c.bc,f=b*m,b*=k,u.x-=y*f,u.y-=y*b,t-=L*(c.J.x*b-c.J.y*f),w.x+=C*f,w.y+=C*b,v+=l*(c.K.x*b-c.K.y*f),c.bc=d;if(e.Za==1)c=e.Da[0],b=w.x+-v*c.K.y-u.x- -t*c.J.y,d=w.y+v*c.K.x-
u.y-t*c.J.x,e=b*h+d*j,b=-c.jd*(e-c.Ee),d=c.ma+b,d=d>0?d:0,b=d-c.ma,f=b*h,b*=j,u.x-=y*f,u.y-=y*b,t-=L*(c.J.x*b-c.J.y*f),w.x+=C*f,w.y+=C*b,v+=l*(c.K.x*b-c.K.y*f),c.ma=d;else{c=e.Da[0];var a=e.Da[1],b=c.ma,g=a.ma,H=(w.x-v*c.K.y-u.x+t*c.J.y)*h+(w.y+v*c.K.x-u.y-t*c.J.x)*j,V=(w.x-v*a.K.y-u.x+t*a.J.y)*h+(w.y+v*a.K.x-u.y-t*a.J.x)*j,d=H-c.Ee,f=V-a.Ee;k=e.rb;d-=k.a.x*b+k.b.x*g;for(f-=k.a.y*b+k.b.y*g;;){k=e.jd;m=-(k.a.x*d+k.b.x*f);k=-(k.a.y*d+k.b.y*f);if(m>=0&&k>=0){b=m-b;g=k-g;e=b*h;b*=j;h*=g;j*=g;u.x-=y*(e+
h);u.y-=y*(b+j);t-=L*(c.J.x*b-c.J.y*e+a.J.x*j-a.J.y*h);w.x+=C*(e+h);w.y+=C*(b+j);v+=l*(c.K.x*b-c.K.y*e+a.K.x*j-a.K.y*h);c.ma=m;a.ma=k;break}m=-c.jd*d;k=0;V=e.rb.a.y*m+f;if(m>=0&&V>=0){b=m-b;g=k-g;e=b*h;b*=j;h*=g;j*=g;u.x-=y*(e+h);u.y-=y*(b+j);t-=L*(c.J.x*b-c.J.y*e+a.J.x*j-a.J.y*h);w.x+=C*(e+h);w.y+=C*(b+j);v+=l*(c.K.x*b-c.K.y*e+a.K.x*j-a.K.y*h);c.ma=m;a.ma=k;break}m=0;k=-a.jd*f;H=e.rb.b.x*k+d;if(k>=0&&H>=0){b=m-b;g=k-g;e=b*h;b*=j;h*=g;j*=g;u.x-=y*(e+h);u.y-=y*(b+j);t-=L*(c.J.x*b-c.J.y*e+a.J.x*j-a.J.y*
h);w.x+=C*(e+h);w.y+=C*(b+j);v+=l*(c.K.x*b-c.K.y*e+a.K.x*j-a.K.y*h);c.ma=m;a.ma=k;break}k=m=0;H=d;V=f;if(H>=0&&V>=0){b=m-b;g=k-g;e=b*h;b*=j;h*=g;j*=g;u.x-=y*(e+h);u.y-=y*(b+j);t-=L*(c.J.x*b-c.J.y*e+a.J.x*j-a.J.y*h);w.x+=C*(e+h);w.y+=C*(b+j);v+=l*(c.K.x*b-c.K.y*e+a.K.x*j-a.K.y*h);c.ma=m;a.ma=k;break}break}}o.G=t;p.G=v}};x.Ke=function(){for(var a=0;a<this.Md;++a)for(var c=this.Bb[a],b=c.$h,d=0;d<c.Za;++d){var e=b.A[d],f=c.Da[d];e.Hc=f.ma;e.Jc=f.bc}};
x.xc=function(a){a===i&&(a=0);for(var c=0,b=0;b<this.Md;b++){var d=this.Bb[b],e=d.ba,f=d.ca,g=e.m*e.z,h=e.m*e.L,j=f.m*f.z,k=f.m*f.L;de.sa(d);for(var n=de.I,o=0;o<d.Za;o++){var p=d.Da[o],t=de.A[o],v=de.re[o],u=t.x-e.c.h.x,w=t.y-e.c.h.y,y=t.x-f.c.h.x,t=t.y-f.c.h.y,c=c<v?c:v,v=-p.th*K(a*(v+0.005),-0.2,0),p=v*n.x;v*=n.y;e.c.h.x-=g*p;e.c.h.y-=g*v;e.c.k-=h*(u*v-w*p);Y(e);f.c.h.x+=j*p;f.c.h.y+=j*v;f.c.k+=k*(y*v-t*p);Y(f)}}return c>-0.0075};var ce=new Xd,de=new ae;function ee(){this.Na=[];this.ic=[];this.ub=[]}ee.prototype.sa=function(a,c,b,d,e){this.Ca=this.Sa=this.ua=0;this.kg=d;this.Fc=e;this.Na=[];this.ic=[];this.ub=[]};
ee.prototype.Dd=function(a,c,b){for(var d=0,e=0,f,d=0;d<this.ua;++d)e=this.Na[d],e.u==2&&(e.q.x+=a.Y*(c.x+e.z*e.Nd.x),e.q.y+=a.Y*(c.y+e.z*e.Nd.y),e.G+=a.Y*e.L*e.of,e.q.Hf(K(1-a.Y*e.Vh,0,1)),e.G*=K(1-a.Y*e.Nh,0,1));this.Fc.sa(a,this.ic,this.Sa);c=this.Fc;c.Pc(a);for(d=0;d<this.Ca;++d)f=this.ub[d],f.Pc(a);for(d=0;d<a.nd;++d){for(e=0;e<this.Ca;++e)f=this.ub[e],f.yc(a);c.yc()}for(d=0;d<this.Ca;++d)f=this.ub[d],f.Ke();c.Ke();for(d=0;d<this.ua;++d)if(e=this.Na[d],e.u!=T){var g=a.Y*e.q.x,h=a.Y*e.q.y;g*g+
h*h>4&&(G(e.q),e.q.x*=2*a.jb,e.q.y*=2*a.jb);g=a.Y*e.G;if(g*g>Kb)e.G=e.G<0?-Jb*a.jb:Jb*a.jb;e.c.oa.l(e.c.h);e.c.fb=e.c.k;e.c.h.x+=a.Y*e.q.x;e.c.h.y+=a.Y*e.q.y;e.c.k+=a.Y*e.G;Y(e)}for(d=0;d<a.kd;++d){g=c.xc(0.2);h=!0;for(e=0;e<this.Ca;++e)f=this.ub[e],f=f.xc(0.2),h=h&&f;if(g&&h)break}fe(this,c.Bb);if(b){b=Number.MAX_VALUE;c=Lb*Lb;for(d=0;d<this.ua;++d)if(e=this.Na[d],e.u!=T)!e.ff||e.G*e.G>c||Bb(e.q,e.q)>1.0E-4?b=e.se=0:(e.se+=a.Y,b=Math.min(b,e.se));if(b>=0.5)for(d=0;d<this.ua;++d)e=this.Na[d],W(e,
!1)}};
ee.prototype.Qe=function(a){var c=0,b=0;this.Fc.sa(a,this.ic,this.Sa);for(var d=this.Fc,c=0;c<this.Ca;++c)this.ub[c].Pc(a);for(c=0;c<a.nd;++c){d.yc();for(b=0;b<this.Ca;++b)this.ub[b].yc(a)}for(c=0;c<this.ua;++c)if(b=this.Na[c],b.u!=T){var e=a.Y*b.q.x,f=a.Y*b.q.y;e*e+f*f>4&&(G(b.q),b.q.x*=2*a.jb,b.q.y*=2*a.jb);e=a.Y*b.G;if(e*e>Kb)b.G=b.G<0?-Jb*a.jb:Jb*a.jb;b.c.oa.l(b.c.h);b.c.fb=b.c.k;b.c.h.x+=a.Y*b.q.x;b.c.h.y+=a.Y*b.q.y;b.c.k+=a.Y*b.G;Y(b)}for(c=0;c<a.kd;++c){e=d.xc(0.75);f=!0;for(b=0;b<this.Ca;++b)var g=this.ub[b].xc(0.2),
f=f&&g;if(e&&f)break}fe(this,d.Bb)};function fe(a,c){if(a.kg!=q)for(var b=0;b<a.Sa;++b){for(var d=a.ic[b],e=c[b],f=0;f<e.Za;++f)ge.ji[f]=e.Da[f].ma,ge.ri[f]=e.Da[f].bc;a.kg.Bd(d,ge)}}var ge=new function(){this.ji=[];this.ri=[]};function he(){this.kf=new Bc;this.Tb=new oc;this.U=this.s=this.p=this.gd=q;this.nf=this.lf=this.me=0}x=he.prototype;x.Lb=s("Sh");x.uc=s("gd");x.Ef=function(a){a===i&&(a=q);a==q&&(a=new Wb);this.U.He(a,this.me);return a};x.Mc=function(a,c,b){this.gd=b.qc;this.lf=b.Xa;this.nf=b.Hb;this.p=a;this.s=q;this.kf=b.filter.ja();this.Sh=b.Id;this.U=b.shape.ja();this.me=b.Vc};x.dc=function(){this.U=q};x.sd=function(a,c){this.U.rd(this.Tb,c);this.lc=a.sd(this.Tb,this)};
x.td=function(a){if(this.lc!=q)a.td(this.lc),this.lc=q};function ie(a,c,b,d){if(a.lc){var e=new oc,f=new oc;a.U.rd(e,b);a.U.rd(f,d);rc(a.Tb,e,f);c.Ne(a.lc,a.Tb,J(d.position,b.position))}};function je(a,c){this.g=new Xb;this.c=new sd;this.q=new F(0,0);this.Nd=new F(0,0);this.Cb=0;a.kh&&(this.Cb|=wd);a.Zc&&(this.Cb|=ke);this.ff=a.dh;this.kb=a.gh;a.bh&&(this.Cb|=le);this.Ka=c;this.g.position.l(a.position);this.g.d.i(a.Pa);this.c.v.da();this.c.na=1;this.c.fb=this.c.k=a.Pa;var b=this.g.d,d=this.c.v;this.c.h.x=b.a.x*d.x+b.b.x*d.y;this.c.h.y=b.a.y*d.x+b.b.y*d.y;this.c.h.x+=this.g.position.x;this.c.h.y+=this.g.position.y;this.c.oa.l(this.c.h);this.N=this.le=this.Z=q;this.Oh=0;this.s=this.la=
q;this.q.l(a.cg);this.G=a.fh;this.Vh=a.Kh;this.Nh=a.eh;this.Nd.da();this.se=this.of=0;this.u=a.type;this.z=this.u==2?this.m=1:this.m=0;this.L=this.Sb=0;this.Qh=a.Dh;this.gd=a.qc;this.Vb=q;this.hg=0}function me(a,c,b){b===i&&(b=0);if(a.Ka.Gc!=!0){a.g.d.i(b);a.g.position.l(c);var c=a.g.d,d=a.c.v;a.c.h.x=c.a.x*d.x+c.b.x*d.y;a.c.h.y=c.a.y*d.x+c.b.y*d.y;a.c.h.x+=a.g.position.x;a.c.h.y+=a.g.position.y;a.c.oa.l(a.c.h);a.c.fb=a.c.k=b;c=a.Ka.Ba.Ec;for(b=a.Vb;b;b=b.s)ie(b,c,a.g,a.g);Wd(a.Ka.Ba)}}x=je.prototype;
x.qb=s("g");x.Jb=function(){return this.c.k};function ne(a,c,b){a.u==2&&(a.kb==!1&&W(a,!0),a.q.x+=a.z*c.x,a.q.y+=a.z*c.y,a.G+=a.L*((b.x-a.c.h.x)*c.y-(b.y-a.c.h.y)*c.x))}x.Ef=function(a){a.oc=this.m;a.xd=this.Sb;a.zc.l(this.c.v)};function oe(a,c){var b=a.g.d,b=new F(b.a.x*c.x+b.b.x*c.y,b.a.y*c.x+b.b.y*c.y);b.x+=a.g.position.x;b.y+=a.g.position.y;return b}function W(a,c){a.kb=c;a.se=0;if(!c)a.q.da(),a.G=0,a.Nd.da(),a.of=0}x.Kb=function(){return(this.Cb&le)==le};x.uc=s("gd");
function pe(a){qe.d.i(a.c.fb);var c=qe.d,b=a.c.v;qe.position.x=a.c.oa.x-(c.a.x*b.x+c.b.x*b.y);qe.position.y=a.c.oa.y-(c.a.y*b.x+c.b.y*b.y);b=a.Ka.Ba.Ec;for(c=a.Vb;c;c=c.s)ie(c,b,qe,a.g)}function Y(a){a.g.d.i(a.c.k);var c=a.g.d,b=a.c.v;a.g.position.x=a.c.h.x-(c.a.x*b.x+c.b.x*b.y);a.g.position.y=a.c.h.y-(c.a.y*b.x+c.b.y*b.y)}x.xb=function(a){if(this.u!=2&&a.u!=2)return!1;for(var c=this.Z;c;c=c.next)if(c.R==a&&c.zb.dg==!1)return!1;return!0};
x.cc=function(a){a===i&&(a=0);this.c.cc(a);this.c.h.l(this.c.oa);this.c.k=this.c.fb;Y(this)};var qe=new Xb,wd=8,ke=16,le=32;function re(){this.uf=[];this.start=this.size=0}function se(a,c){a.uf[a.start+a.size]=c;a.size++};function te(a,c){this.Ba=new Vd(this);this.Fc=new be;this.Q=new ee;this.mf=this.Gc=!1;this.le=this.Z=this.N=this.Ra=this.Ya=this.ne=q;this.Oh=this.Ca=this.Sa=this.ua=0;this.ff=c;this.Ph=a;this.jg=0;this.ig=this.Bf(new ud)}
(function(a){a.Pg=1-100*Number.MIN_VALUE;a.prototype.Sg=function(a){this.Ba.gf=a};a.prototype.Tg=function(a){this.Ba.dd=a};a.prototype.Ug=function(a){this.Ya=a};a.prototype.Bf=function(a){if(this.Gc)return q;a=new je(a,this);a.la=q;if(a.s=this.Ra)this.Ra.la=a;this.Ra=a;this.ua++;return a};a.prototype.Fg=function(a){if(!this.Gc){for(var b=a.Z;b;){var d=b,b=b.next;this.ne&&this.ne.Ei(d.zb);this.Gg(d.zb)}for(b=a.le;b;)d=b,b=b.Ui,d.Fi.Ci(a);for(b=a.N;b;)d=b,b=b.next,this.Ba.dc(d.ia);a.N=q;for(b=a.Vb;b;)d=
b,b=b.s,this.ne&&this.ne.Di(d),d.td(this.Ba.Ec),d.dc();a.Vb=q;a.hg=0;if(a.la)a.la.s=a.s;if(a.s)a.s.la=a.la;if(a==this.Ra)this.Ra=a.s;this.ua--}};a.prototype.Ie=function(a){var b=a.Mc();b.la=q;if(b.s=this.Z)this.Z.la=b;this.Z=b;this.Ca++;b.Ha.zb=b;b.Ha.R=b.Aa;b.Ha.X=q;if(b.Ha.next=b.za.Z)b.za.Z.X=b.Ha;b.za.Z=b.Ha;b.Ia.zb=b;b.Ia.R=b.za;b.Ia.X=q;if(b.Ia.next=b.Aa.Z)b.Aa.Z.X=b.Ia;b.Aa.Z=b.Ia;var b=a.ba,d=a.ca;if(!a.Uf)for(a=d.N;a;){if(a.R==b)a.ia.ge=!0;a=a.next}};a.prototype.Gg=function(a){var b=a.dg;
if(a.la)a.la.s=a.s;if(a.s)a.s.la=a.la;if(a==this.Z)this.Z=a.s;var d=a.za,e=a.Aa;W(d,!0);W(e,!0);if(a.Ha.X)a.Ha.X.next=a.Ha.next;if(a.Ha.next)a.Ha.next.X=a.Ha.X;if(a.Ha==d.Z)d.Z=a.Ha.next;a.Ha.X=q;a.Ha.next=q;if(a.Ia.X)a.Ia.X.next=a.Ia.next;if(a.Ia.next)a.Ia.next.X=a.Ia.X;if(a.Ia==e.Z)e.Z=a.Ia.next;a.Ia.X=q;a.Ia.next=q;this.Ca--;if(!b)for(a=e.N;a;){if(a.R==d)a.ia.ge=!0;a=a.next}};a.prototype.Kf=function(c,b,d){c===i&&(c=0);b===i&&(b=0);d===i&&(d=0);if(this.mf)Wd(this.Ba),this.mf=!1;this.Gc=!0;var e=
new Yd;e.Y=c;e.nd=b;e.kd=d;e.jb=c>0?1/c:0;e.Qb=this.jg*c;e.od=a.Ri;c=this.Ba;for(b=c.Ka.N;b;){var d=b.D,f=b.H,g=d.p,h=f.p;if(g.kb==!1&&h.kb==!1)b=b.s;else{if(b.ge){if(h.xb(g)==!1){d=b;b=d.s;c.dc(d);continue}if(c.gf.xb(d,f)==!1){d=b;b=d.s;c.dc(d);continue}b.ge=!1}c.Ec.Sc(d.lc,f.lc)==!1?(d=b,b=d.s,c.dc(d)):(xd(b,c.dd),b=b.s)}}if(e.Y>0)this.Dd(e),a.Mi&&e.Y>0&&this.Qe(e),this.jg=e.jb;this.Gc=!1};a.prototype.Eg=function(){for(var a=this.Ra;a;a=a.s)a.Nd.da(),a.of=0};a.prototype.Hg=function(){if(this.Ya!==
q){this.Ya.Yh.zh.clear();var c=this.Ya.fg;if(c&gc)for(var b=new X(0.5,0.5,0.3),d=new X(0.5,0.9,0.5),e=new X(0.5,0.5,0.9),f=new X(0.6,0.6,0.6),g=new X(0.9,0.7,0.7),h=this.Ra;h;h=h.s)for(var j=h.Vb;j;j=j.s){var k=j.U;h.Kb()?h.u==T?this.ud(k,h.g,d):h.u==1?this.ud(k,h.g,e):h.kb?this.ud(k,h.g,g):this.ud(k,h.g,f):this.ud(k,h.g,b)}if(c&hc)for(h=this.Z;h;h=h.s)this.Ig(h);if(c&lc)for(h=this.le;h;h=h.s)h.yi(this.Ya);if(c&jc){h=new X(0.3,0.9,0.9);for(j=this.Ba.N;j;j=j.s)this.Ya.$d(pc(j.D.Tb),pc(j.H.Tb),h)}if(c&
ic){b=new X(0,0,0.8);for(h=this.Ra;h;h=h.s)if(h.Kb())for(j=h.Vb;j;j=j.s)d=this.Ba.Ec.Oc(j.lc),this.Ya.Jg([new F(d.lowerBound.x,d.lowerBound.y),new F(d.upperBound.x,d.lowerBound.y),new F(d.upperBound.x,d.upperBound.y),new F(d.lowerBound.x,d.upperBound.y)],b)}if(c&kc)for(h=this.Ra;h;h=h.s)a.ug.d=h.g.d,a.ug.position=h.c.h,this.Ya.Mg(a.ug)}};a.prototype.Dd=function(a){for(var b=this.le;b;b=b.s)b.Kf(a);this.Q.sa(this.ua,this.Sa,this.Ca,this.Ba.dd,this.Fc);for(var d=this.Ra;d;d=d.s)d.S=!1;for(b=this.N;b;b=
b.s)b.S=!1;for(b=this.Z;b;b=b.s)b.S=!1;for(b=this.Ra;b;b=b.s)if(!b.S&&b.kb&&b.Kb()&&b.u!=T){var e=this.Q;e.ua=0;e.Sa=0;e.Ca=0;e=[];e.push(b);for(b.S=!0;e.length>0;){var d=e.pop(),f=this.Q,g=d;g.Th=f.ua;f.Na[f.ua++]=g;d.kb||W(d,!0);if(d.u!=T){for(f=d.N;f;f=f.next)if(!f.ia.S&&!f.ia.Lb()&&f.ia.enabled!=!1&&f.ia.Lc){var g=this.Q,h=f.ia;g.ic[g.Sa++]=h;f.ia.S=!0;if(!f.R.S)e.push(f.R),f.R.S=!0}for(d=d.Z;d;d=d.next)if(!d.zb.S&&d.R.Kb()&&(f=this.Q,g=d.zb,f.ub[f.Ca++]=g,d.zb.S=!0,!d.R.S))e.push(d.R),d.R.S=
!0}}this.Q.Dd(a,this.Ph,this.ff);for(e=0;e<this.Q.ua;++e)if(this.Q.Na[e].u==T)this.Q.Na[e].S=!1}for(d=this.Ra;d;d=d.s)d.kb&&d.Kb()&&d.u!=T&&pe(d);Wd(this.Ba)};a.prototype.Qe=function(c){this.Q.sa(this.ua,32,32,this.Ba.dd,this.Fc);for(var b=this.Ra;b;b=b.s)b.S=!1,b.c.na=0;for(var d=this.N;d;d=d.s)d.S=!1,d.fd=q;for(d=this.Z;d;d=d.s)d.S=!1;for(;;){var d=this.$g(),e=d.ci,d=d.di;if(e===q||a.Pg<d)break;a.pi.i(e.D.p.c);a.qi.i(e.H.p.c);e.D.p.cc(d);e.H.p.cc(d);xd(e,this.Ba.dd);e.fd=q;if(e.Lb()||e.enabled==
!1)e.D.p.c.i(a.pi),e.H.p.c.i(a.qi),Y(e.D.p),Y(e.H.p);else if(e.Lc){b=e.D.p;if(b.u!=2)b=e.H.p;e=this.Q;e.ua=0;e.Sa=0;e.Ca=0;e=new re;se(e,b);for(b.S=!0;e.size>0;){var b=e,f=b.uf[b.start];b.uf[b.start]=q;b.size--;b.start++;var b=f,f=this.Q,g=b;g.Th=f.ua;f.Na[f.ua++]=g;b.kb||W(b,!0);if(b.u==2){for(f=b.N;f;f=f.next){if(this.Q.Sa==this.Q.Li)break;if(!f.ia.S&&!f.ia.Lb()&&f.ia.enabled!=!1&&f.ia.Lc){var g=this.Q,h=f.ia;g.ic[g.Sa++]=h;f.ia.S=!0;if(!f.R.S)f.R.u!=T&&(f.R.cc(d),W(f.R,!0)),se(e,f.R),f.R.S=!0}}for(b=
b.Z;b;b=b.next)if(this.Q.Ca!=this.Q.Ni&&!b.zb.S&&b.R.Kb()&&(f=this.Q,g=b.zb,f.ub[f.Ca++]=g,b.zb.S=!0,!b.R.S))b.R.u!=T&&(b.R.cc(d),W(b.R,!0)),se(e,b.R),b.R.S=!0}}e=new Yd;e.od=!1;e.Y=(1-d)*c.Y;e.jb=1/e.Y;e.Qb=0;e.nd=c.nd;e.kd=c.kd;this.Q.Qe(e);for(d=0;d<this.Q.ua;d++)if(this.Q.Na[d].S=!1,this.Q.Na[d].kb&&this.Q.Na[d].u==2){pe(this.Q.Na[d]);for(f=this.Q.Na[d].N;f;f=f.next)f.ia.fd=q}for(d=0;d<this.Q.Sa;d++)this.Q.ic[d].S=!1,this.Q.ic[d].fd=q;for(d=0;d<this.Q.Ca;d++)this.Q.ub[d].S=!1;Wd(this.Ba)}}};a.prototype.$g=
function(){for(var a=q,b=1,d=this.N;d;d=d.s)if(!this.ah(d)){var e=1;if(d.fd!=q)e=d.fd;else{if(d.Lc)e=1;else{var f=d.D.p.c.na;if(d.D.p.c.na<d.H.p.c.na)f=d.H.p.c.na,d.D.p.c.cc(f);else if(d.H.p.c.na<d.D.p.c.na)f=d.D.p.c.na,d.H.p.c.cc(f);var e=d,g=d.D.p.c,h=d.H.p.c;yd.$a.i(e.D.U);yd.ab.i(e.H.U);yd.wg=g;yd.xg=h;yd.ti=0.005;var j=yd;hd++;var e=j.$a,g=j.ab,h=j.wg,k=j.xg;M(h.na==k.na);M(1-h.na>Number.MIN_VALUE);var n=e.F+g.F,j=j.ti,o=0,p=0,t=0;md.count=0;for(nd.zg=!1;;){h.qb(od,o);k.qb(pd,o);nd.$a=e;nd.ab=
g;nd.Ce=od;nd.De=pd;Pb(rd,md,nd);if(rd.Yc<=0){o=1;break}qd.sa(md,e,od,g,pd);var v=qd.wb(od,pd);if(v<=0){o=1;break}p==0&&(t=v>n?Math.max(n-j,0.75*n):Math.max(v-j,0.02*n));if(v-t<0.5*j){if(p==0){o=1;break}break}var u=o,w=o,y=1;h.qb(od,y);k.qb(pd,y);var L=qd.wb(od,pd);if(L>=t){o=1;break}for(var C=0;;){var l=0,l=C&1?w+(t-v)*(y-w)/(L-v):0.5*(w+y);h.qb(od,l);k.qb(pd,l);var m=qd.wb(od,pd);if(Math.abs(m-t)<0.025*j){u=l;break}m>t?(w=l,v=m):(y=l,L=m);C++;kd++;if(C==50)break}ld=Math.max(ld,C);if(u<(1+100*Number.MIN_VALUE)*
o)break;o=u;p++;id++;if(p==1E3)break}jd=Math.max(jd,p);e=o;M(0<=e&&e<=1);e>0&&e<1&&(e=(1-e)*f+e)}d.fd=e}Number.MIN_VALUE<e&&e<b&&(a=d,b=e)}return{ci:a,di:b}};a.prototype.ah=function(a){return a.Lb()||a.enabled==!1||!a.Ze?!0:(a.D.p.u!=2||!a.D.p.kb)&&(a.H.p.u!=2||!a.H.p.kb)?!0:!1};a.prototype.Ig=function(c){c.za!=this.ig&&this.Ya.$d(c.za.g.position,c.ae(),a.tg);this.Ya.$d(c.ae(),c.be(),a.tg);c.Aa!=this.ig&&this.Ya.$d(c.Aa.g.position,c.be(),a.tg)};a.prototype.ud=function(a,b,d){if(a instanceof Dd)this.Ya.Kg(I(b,
a.T),a.F,b.d.a,d);else if(a instanceof P){for(var e=0,f=a.Ff(),a=a.j,g=[],e=0;e<f;e++)g[e]=I(b,a[e]);this.Ya.Lg(g,f,d)}};new Xb})(te);function ue(a){this.Lf=ve++;this.position=a.ja();this.Pa=0;this.Af=[]}var ve=0;function we(a,c,b){this.vf=[];this.ta=[];this.Vi=0;this.sf={};this.ea=a;this.La=new F(c.x,c.y);this.gb=new te(b,!0);this.gb.Sg(this);this.gb.Tg(this);this.top=Q(this,new F(this.La.x+2,2),new F(this.La.x/2,-1),!1,q,{Xa:0});this.bottom=Q(this,new F(this.La.x+2,2),new F(this.La.x/2,this.La.y+1),!1,q,{Xa:0});this.left=Q(this,new F(2,this.La.y+2),new F(-1,this.La.y/2),!1,q,{Xa:0});this.right=Q(this,new F(2,this.La.y+2),new F(this.La.x+1,this.La.y/2),!1,q,{Xa:0})}x=we.prototype;
x.update=function(a,c){this.gb.Kf(c,xe,xe);this.gb.Eg();var b=this.vf;this.vf=[];if(b.length>0)for(var d=0;d<b.length;d++)b[d].call(this)};x.xb=function(a,c){if(!a.Lb()&&!c.Lb())for(var b=0;b<this.ta.length;b++)if(this.ta[b].xb&&!this.ta[b].xb(a,c))return!1;return Dc.prototype.xb(a,c)};x.qd=function(a){for(var c=0;c<this.ta.length;c++){this.ta[c].Mf&&this.ta[c].Mf(a);if(a.disabled)a.enabled=!1;this.ta[c].qd&&this.ta[c].qd(a)}};
x.Nc=function(a){for(var c=0;c<this.ta.length;c++)this.ta[c].Nc&&this.ta[c].Nc(a);a.disabled=!1;a.enabled=!0};x.Cd=function(a,c){if(a.disabled)a.enabled=!1;for(var b=0;b<this.ta.length;b++)this.ta[b].Cd&&this.ta[b].Cd(a,c)};x.Bd=function(a,c){for(var b=0;b<this.ta.length;b++)this.ta[b].Bd&&this.ta[b].Bd(a,c)};function Z(a,c,b,d){d=d||0;a=ye(a,c,b,!0);a.display.Cg=-10+d;return a}function Q(a,c,b,d,e,f){e=e||{};e.type=T;return ze(a,c,b,d,e,f)}
function ze(a,c,b,d,e,f){var g=new P;ac(g,c.x/2,c.y/2);return a.sb(c,b,d,g,{Tc:e,Rb:f})}function Ae(a,c,b){var d=new P,e=new F(c.x/2,c.y/2);$b(d,[new F(0,e.y),new F(-e.x+0.01,e.y-0.01),new F(-e.x,0),new F(-e.x+0.01,-e.y+0.01),new F(0,-e.y),new F(e.x-0.01,-e.y+0.01),new F(e.x,0),new F(e.x-0.01,e.y-0.01)]);return a.sb(c,b,!0,d,{Tc:{Zc:!0},Rb:{Hb:0}})}function Be(a,c){a.gb.Gc?a.vf.push(c):c.apply(a)}
x.sb=function(a,c,b,d,e){var f=ye(this,a,c,b);Be(this,function(){var a=e,a=a||{},b=Ce(a.Tc,De),j=new ud;j.type=b.type;j.Pa=b.Pa;j.Zc=b.Zc;j.position=c;b=this.gb.Bf(j);a=Ee(b,d,a);f.body=b;f.vh=a;b.object=f});return f};function ye(a,c,b,d){b=new ue(b);a.sf[b.Lf]=b;d!==!1&&yc(b,c);return b}
function Ee(a,c,b){var b=b||{},d=Ce(b.Rb,Fe),b=new Cc;b.Vc=d.Vc;b.Xa=d.Xa;b.Hb=d.Hb;b.Id=d.Id;b.shape=c;if(a.Ka.Gc==!0)a=q;else{c=new he;c.Mc(a,a.g,b);a.Cb&le&&c.sd(a.Ka.Ba.Ec,a.g);c.s=a.Vb;a.Vb=c;a.hg++;c.p=a;if(c.me>0&&(a.m=0,a.z=0,a.Sb=0,a.L=0,a.c.v.da(),!(a.u==T||a.u==1))){b=new F(0,0);for(d=a.Vb;d;d=d.s)if(d.me!=0){var e=d.Ef();a.m+=e.oc;b.x+=e.zc.x*e.oc;b.y+=e.zc.y*e.oc;a.Sb+=e.xd}a.m>0?(a.z=1/a.m,b.x*=a.z,b.y*=a.z):(a.m=1,a.z=1);a.Sb>0&&(a.Cb&ke)==0?(a.Sb-=a.m*(b.x*b.x+b.y*b.y),a.Sb*=a.Qh,
M(a.Sb>0),a.L=1/a.Sb):(a.Sb=0,a.L=0);d=a.c.h.ja();a.c.v.l(b);a.c.oa.l(I(a.g,a.c.v));a.c.h.l(a.c.oa);a.q.x+=a.G*-(a.c.h.y-d.y);a.q.y+=a.G*+(a.c.h.x-d.x)}a.Ka.mf=!0;a=c}return a}function Ge(a,c){Be(a,function(){c.body&&this.gb.Fg(c.body);delete this.sf[c.Lf]})}function He(a,c,b){Be(a,function(){if(c.body){var a=c.body;me(a,b,a.Jb())}else c.position=b.ja()})}var xe=10,Fe={Vc:0.1,Xa:0.6,Hb:0.01,Id:!1},De={Zc:!1,Pa:0,type:2};
function Ce(a,c){var a=a||{},b={},d;for(d in c)b[d]=a[d]===i||a[d]===q?c[d]:a[d];return b};function Ie(a){this.ea=a}function Je(a,c,b,d,e){var f=new F(4,4);yc(c.body,b);R(c,"../external-resources/graphics/urbansquall_tileset/characters/princess_AP.png",d);c.display.Be=new nc("../external-resources/graphics/urbansquall_tileset/characters/princess_AP.png",d,f,e);c.display.Mb={};c.display.Mb.Ji=e;c.display.Mb.wh=4;c.display.Mb.hc=0;c.display.Mb.Wa={k:Ke,x:Ke,y:Le};a=a.ea.Rf;c.Af.push(Me);a=a.zf;Ga(a,c)>=0||a.push(c)}var Ke=0,Le=2;
function Me(a,c){var b=this.display.Mb;b.hc+=c;var d=new F(1,1),e=this.body.q,f=Math.abs(e.x),g=Math.abs(e.y);if(g<0.01||f>=g){if(e.x>0.01){if(b.Wa.x=Ke,b.Wa.k!=Ke)b.Wa.k=Ke,b.hc=0}else if(e.x<-0.01){if(b.Wa.x=1,b.Wa.k!=1)b.Wa.k=1,b.hc=0}else b.hc=0;d.y=b.Wa.x==1?4:2}else if(e.y>0.01){b.Wa.y=3;if(b.Wa.k!=3)b.Wa.k=3,b.hc=0;d.y=3}else{b.Wa.y=Le;if(b.Wa.k!=Le)b.Wa.k=Le,b.hc=0;d.y=1}d.x=b.hc==0?1:Math.floor(b.hc*b.wh);b=this.display.Be;b.bb=d.ja();b.bb.x%=b.ze.x;b.bb.y%=b.ze.y;if(b.bb.x===0)b.bb.x=b.ze.x;
if(b.bb.y===0)b.bb.y=b.ze.y};function Ne(){this.zf=[]};function Oe(a,c,b,d,e,f,g){this.pc=a;this.paused=!1;this.Zd=0;this.Rf=new Ne;this.Mb=new Ie(this);this.n=new we(this,b,d);this.viewport=new sc(this,c,f,e,g)}function Pe(a){if(a.ag===q)a.ag=new Date;var c=new Date-a.ag>=5E3;cc>0&&!c?setTimeout(function(){Pe(a)},50):(c&&alert("It appears to be taking a long time to load the game's images. You may experience some invisible objects until they finish loading, but the game will now start."),a.start())}
Oe.prototype.update=function(a,c){if(this.paused)this.Zd=0,vc(this.viewport.pg),this.pc.Fe&&this.pc.Fe(a,c);else{this.pc.we&&this.pc.we(a,c);for(var b=this.Rf,d=0;d<b.zf.length;d++)for(var e=b.zf[d],f=0;f<e.Af.length;f++)e.Af[f].apply(e,[a,c]);this.Zd+=c;for(b=a-this.Zd;this.Zd>=0.015;)this.Zd-=0.015,b+=0.015,this.pc.li&&this.pc.li(b,0.015),this.n.update(b,0.015);this.pc.ve&&this.pc.ve(a,c);xc(this.viewport.pg);b=this.viewport;b.display.style.visibility="hidden";if(b.ie.x!=b.ha.x||b.ie.y!=b.ha.y){b.ie.x=
b.ha.x;b.ie.y=b.ha.y;if(b.Qa!==q)b.Qa.style.left="-"+(b.ha.x*b.scale-b.ob.x/2)+"px",b.Qa.style.top="-"+(b.ha.y*b.scale-b.ob.y/2)+"px";b.display.style.left="-"+(b.ha.x*b.scale-b.ob.x/2)+"px";b.display.style.top="-"+(b.ha.y*b.scale-b.ob.y/2)+"px";d=b.Ag.body;me(d,new F(b.ha.x,b.ha.y),d.Jb())}var d=[],g;for(g in b.Pb)d[g]=b.Pb[g];g=b.Ag.vh.Tb;var e=b.ea.n.sf,h;for(h in e){var j=e[h];if(j.display){var k=j.display,n=j.yh(b.ha),o=k.size;k.C.lowerBound.i(n.x-o.x,n.y-o.y);k.C.upperBound.i(n.x+o.x,n.y+o.y);
if(g.Sc(k.C)){if(k.rc==q)k.rc=zc++;delete d[k.rc];if(b.Pb[k.rc]==q)b.Pb[k.rc]=document.createElement("span"),b.Pb[k.rc].className="gameObject",b.Pb[k.rc].style.zIndex=100+(k.Cg||0),b.display.appendChild(b.Pb[k.rc]);var f=b.Pb[k.rc],p=ec(f),t=b.scale!=p.scale;p.scale=b.scale;var v=n.x-o.x/2;if(t||p.left!=v)p.left=v,f.style.left=v*b.scale+"px";n=n.y-o.y/2;if(t||p.top!=n)p.top=n,f.style.top=n*b.scale+"px";n=o.x;if(t||p.width!=n)p.width=n,f.style.width=n*b.scale+"px";o=o.y;if(t||p.height!=o)p.height=
o,f.style.height=o*b.scale+"px";j=j.xh();if(p.rotation!=j)p.rotation=j,f.style.webkitTransform="rotate("+j+"rad)";if(k.Be!=q){k=k.Be;p=!1;j=ec(f);if(j.hh!=k.url)j.hh=k.url,f.style.backgroundImage="url("+k.url+")",f.style.backgroundColor="transparent",p=!0;else if(j.ih!=k.bb.x||j.jh!=k.bb.y)p=!0;if(p)j.ih=k.bb.x,j.jh=k.bb.y,f.style.backgroundPosition=(k.og.x+(k.bb.x-1)*k.yg.x)*-1+"px "+(k.og.y+(k.bb.y-1)*k.yg.y)*-1+"px"}}}}for(var u in d)b.display.removeChild(d[u]),delete b.Pb[u];if(b.Qa!==q)b.Qa.style.visibility=
"hidden",b.ea.n.gb.Hg(),b.Qa.style.visibility="";b.display.style.visibility=""}};Oe.prototype.start=function(){xc(this.viewport.ef);var a=Qe;Ga(a,this)>=0||a.push(this);Re||(Se=document.getElementById("fps"),Re=!0,Te())};var Re=!1,Qe=[],Ue=60,Ve=q,Se=q;
function Te(a){a==q&&(a=(new Date).getTime());var c=0;Ve!==q?c=(a-Ve)/1E3:Ve=a;if(c>0){c>0.2&&(c=0.2);if(Se){var b=1/c;Ue=Ue*0.99+b*0.01;Se.innerHTML=Math.round(b)+" - "+Math.round(Ue)}Ve=a;for(b=0;b<Qe.length;b++)Qe[b].update(a,c);for(var d in ub)ub[d].Bg=!0;pb=ob;rb=qb;tb=sb}Ac(Te,document.body)};function We(a,c,b){this.execute=a;this.name=c;this.uh=b};function $(a){this.ea=a;this.ea.n.ta.push(this)}
$.prototype.Ob=function(a,c){var b=Ae(this.ea.n,a,c);$.Gh(b);$.Ih(b);$.Hh(b);var d=new P,e=new F(a.x/2,a.y/2);Zb(d,[new F(-e.x+0.01,e.y-0.01),new F(-e.x-0.01,0),new F(-e.x+0.01,-e.y+0.01),new F(e.x-0.01,-e.y+0.01),new F(e.x+0.01,0),new F(e.x-0.01,e.y-0.01)]);b.Gi=Ee(b.body,d,{Rb:{Xa:0}});b.Ea={};b.Ea.rf=new We(function(){b.e.Ga.Jh()},"Move Up",!0);b.Ea.qf=new We(r(),"Move Down",!0);b.Ea.Rd=new We(function(){b.e.hd.Rd()},"Move Left",!0);b.Ea.Sd=new We(function(){b.e.hd.Sd()},"Move Right",!0);return b};
(function(a){a.Va=0.1;a.xi=new F(0,9.8);a.sc={Le:new F(0,9.8),Ng:1.5,Jf:8,Rg:1};a.eb={Df:1,Me:2,Bi:4,wi:8,Cf:16,Gf:32,Je:64};a.Og={Qg:1,vi:2,zi:4};a.O={Rc:1,vc:2,vb:4,wc:8};a.Hd=function(c,b){c.e=c.e||{};c.e.type|=a.eb.Df;c.e.fe={ii:b&a.O.Rc,fi:b&a.O.vb,gi:b&a.O.vc,hi:b&a.O.wc}};a.Gh=function(c){var b=$.sc.Jf;c.e=c.e||{};c.e.type|=a.eb.Me;c.e.Ga={ib:[],Ae:b,Jh:function(){var b=c.e.Ga.ib;if(b.length>0){var e=c.body.m*c.e.Ga.Ae*a.sc.Ng,f=c.body.c.h,g=c.body.q;g.y=0;var h=c.body;h.u!=T&&h.q.l(g);ne(c.body,
new F(0,-e),f);for(g=0;g<b.length;g++)ne(b[g].body,new F(0,e/b.length),f)}}}};a.Ih=function(c){var b=$.sc.Jf,d=$.sc.Rg;c.e=c.e||{};c.e.type|=a.eb.Me;c.e.hd={Qf:d,Ae:b,Sd:function(){var a=c.body.q,a=Math.min(a.x+c.e.hd.Qf,c.e.hd.Ae)-a.x;a>0&&ne(c.body,new F(c.body.m*a,0),c.body.c.h)},Rd:function(){var a=c.body.q,a=Math.max(a.x-c.e.hd.Qf,-c.e.hd.Ae)-a.x;a<0&&ne(c.body,new F(c.body.m*a,0),c.body.c.h)}}};a.$c=function(c,b,d,e){c.e=c.e||{};c.e.type|=a.eb.Je;c.e.o=c.e.o||{};if(d&a.O.Rc)c.e.o.df=!0,c.e.o.Xd=
c.e.o.Xd||[],c.e.o.Xd.push(b);if(d&a.O.vb)c.e.o.df=!0,c.e.o.Ed=c.e.o.Ed||[],c.e.o.Ed.push(b);if(d&a.O.vc)c.e.o.df=!0,c.e.o.Jd=c.e.o.Jd||[],c.e.o.Jd.push(b);if(d&a.O.wc)c.e.o.df=!0,c.e.o.Vd=c.e.o.Vd||[],c.e.o.Vd.push(b);if(e&a.O.Rc)c.e.o.he=!0,c.e.o.Yd=c.e.o.Yd||[],c.e.o.Yd.push(b);if(e&a.O.vb)c.e.o.he=!0,c.e.o.Fd=c.e.o.Fd||[],c.e.o.Fd.push(b);if(e&a.O.vc)c.e.o.he=!0,c.e.o.Kd=c.e.o.Kd||[],c.e.o.Kd.push(b);if(e&a.O.wc)c.e.o.he=!0,c.e.o.Wd=c.e.o.Wd||[],c.e.o.Wd.push(b)};a.Fh=function(c,b){c.e=c.e||{};
c.e.type|=a.eb.Cf;c.e.cf={ni:b,filter:0}};a.Hh=function(c){var b=$.Og.Qg;c.e=c.e||{};c.e.type|=a.eb.Gf;c.e.Lh={filter:b}};a.prototype.xb=q;a.prototype.Mf=function(a){var b=a.D.p.object,d=a.H.p.object;!a.disabled&&b&&b.e&&this.Pf(a,b);!a.disabled&&d&&d.e&&this.Pf(a,d)};a.prototype.Pf=function(c,b){if(b.e.type&a.eb.Df){c.disabled=!0;var d=new Xd;vd(c,d);d=d.I;if(!b.e.fe.ii&&d.y>a.Va)c.disabled=!1;else if(!b.e.fe.fi&&d.y<-a.Va)c.disabled=!1;else if(!b.e.fe.hi&&d.x>a.Va)c.disabled=!1;else if(!b.e.fe.gi&&
d.x<-a.Va)c.disabled=!1}};a.prototype.qd=function(a){if(!a.disabled){var b=a.D.p,d=b.object,e=a.H.p,f=e.object;d&&f&&(d.e&&this.Nf(a,d,f,e),f.e&&this.Nf(a,f,d,b))}};a.prototype.Nf=function(c,b,d,e){if(b.e.type&a.eb.Me){var f=new Xd;vd(c,f);var g=f.I;if(g.y>a.Va){g=!1;for(f=0;f<b.e.Ga.ib.length;f++)if(b.e.Ga.ib[f].body==e){b.e.Ga.ib[f].count++;g=!0;break}g||b.e.Ga.ib.push({body:e,count:1});c.Kc=c.Kc||[];c.Kc.push({Ga:b,Ah:e})}}if(b.e.type&a.eb.Je){f=new Xd;vd(c,f);g=f.I;if(g.y>a.Va&&b.e.o.Xd)for(f=
0;f<b.e.o.Xd.length;f++)b.e.o.Xd[f](c);else if(g.y<-a.Va&&b.e.o.Ed)for(f=0;f<b.e.o.Ed.length;f++)b.e.o.Ed[f](c);if(g.x>a.Va&&b.e.o.Jd)for(f=0;f<b.e.o.Jd.length;f++)b.e.o.Jd[f](c);else if(g.x<-a.Va&&b.e.o.Vd)for(f=0;f<b.e.o.Vd.length;f++)b.e.o.Vd[f](c)}b.e.type&a.eb.Cf&&d.e&&d.e.type&a.eb.Gf&&(b.e.cf.filter==0||b.e.cf.filter&d.e.Lh.filter)&&He(this.ea.n,d,b.e.cf.ni)};a.prototype.Nc=function(a){if(a.Kc){for(var b=0;b<a.Kc.length;b++){for(var d=a.Kc[b].Ga,e=a.Kc[b].Ah,f=[],g=0;g<d.e.Ga.ib.length;g++)d.e.Ga.ib[g].body==
e?(d.e.Ga.ib[g].count--,d.e.Ga.ib[g].count>0&&f.push(d.e.Ga.ib[g])):f.push(d.e.Ga.ib[g]);d.e.Ga.ib=f}a.Kc=q}if(!a.disabled)b=a.D.p.object,d=a.H.p.object,b&&d&&(b.e&&this.Of(a,b),d.e&&this.Of(a,d))};a.prototype.Of=function(c,b){if(b.e.type&a.eb.Je&&b.e.o.he){var d=new Xd;vd(c,d);d=d.I;if(d.y>a.Va&&b.e.o.Yd)for(var e=0;e<b.e.o.Yd.length;e++)b.e.o.Yd[e](c);else if(d.y<-a.Va&&b.e.o.Fd)for(e=0;e<b.e.o.Fd.length;e++)b.e.o.Fd[e](c);if(d.x>a.Va&&b.e.o.Kd)for(e=0;e<b.e.o.Kd.length;e++)b.e.o.Kd[e](c);else if(d.x<
-a.Va&&b.e.o.Wd)for(e=0;e<b.e.o.Wd.length;e++)b.e.o.Wd[e](c)}};a.prototype.Cd=q;a.prototype.Bd=q;a.prototype.f=function(a,b){return Q(this.ea.n,a,b,!0)};a.prototype.Uc=function(c,b){var d,e=Q(this.ea.n,c,b,!0,q,q);if(d===i||d===q)d=a.O.vb|a.O.vc|a.O.wc;a.Hd(e,d)};a.prototype.Eh=function(c,b){var d=this;a.$c(c,function(){Ge(d.ea.n,c)},b,q)};a.prototype.Fa=function(c,b){var d,e=Q(this.ea.n,c,b,!0,q,q);if(d===i||d===q)d=a.O.vb;this.Eh(e,d);return e};a.prototype.lh=function(c,b,d){c=Q(this.ea.n,c,b,!0,
q,q);a.Fh(c,d);return c}})($);function Xe(a,c,b){this.x=a;this.y=c;this.r=b}x=Xe.prototype;x.da=function(){this.r=this.y=this.x=0};x.i=function(a,c,b){this.x=a;this.y=c;this.r=b};x.l=function(a){this.x=a.x;this.y=a.y;this.r=a.r};x.tc=function(){return new Xe(-this.x,-this.y,-this.r)};x.If=function(){this.x=-this.x;this.y=-this.y;this.r=-this.r};x.ja=function(){return new Xe(this.x,this.y,this.r)};x.pd=function(a){this.x+=a.x;this.y+=a.y;this.r+=a.r};x.Hf=function(a){this.x*=a;this.y*=a;this.r*=a};function Ye(a,c,b){this.a=new Xe(0,0,0);this.b=new Xe(0,0,0);this.P=new Xe(0,0,0);a&&this.a.l(a);c&&this.b.l(c);b&&this.P.l(b)}x=Ye.prototype;x.ja=function(){return new Ye(this.a,this.b,this.P)};x.Qc=function(a){this.a.l(a.a);this.b.l(a.b);this.P.l(a.P)};x.Ge=function(a){this.a.x+=a.a.x;this.a.y+=a.a.y;this.a.r+=a.a.r;this.b.x+=a.b.x;this.b.y+=a.b.y;this.b.r+=a.b.r;this.P.x+=a.P.x;this.P.y+=a.P.y;this.P.r+=a.P.r};x.de=function(){this.a.i(1,0,0);this.b.i(0,1,0);this.P.i(0,0,1)};
x.da=function(){this.a.i(0,0,0);this.b.i(0,0,0);this.P.i(0,0,0)};function Ze(a,c,b,d){var e=a.a.x,f=a.b.x,g=a.a.y,a=a.b.y,h=e*a-f*g;h!=0&&(h=1/h);c.x=h*(a*b-f*d);c.y=h*(e*d-g*b)}function $e(a,c,b,d,e){var f=a.a.x,g=a.a.y,h=a.a.r,j=a.b.x,k=a.b.y,n=a.b.r,o=a.P.x,p=a.P.y,a=a.P.r,t=f*(k*a-n*p)+g*(n*o-j*a)+h*(j*p-k*o);t!=0&&(t=1/t);c.x=t*(b*(k*a-n*p)+d*(n*o-j*a)+e*(j*p-k*o));c.y=t*(f*(d*a-e*p)+g*(e*o-b*a)+h*(b*p-d*o));c.r=t*(f*(k*e-n*d)+g*(n*b-j*e)+h*(j*d-k*b))};function af(a){Gc.call(this,a);this.jc=new F(0,0);this.kc=new F(0,0);this.w=new Xe(0,0,0);this.m=new Ye;this.jc.l(a.ad);this.kc.l(a.bd);this.qe=a.Ud}A(af,Gc);x=af.prototype;x.ae=function(){return oe(this.za,this.jc)};x.be=function(){return oe(this.Aa,this.kc)};
x.Pc=function(a){var c,b=0,d=this.za,e=this.Aa;c=d.g.d;var f=this.jc.x-d.c.v.x,g=this.jc.y-d.c.v.y,b=c.a.x*f+c.b.x*g,g=c.a.y*f+c.b.y*g,f=b;c=e.g.d;var h=this.kc.x-e.c.v.x,j=this.kc.y-e.c.v.y,b=c.a.x*h+c.b.x*j,j=c.a.y*h+c.b.y*j,h=b;c=d.z;var b=e.z,k=d.L,n=e.L;this.m.a.x=c+b+g*g*k+j*j*n;this.m.b.x=-g*f*k-j*h*n;this.m.P.x=-g*k-j*n;this.m.a.y=this.m.b.x;this.m.b.y=c+b+f*f*k+h*h*n;this.m.P.y=f*k+h*n;this.m.a.r=this.m.P.x;this.m.b.r=this.m.P.y;this.m.P.r=k+n;a.od?(this.w.x*=a.Qb,this.w.y*=a.Qb,this.w.r*=
a.Qb,d.q.x-=c*this.w.x,d.q.y-=c*this.w.y,d.G-=k*(f*this.w.y-g*this.w.x+this.w.r),e.q.x+=b*this.w.x,e.q.y+=b*this.w.y,e.G+=n*(h*this.w.y-j*this.w.x+this.w.r)):this.w.da()};
x.yc=function(){var a,c=0,b=this.za,d=this.Aa,e=b.q,f=b.G,g=d.q,h=d.G,j=b.z,k=d.z,n=b.L,o=d.L;a=b.g.d;var p=this.jc.x-b.c.v.x,t=this.jc.y-b.c.v.y,c=a.a.x*p+a.b.x*t,t=a.a.y*p+a.b.y*t,p=c;a=d.g.d;var v=this.kc.x-d.c.v.x,u=this.kc.y-d.c.v.y,c=a.a.x*v+a.b.x*u,u=a.a.y*v+a.b.y*u,v=c;a=new Xe(0,0,0);$e(this.m,a,-(g.x-h*u-e.x+f*t),-(g.y+h*v-e.y-f*p),-(h-f));this.w.pd(a);e.x-=j*a.x;e.y-=j*a.y;f-=n*(p*a.y-t*a.x+a.r);g.x+=k*a.x;g.y+=k*a.y;h+=o*(v*a.y-u*a.x+a.r);b.G=f;d.G=h};
x.xc=function(){var a,c=0,b=this.za,d=this.Aa;a=b.g.d;var e=this.jc.x-b.c.v.x,f=this.jc.y-b.c.v.y,c=a.a.x*e+a.b.x*f,f=a.a.y*e+a.b.y*f,e=c;a=d.g.d;var g=this.kc.x-d.c.v.x,h=this.kc.y-d.c.v.y,c=a.a.x*g+a.b.x*h,h=a.a.y*g+a.b.y*h,g=c;a=b.z;var c=d.z,j=b.L,k=d.L,n=d.c.h.x+g-b.c.h.x-e,o=d.c.h.y+h-b.c.h.y-f,p=d.c.k-b.c.k-this.qe,t=Math.sqrt(n*n+o*o),v=Math.abs(p);t>0.05&&(j*=1,k*=1);this.m.a.x=a+c+f*f*j+h*h*k;this.m.b.x=-f*e*j-h*g*k;this.m.P.x=-f*j-h*k;this.m.a.y=this.m.b.x;this.m.b.y=a+c+e*e*j+g*g*k;this.m.P.y=
e*j+g*k;this.m.a.r=this.m.P.x;this.m.b.r=this.m.P.y;this.m.P.r=j+k;var u=new Xe(0,0,0);$e(this.m,u,-n,-o,-p);b.c.h.x-=a*u.x;b.c.h.y-=a*u.y;b.c.k-=j*(e*u.y-f*u.x+u.r);d.c.h.x+=c*u.x;d.c.h.y+=c*u.y;d.c.k+=k*(g*u.y-h*u.x+u.r);Y(b);Y(d);return t<=0.005&&v<=Hb};function bf(){this.type=0;this.ca=this.ba=this.qc=q;this.Uf=!1};function cf(){bf.call(this);this.ad=new F(0,0);this.bd=new F(0,0);this.type=8;this.Ud=0}A(cf,bf);cf.prototype.sa=function(a,c,b){this.ba=a;this.ca=c;this.ad.l(Gb(this.ba.g,b));this.bd.l(Gb(this.ca.g,b));this.Ud=this.ca.Jb()-this.ba.Jb()};cf.prototype.Mc=function(){return new af(this)};function df(a){Gc.call(this,a);this.rb=new Ab;this.yd=new Ab;this.zd=new Ab;this.Ad=new Ab;this.ka=new Xe(0,0,0);this.tb=new F(0,0);this.Gb=new F(0,0);this.Db=new F(0,0);this.Eb=new F(0,0);this.w=new Xe(0,0,0);this.m=new Ye;this.Db.l(a.ad);this.Eb.l(a.bd);this.qe=a.Ud;this.w.da();this.Xb=0;this.oe=a.Mh;this.pf=a.ui;this.Wh=a.ai;this.Xh=a.ei;this.hf=a.rh;this.gg=a.sh;this.Ja=0}A(df,Gc);x=df.prototype;x.ae=function(){return oe(this.za,this.Db)};x.be=function(){return oe(this.Aa,this.Eb)};
x.Pc=function(a){var c=this.za,b=this.Aa,d,e=0;d=c.g.d;var f=this.Db.x-c.c.v.x,g=this.Db.y-c.c.v.y,e=d.a.x*f+d.b.x*g,g=d.a.y*f+d.b.y*g,f=e;d=b.g.d;var h=this.Eb.x-b.c.v.x,j=this.Eb.y-b.c.v.y,e=d.a.x*h+d.b.x*j,j=d.a.y*h+d.b.y*j,h=e;d=c.z;var e=b.z,k=c.L,n=b.L;this.m.a.x=d+e+g*g*k+j*j*n;this.m.b.x=-g*f*k-j*h*n;this.m.P.x=-g*k-j*n;this.m.a.y=this.m.b.x;this.m.b.y=d+e+f*f*k+h*h*n;this.m.P.y=f*k+h*n;this.m.a.r=this.m.P.x;this.m.b.r=this.m.P.y;this.m.P.r=k+n;this.pe=1/(k+n);if(!this.gg)this.Xb=0;if(this.hf){var o=
b.c.k-c.c.k-this.qe;if(Math.abs(this.pf-this.oe)<2*Hb)this.Ja=3;else if(o<=this.oe){if(this.Ja!=1)this.w.r=0;this.Ja=1}else if(o>=this.pf){if(this.Ja!=2)this.w.r=0;this.Ja=2}else this.Ja=0,this.w.r=0}else this.Ja=0;a.od?(this.w.x*=a.Qb,this.w.y*=a.Qb,this.Xb*=a.Qb,a=this.w.x,o=this.w.y,c.q.x-=d*a,c.q.y-=d*o,c.G-=k*(f*o-g*a+this.Xb+this.w.r),b.q.x+=e*a,b.q.y+=e*o,b.G+=n*(h*o-j*a+this.Xb+this.w.r)):(this.w.da(),this.Xb=0)};
x.yc=function(a){var c=this.za,b=this.Aa,d=0,e=d=0,f=0,g=0,h=0,j=c.q,k=c.G,n=b.q,o=b.G,p=c.z,t=b.z,v=c.L,u=b.L;if(this.gg&&this.Ja!=3)e=this.pe*-(o-k-this.Xh),f=this.Xb,g=a.Y*this.Wh,this.Xb=K(this.Xb+e,-g,g),e=this.Xb-f,k-=v*e,o+=u*e;if(this.hf&&this.Ja!=0){var a=c.g.d,e=this.Db.x-c.c.v.x,f=this.Db.y-c.c.v.y,d=a.a.x*e+a.b.x*f,f=a.a.y*e+a.b.y*f,e=d,a=b.g.d,g=this.Eb.x-b.c.v.x,h=this.Eb.y-b.c.v.y,d=a.a.x*g+a.b.x*h,h=a.a.y*g+a.b.y*h,g=d,a=n.x+-o*h-j.x- -k*f,w=n.y+o*g-j.y-k*e;$e(this.m,this.ka,-a,-w,
-(o-k));if(this.Ja==3)this.w.pd(this.ka);else if(this.Ja==1){if(d=this.w.r+this.ka.r,d<0)Ze(this.m,this.Gb,-a,-w),this.ka.x=this.Gb.x,this.ka.y=this.Gb.y,this.ka.r=-this.w.r,this.w.x+=this.Gb.x,this.w.y+=this.Gb.y,this.w.r=0}else if(this.Ja==2&&(d=this.w.r+this.ka.r,d>0))Ze(this.m,this.Gb,-a,-w),this.ka.x=this.Gb.x,this.ka.y=this.Gb.y,this.ka.r=-this.w.r,this.w.x+=this.Gb.x,this.w.y+=this.Gb.y,this.w.r=0;j.x-=p*this.ka.x;j.y-=p*this.ka.y;k-=v*(e*this.ka.y-f*this.ka.x+this.ka.r);n.x+=t*this.ka.x;n.y+=
t*this.ka.y;o+=u*(g*this.ka.y-h*this.ka.x+this.ka.r)}else a=c.g.d,e=this.Db.x-c.c.v.x,f=this.Db.y-c.c.v.y,d=a.a.x*e+a.b.x*f,f=a.a.y*e+a.b.y*f,e=d,a=b.g.d,g=this.Eb.x-b.c.v.x,h=this.Eb.y-b.c.v.y,d=a.a.x*g+a.b.x*h,h=a.a.y*g+a.b.y*h,g=d,Ze(this.m,this.tb,-(n.x+-o*h-j.x- -k*f),-(n.y+o*g-j.y-k*e)),this.w.x+=this.tb.x,this.w.y+=this.tb.y,j.x-=p*this.tb.x,j.y-=p*this.tb.y,k-=v*(e*this.tb.y-f*this.tb.x),n.x+=t*this.tb.x,n.y+=t*this.tb.y,o+=u*(g*this.tb.y-h*this.tb.x);c.q.l(j);c.G=k;b.q.l(n);b.G=o};
x.xc=function(){var a=0,c,b=this.za,d=this.Aa,e=0,f=c=0,g=0,h=0;if(this.hf&&this.Ja!=0){var a=d.c.k-b.c.k-this.qe,j=0;this.Ja==3?(a=K(a-this.oe,-Ib,Ib),j=-this.pe*a,e=Math.abs(a)):this.Ja==1?(a-=this.oe,e=-a,a=K(a+Hb,-Ib,0),j=-this.pe*a):this.Ja==2&&(a-=this.pf,e=a,a=K(a-Hb,0,Ib),j=-this.pe*a);b.c.k-=b.L*j;d.c.k+=d.L*j;Y(b);Y(d)}c=b.g.d;j=this.Db.x-b.c.v.x;a=this.Db.y-b.c.v.y;f=c.a.x*j+c.b.x*a;a=c.a.y*j+c.b.y*a;j=f;c=d.g.d;var k=this.Eb.x-d.c.v.x,n=this.Eb.y-d.c.v.y,f=c.a.x*k+c.b.x*n,n=c.a.y*k+c.b.y*
n,k=f,g=d.c.h.x+k-b.c.h.x-j,h=d.c.h.y+n-b.c.h.y-a,o=g*g+h*h;c=Math.sqrt(o);var f=b.z,p=d.z,t=b.L,v=d.L;o>0.05*0.05&&(o=1/(f+p),g=o*-g,h=o*-h,b.c.h.x-=0.5*f*g,b.c.h.y-=0.5*f*h,d.c.h.x+=0.5*p*g,d.c.h.y+=0.5*p*h,g=d.c.h.x+k-b.c.h.x-j,h=d.c.h.y+n-b.c.h.y-a);this.yd.a.x=f+p;this.yd.b.x=0;this.yd.a.y=0;this.yd.b.y=f+p;this.zd.a.x=t*a*a;this.zd.b.x=-t*j*a;this.zd.a.y=-t*j*a;this.zd.b.y=t*j*j;this.Ad.a.x=v*n*n;this.Ad.b.x=-v*k*n;this.Ad.a.y=-v*k*n;this.Ad.b.y=v*k*k;this.rb.Qc(this.yd);this.rb.Ge(this.zd);
this.rb.Ge(this.Ad);this.rb.Dd(ef,-g,-h);g=ef.x;h=ef.y;b.c.h.x-=b.z*g;b.c.h.y-=b.z*h;b.c.k-=b.L*(j*h-a*g);d.c.h.x+=d.z*g;d.c.h.y+=d.z*h;d.c.k+=d.L*(k*h-n*g);Y(b);Y(d);return c<=0.005&&e<=Hb};var ef=new F(0,0);function ff(){bf.call(this);this.ad=new F(0,0);this.bd=new F(0,0);this.type=1;this.ad.da();this.bd.da();this.ei=this.ai=this.ui=this.Mh=this.Ud=0;this.sh=this.rh=!1}A(ff,bf);ff.prototype.sa=function(a,c,b){this.ba=a;this.ca=c;this.ad=Gb(this.ba.g,b);this.bd=Gb(this.ca.g,b);this.Ud=this.ca.Jb()-this.ba.Jb()};ff.prototype.Mc=function(){return new df(this)};var gf={};
(function(a){var c,b=new F(600,80),d=new F(400,300),e,f,g,h;a.yb=function(c,e,f){g=new Oe(a,c,b,$.sc.Le,d,20,e);h=new $(g);c=new F(13,b.y-45);a.bf();a.oh();a.mh();a.Ob(c,f);a.af(new F(13,b.y-40));Pe(g)};a.Ob=function(a,b){var d=new F(0,0),o=new F(21,47),p=new F(o.x/20,o.y/20);c=h.Ob(p,a);Je(g.Mb,c,p,d,o);f=new lb("game");E(f,new We(function(){g.paused=!g.paused},"Pause",!1),80,!1,!1,!1);e=new lb("player");E(e,c.Ea.rf,b?87:38,!1,!1,!1);E(e,c.Ea.Rd,b?65:37,!1,!1,!1);E(e,c.Ea.qf,b?83:40,!1,!1,!1);E(e,
c.Ea.Sd,b?68:39,!1,!1,!1)};a.bf=function(){var c=new F(3,0.25);Q(g.n,new F(5,0.25),new F(16,b.y-1.5),!0,{Pa:Math.PI/3},q);h.Uc(c,new F(10,b.y-6));h.Uc(c,new F(6,b.y-12));h.Uc(c,new F(8,b.y-18));h.Uc(c,new F(12,b.y-24));h.Uc(c,new F(10,b.y-30));h.Uc(c,new F(10,b.y-36));h.f(new F(b.x-14,0.5),new F(b.x/2+7,b.y-25));a.$e(new F(10,5),new F(20,b.y-25))};a.$e=function(a,b){Q(g.n,new F(0.25,Math.sqrt(a.y*a.y*2)),new F(b.x+a.y/2,b.y-a.y/2),!0,{Pa:Math.PI/4},q);Q(g.n,new F(0.25,a.y),new F(b.x+a.y,b.y-a.y/2),
!0,q,q);Q(g.n,new F(0.25,a.y),new F(b.x+a.x,b.y-a.y/2),!0,q,q);for(var c=new Dd(0.15),d=a.y+1;d<a.x;d+=0.3)for(var e=0;e<a.y/2;e+=0.3){var f=g.n.sb(new F(0.3,0.3),new F(b.x+d+(Math.random()-0.5)/2,b.y-a.y),!0,c,{Rb:{Vc:0.1,Hb:0.1,Xa:0.1}}),h=Math.random();h<=0.25?R(f,"graphics/ball-red.png"):h<=0.5?R(f,"graphics/ball-green.png"):h<=0.75?R(f,"graphics/ball-yellow.png"):R(f,"graphics/ball-blue.png")}};a.oh=function(){for(var a=new ff,c=new cf,d=!1,e=20;e<=b.x-10;e+=8){var f={Pa:e/b.x*Math.PI},h=b.y-
14;d&&(h+=8);var d=!d,v=Q(g.n,new F(0.1,0.1),new F(e,h),!1,f),u=ze(g.n,new F(10,1),new F(e,h),f);R(u,"graphics/spinner.png");$.Hd(u,!1);var h=ze(g.n,new F(10,1),new F(e,h),f),w=h.body,f=f.Pa+Math.PI/2;f===i&&(f=0);me(w,w.g.position,f);R(h,"graphics/spinner.png");a.sa(v.body,u.body,v.body.c.h);g.n.gb.Ie(a);a.sa(v.body,h.body,v.body.c.h);g.n.gb.Ie(a);c.sa(u.body,h.body,u.body.c.h);g.n.gb.Ie(c)}};a.mh=function(){for(var a={type:2,Zc:!1},c={Hb:2.5},d=new Dd(0.25),e=new F(0.5,0.5),f=0;f<50;f++){var h=
f*5%(b.x-10),h=new F(h+f%20/20+4.5,15+f%20);g.n.sb(e,h,!0,d,{Tc:a,Rb:c})}d=new P;ac(d,0.25,0.25);for(f=0;f<50;f++)h=f*5%(b.x-10),h=new F(h+(f+5)%20/20+4.5,15+(f+5)%20),a.Pa=f%17/17,g.n.sb(e,h,!0,d,{Tc:a,Rb:c});d=new P;$b(d,[new F(-0.5,-0.5),new F(0.5,-0.5),new F(-0.5,0.5)]);for(f=0;f<50;f++)h=f*5%(b.x-10),h=new F(h+(f+10)%20/20+4.5,15+(f+10)%20),a.Pa=f%22/22,g.n.sb(e,h,!0,d,{Tc:a,Rb:c});d=new P;$b(d,[new F(-0.5,-0.5),new F(0,-0.5),new F(0.5,0),new F(0.5,0.5),new F(0,0.3)]);for(f=0;f<50;f++)h=f*5%
(b.x-10),h=new F(h+(f+15)%20/20+4.5,15+(f+15)%20),a.Pa=f%35/35,g.n.sb(e,h,!0,d,{Tc:a,Rb:c})};a.af=function(a){var b=new F(0,454),c=new F(178,326),d=new F(354,54),e=new F(354,54),f=new F(32,84),g=new F(158,388),u=new F(190,388),w=new F(158,356),y=new F(190,356),L=new F(158,356),C=new F(190,356),l=new F(1.6,1.6),a=new F(a.x+l.x/2,a.y+l.y/2),m=h.f(l,new F(a.x,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*2,a.y));R(m,"graphics/smbsheet.gif",
b);m=h.f(l,new F(a.x+l.x*3,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*4,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*5,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*6,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*7,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*8,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*9,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*10,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+
l.x*11,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*12,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*13,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*14,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*15,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*16,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Fa(l,new F(a.x+l.x*16,a.y-l.y*4));R(m,"graphics/smbsheet.gif",d);m=h.f(l,new F(a.x+l.x*17,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+
l.x*18,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*19,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*20,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Fa(l,new F(a.x+l.x*20,a.y-l.y*4));R(m,"graphics/smbsheet.gif",c);m=h.f(l,new F(a.x+l.x*21,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Fa(l,new F(a.x+l.x*21,a.y-l.y*4));R(m,"graphics/smbsheet.gif",e);m=h.f(l,new F(a.x+l.x*22,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Fa(l,new F(a.x+l.x*22,a.y-l.y*4));R(m,"graphics/smbsheet.gif",c);m=
h.Fa(l,new F(a.x+l.x*22,a.y-l.y*8));R(m,"graphics/smbsheet.gif",d);m=h.f(l,new F(a.x+l.x*23,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Fa(l,new F(a.x+l.x*23,a.y-l.y*4));R(m,"graphics/smbsheet.gif",d);m=h.f(l,new F(a.x+l.x*24,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Fa(l,new F(a.x+l.x*24,a.y-l.y*4));R(m,"graphics/smbsheet.gif",c);m=h.f(l,new F(a.x+l.x*25,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*26,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*27,a.y));R(m,"graphics/smbsheet.gif",
b);m=h.f(l,new F(a.x+l.x*28,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*28,a.y-l.y*1));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*28,a.y-l.y*2));R(m,"graphics/smbsheet.gif",w);m=h.f(l,new F(a.x+l.x*29,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*29,a.y-l.y*1));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*29,a.y-l.y*2));R(m,"graphics/smbsheet.gif",y);m=h.f(l,new F(a.x+l.x*30,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*31,a.y));R(m,"graphics/smbsheet.gif",
b);m=h.f(l,new F(a.x+l.x*32,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*33,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*34,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*35,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*36,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*37,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*38,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*38,a.y-l.y*1));R(m,"graphics/smbsheet.gif",
g);m=h.f(l,new F(a.x+l.x*38,a.y-l.y*2));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*38,a.y-l.y*3));R(m,"graphics/smbsheet.gif",w);m=h.f(l,new F(a.x+l.x*39,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*39,a.y-l.y*1));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*39,a.y-l.y*2));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*39,a.y-l.y*3));R(m,"graphics/smbsheet.gif",y);m=h.f(l,new F(a.x+l.x*40,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*41,a.y));R(m,
"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*42,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*43,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*44,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*45,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*46,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*46,a.y-l.y*1));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*46,a.y-l.y*2));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*46,a.y-
l.y*3));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*46,a.y-l.y*4));R(m,"graphics/smbsheet.gif",w);m=h.f(l,new F(a.x+l.x*47,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*47,a.y-l.y*1));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*47,a.y-l.y*2));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*47,a.y-l.y*3));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*47,a.y-l.y*4));R(m,"graphics/smbsheet.gif",y);m=h.f(l,new F(a.x+l.x*48,a.y));R(m,"graphics/smbsheet.gif",b);
m=h.f(l,new F(a.x+l.x*49,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*50,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*51,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*52,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*53,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*54,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*55,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*56,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,
new F(a.x+l.x*57,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*57,a.y-l.y*1));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*57,a.y-l.y*2));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*57,a.y-l.y*3));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*57,a.y-l.y*4));R(m,"graphics/smbsheet.gif",L);m=h.f(l,new F(a.x+l.x*58,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*58,a.y-l.y*1));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*58,a.y-l.y*2));R(m,"graphics/smbsheet.gif",
u);m=h.f(l,new F(a.x+l.x*58,a.y-l.y*3));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*58,a.y-l.y*4));R(m,"graphics/smbsheet.gif",C);m=h.f(l,new F(a.x+l.x*59,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*60,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*61,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*62,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*63,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*64,a.y));R(m,"graphics/smbsheet.gif",
b);m=h.Fa(l,new F(a.x+l.x*64,a.y-l.y*5));$.Hd(m,$.O.Rc|$.O.vc|$.O.wc);R(m,"graphics/smbsheet.gif",f);m=h.f(l,new F(a.x+l.x*65,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*66,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*67,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*68,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*71,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*72,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*73,a.y));
R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*74,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*75,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*76,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*77,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Fa(l,new F(a.x+l.x*77,a.y-l.y*4));R(m,"graphics/smbsheet.gif",c);m=h.f(l,new F(a.x+l.x*78,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Fa(l,new F(a.x+l.x*78,a.y-l.y*4));R(m,"graphics/smbsheet.gif",e);m=h.f(l,new F(a.x+l.x*
79,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Fa(l,new F(a.x+l.x*79,a.y-l.y*4));R(m,"graphics/smbsheet.gif",c)};a.Fe=function(a,b){nb(f,b)};a.we=function(a,b){nb(f,b);nb(e,b)};a.ve=function(){tc(g.viewport,c.body.c.h)}})(gf);ba("test.init",gf.yb);var hf={};
(function(a){var c,b=new F(350,30),d=new F(600,300),e,f,g,h,j=new F(0,454),k=new F(178,326),n=new F(2,124),o=new F(354,54),p=new F(0,58),t=new F(290,54),v=new F(178,326),u=new F(0,0),w=new F(32,84),y=new F(354,54),L=new F(0,90),C=new F(0,0),l=new F(2,158),m=new F(158,388),H=new F(190,388),V=new F(158,356),kf=new F(190,356),lf=new F(158,356),mf=new F(190,356),nf=new F(55,380),of=new F(10,396),pf=new F(466,168),qf=new F(452,136),rf=new F(466,104),sf=new F(300,424),tf=new F(300,352),uf=new F(364,424),
vf=new F(364,384),wf=new F(332,352),xf=new F(332,320),yf=new F(396,352),zf=new F(396,320),Af=new F(364,352),Bf=new F(362,264),Cf=new F(160,64);a.yb=function(c,e,f){g=new Oe(a,c,b,$.sc.Le,d,20,e);h=new $(g);c=new F(5,b.y-7);a.Ob(c,f);a.af(new F(0,b.y),c);f=Z(g.n,new F(d.x/20,d.y/20),new F(0,0),-1);R(f,"graphics/sky.png");f.display.ue=1;Pe(g)};a.Ob=function(a,b){var d=new F(0,0),j=new F(21,47),k=new F(j.x/20,j.y/20);c=h.Ob(k,a);Je(g.Mb,c,k,d,j);f=new lb("game");E(f,new We(function(){g.paused=!g.paused},
"Pause",!1),80,!1,!1,!1);e=new lb("player");E(e,c.Ea.rf,b?87:38,!1,!1,!1);E(e,c.Ea.Rd,b?65:37,!1,!1,!1);E(e,c.Ea.qf,b?83:40,!1,!1,!1);E(e,c.Ea.Sd,b?68:39,!1,!1,!1)};a.af=function(b,c){for(var d=new F(1.6,1.6),e=new F(b.x-d.x/2,b.y-d.y/2),f=["                                                                                                                                                                                                                    ".split(""),"                                                                                                                                                                                                                    ".split(""),
"                                                                                                                                                                                                      o             ".split(""),"                                                                                                                                                                                                     F|             ".split(""),"                                                                                   G                                                                                                                  |             ".split(""),
"                      O                                                         ########   ###O              M           ###    #OO#                                                        ==        |             ".split(""),"                                                                                                                                                                                           ===        |             ".split(""),"                                                                               G                                                                                                          ====        |     $       ".split(""),
"                                                                1                                                                                                                        =====        |    ^^^      ".split(""),"                O   #M#O#                     <>         {}                  #M#              @     #*    O  O  O     #          ##      =  =          ==  =            ###O#           ======        |    R+L      ".split(""),"                                      <>      []         []                                                                             ==  ==        ===  ==                          =======        |   ^r&l^     ".split(""),
"                            <>        []      []         []                                                                            ===  ===      ====  ===     {}              <> ========        |   ++u++     ".split(""),"                     G      []        [] G    []     G G []                                    G G        T                G G G G    ====  ====    =====  ====    []        G G   []=========        =   ++8++     ".split(""),"---------------------------------------------------------------------  ---------------   ----------------------------------------------------------------  ---------------------------------------------------------".split(""),
"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".split("")],e=new F(e.x,e.y-d.y*(f.length-1)),g=0;g<f.length;g++)for(var h=0;h<f[g].length;h++)a.nh(f[g][h],new F(h,g),e,d,c)};a.nh=function(a,b,c,d,e){var f=q,B=q;switch(a){case " ":break;case "-":f=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=j;break;case "=":f=h.f(d,new F(c.x+b.x*d.x,c.y+
b.y*d.y));B=n;break;case "O":f=h.Fa(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));$.$c(f,function(){var a=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));R(a,"graphics/smbsheet.gif",t);a=Z(g.n,d,new F(c.x+b.x*d.x,c.y+(b.y-1)*d.y));R(a,"graphics/smbsheet.gif",p)},$.O.vb);B=o;break;case "@":f=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));f.Tf=8;f.Ye=0;$.$c(f,function(){f.Ye++;var a=Z(g.n,d,new F(c.x+b.x*d.x,c.y+(b.y-f.Ye/f.Tf)*d.y));R(a,"graphics/smbsheet.gif",p);f.Ye==f.Tf&&(Ge(g.n,f),a=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y)),R(a,
"graphics/smbsheet.gif",t))},$.O.vb);B=v;break;case "#":f=h.Fa(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=k;break;case "1":f=h.Fa(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));$.Hd(f,$.O.Rc|$.O.vc|$.O.wc);$.$c(f,function(){var a=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));R(a,"graphics/smbsheet.gif",t);a=Z(g.n,d,new F(c.x+b.x*d.x,c.y+(b.y-1)*d.y));R(a,"graphics/smbsheet.gif",l)},$.O.vb);B=C;break;case "*":f=h.Fa(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));$.Hd(f,$.O.Rc|$.O.vc|$.O.wc);$.$c(f,function(){var a=h.f(d,new F(c.x+b.x*d.x,
c.y+b.y*d.y));R(a,"graphics/smbsheet.gif",t);a=Z(g.n,d,new F(c.x+b.x*d.x,c.y+(b.y-1)*d.y));R(a,"graphics/smbsheet.gif",w)},$.O.vb);B=u;break;case "M":f=h.Fa(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));$.$c(f,function(){var a=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));R(a,"graphics/smbsheet.gif",t);a=Z(g.n,d,new F(c.x+b.x*d.x,c.y+(b.y-1)*d.y));R(a,"graphics/smbsheet.gif",L)},$.O.vb);B=y;break;case "[":f=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=m;break;case "]":f=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=H;break;case "<":f=
h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=V;break;case ">":f=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=kf;break;case "{":f=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=lf;break;case "}":f=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=mf;break;case "T":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=nf;break;case "G":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=of;break;case "|":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=pf;break;case "F":f=Z(g.n,d,new F(c.x+b.x*d.x+d.x/2,c.y+b.y*d.y),1);B=qf;break;case "o":f=Z(g.n,
d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=rf;break;case "+":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=sf;break;case "^":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=tf;break;case "8":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=uf;break;case "u":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=vf;break;case "R":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=xf;break;case "r":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=wf;break;case "L":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=zf;break;case "l":f=Z(g.n,d,new F(c.x+
b.x*d.x,c.y+b.y*d.y));B=yf;break;case "&":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=Af;break;case "$":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y+d.y/4));B=Bf;break;case "x":f=h.lh(d,new F(c.x+b.x*d.x,c.y+b.y*d.y),e);B=Cf;break;default:throw"Invalid type: "+a;}f!==q&&"graphics/smbsheet.gif"!==q&&B!==q&&R(f,"graphics/smbsheet.gif",B)};a.Fe=function(a,b){nb(f,b)};a.we=function(a,b){nb(f,b);nb(e,b)};a.ve=function(){tc(g.viewport,c.body.c.h)}})(hf);ba("mario.init",hf.yb);var jf={};
(function(a){var c,b=new F(5,10),d=new F(100,200),e,f,g,h;a.yb=function(c,e,f){g=new Oe(a,c,b,$.sc.Le,d,20,e);h=new $(g);c=new F(2,2);a.bf();a.Ob(c,f);Pe(g)};a.Ob=function(a,b){var d=new F(0,0),o=new F(21,47),p=new F(o.x/20,o.y/20);c=h.Ob(p,a);Je(g.Mb,c,p,d,o);f=new lb("game");E(f,new We(function(){g.paused=!g.paused},"Pause",!1),80,!1,!1,!1);e=new lb("player");E(e,c.Ea.rf,b?87:38,!1,!1,!1);E(e,c.Ea.Rd,b?65:37,!1,!1,!1);E(e,c.Ea.qf,b?83:40,!1,!1,!1);E(e,c.Ea.Sd,b?68:39,!1,!1,!1)};a.bf=function(){h.f(new F(b.x,0.5),
new F(b.x/2,b.y-0.25));a.$e(new F(b.x,6),new F(0,b.y-0.25))};a.$e=function(a,b){Q(g.n,new F(0.25,a.y),new F(b.x+0,b.y-a.y/2),!0,q,q);Q(g.n,new F(0.25,a.y),new F(b.x+a.x-0.125,b.y-a.y/2),!0,q,q);for(var c=new Dd(0.15),d=0,e=0.15;e<a.x-0.15;e+=0.3)for(var f=0;f<a.y/2;f+=0.3){var h=g.n.sb(new F(0.3,0.3),new F(b.x+e-d++%2*0.15,b.y-f),!0,c,{Rb:{Vc:0.1,Hb:0.1,Xa:0.1}}),u=Math.random();u<=0.25?R(h,"graphics/ball-red.png"):u<=0.5?R(h,"graphics/ball-green.png"):u<=0.75?R(h,"graphics/ball-yellow.png"):R(h,
"graphics/ball-blue.png")}};a.Fe=function(a,b){nb(f,b)};a.we=function(a,b){nb(f,b);nb(e,b)};a.ve=function(){tc(g.viewport,c.body.c.h)}})(jf);ba("pit.init",jf.yb);})();
