(function(){var k=void 0,p=true,q=null,s=false;function aa(){return function(){}}function ba(a){return function(){return this[a]}}function ca(a){return function(){return a}}var u,x=this;function da(a,c){var b=a.split("."),d=x;!(b[0]in d)&&d.execScript&&d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)!b.length&&c!==k?d[e]=c:d=d[e]?d[e]:d[e]={}}function ea(){}
function fa(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if(b=="[object Window]")return"object";if(b=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(b=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}var ga="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ha=0;function z(a,c){function b(){}b.prototype=c.prototype;a.Ah=c.prototype;a.prototype=new b;a.prototype.constructor=a};function ia(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),g=Math.max(d.length,e.length),f=0;b==0&&f<g;f++){var h=d[f]||"",i=e[f]||"",j=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var m=j.exec(h)||["","",""],n=l.exec(i)||["","",""];if(m[0].length==0&&n[0].length==0)break;b=ja(m[1].length==0?0:parseInt(m[1],10),n[1].length==0?0:parseInt(n[1],10))||ja(m[2].length==0,n[2].length==0)||ja(m[2],n[2])}while(b==
0)}return b}function ja(a,c){if(a<c)return-1;else if(a>c)return 1;return 0};var ka,la,ma,na;function oa(){return x.navigator?x.navigator.userAgent:q}na=ma=la=ka=s;var pa;if(pa=oa()){var qa=x.navigator;ka=pa.indexOf("Opera")==0;la=!ka&&pa.indexOf("MSIE")!=-1;ma=!ka&&pa.indexOf("WebKit")!=-1;na=!ka&&!ma&&qa.product=="Gecko"}var ra=la,sa=na,ta=ma,ua=x.navigator,va=(ua&&ua.platform||"").indexOf("Mac")!=-1,wa;
a:{var xa="",ya;if(ka&&x.opera)var za=x.opera.version,xa=typeof za=="function"?za():za;else if(sa?ya=/rv\:([^\);]+)(\)|;)/:ra?ya=/MSIE\s+([^\);]+)(\)|;)/:ta&&(ya=/WebKit\/(\S+)/),ya)var Aa=ya.exec(oa()),xa=Aa?Aa[1]:"";if(ra){var Ba,Ca=x.document;Ba=Ca?Ca.documentMode:k;if(Ba>parseFloat(xa)){wa=String(Ba);break a}}wa=xa}var Da={},Ea={};var Fa,Ga={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",
96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};var Ha=Array.prototype,Ia=Ha.indexOf?function(a,c,b){return Ha.indexOf.call(a,c,b)}:function(a,c,b){b=b==q?0:b<0?Math.max(0,a.length+b):b;if(typeof a=="string")return typeof c!="string"||c.length!=1?-1:a.indexOf(c,b);for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1};function Ja(a,c){Ia(a,c)>=0||a.push(c)}function Ka(a,c){var b=Ia(a,c);b>=0&&Ha.splice.call(a,b,1)};ra&&(Ea[9]||(Ea[9]=ra&&document.documentMode&&document.documentMode>=9));ra&&(Da["8"]||(Da["8"]=ia(wa,"8")>=0));function La(){}La.prototype.$g=s;La.prototype.Dd=function(){if(!this.$g)this.$g=p,this.Ed()};La.prototype.Ed=function(){this.pi&&Ma.apply(q,this.pi)};function Ma(a){for(var c=0,b=arguments.length;c<b;++c){var d=arguments[c],e=fa(d);e=="array"||e=="object"&&typeof d.length=="number"?Ma.apply(q,d):d&&typeof d.Dd=="function"&&d.Dd()}};function Na(a,c){this.type=a;this.currentTarget=this.target=c}z(Na,La);Na.prototype.Ed=function(){delete this.type;delete this.target;delete this.currentTarget};Na.prototype.rg=s;Na.prototype.kj=p;function Oa(a){Oa[" "](a);return a}Oa[" "]=ea;function Pa(a,c){a&&this.ub(a,c)}z(Pa,Na);u=Pa.prototype;u.target=q;u.relatedTarget=q;u.offsetX=0;u.offsetY=0;u.clientX=0;u.clientY=0;u.screenX=0;u.screenY=0;u.button=0;u.keyCode=0;u.charCode=0;u.ctrlKey=s;u.altKey=s;u.shiftKey=s;u.metaKey=s;u.hj=s;u.ah=q;
u.ub=function(a,c){var b=this.type=a.type;Na.call(this,b);this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(sa){var e;a:{try{Oa(d.nodeName);e=p;break a}catch(g){}e=s}e||(d=q)}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==k?a.offsetX:a.layerX;this.offsetY=a.offsetY!==k?a.offsetY:a.layerY;this.clientX=a.clientX!==k?a.clientX:a.pageX;this.clientY=a.clientY!==k?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.hj=va?a.metaKey:a.ctrlKey;this.state=a.state;this.ah=a;delete this.kj;delete this.rg};u.Ed=function(){Pa.Ah.Ed.call(this);this.relatedTarget=this.currentTarget=this.target=this.ah=q};function Qa(){}var Ra=0;u=Qa.prototype;u.key=0;u.Zd=s;u.Rg=s;u.ub=function(a,c,b,d,e,g){if(fa(a)=="function")this.fh=p;else if(a&&a.handleEvent&&fa(a.handleEvent)=="function")this.fh=s;else throw Error("Invalid listener argument");this.xe=a;this.zh=c;this.src=b;this.type=d;this.capture=!!e;this.dh=g;this.Rg=s;this.key=++Ra;this.Zd=s};u.handleEvent=function(a){return this.fh?this.xe.call(this.dh||this.src,a):this.xe.handleEvent.call(this.xe,a)};var Sa,Ta=(Sa="ScriptEngine"in x&&x.ScriptEngine()=="JScript")?x.ScriptEngineMajorVersion()+"."+x.ScriptEngineMinorVersion()+"."+x.ScriptEngineBuildVersion():"0";function Ua(a,c){this.sh=c;this.kd=[];if(a>this.sh)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.kd.push(this.Gb())}z(Ua,La);Ua.prototype.gd=q;Ua.prototype.Zg=q;function Va(a){return a.kd.length?a.kd.pop():a.Gb()}function Wa(a,c){a.kd.length<a.sh?a.kd.push(c):Xa(a,c)}Ua.prototype.Gb=function(){return this.gd?this.gd():{}};
function Xa(a,c){if(a.Zg)a.Zg(c);else{var b=fa(c);if(b=="object"||b=="array"||b=="function")if(fa(c.Dd)=="function")c.Dd();else for(var d in c)delete c[d]}}Ua.prototype.Ed=function(){Ua.Ah.Ed.call(this);for(var a=this.kd;a.length;)Xa(this,a.pop());delete this.kd};var Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb;
(function(){function a(){return{Jc:0,Yd:0}}function c(){return[]}function b(){function a(b){b=f.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new Qa}function e(){return new Pa}var g=Sa&&!(ia(Ta,"5.7")>=0),f;cb=function(a){f=a};if(g){Ya=function(){return Va(h)};Za=function(a){Wa(h,a)};$a=function(){return Va(i)};ab=function(a){Wa(i,a)};bb=function(){return Va(j)};db=function(){Wa(j,b())};eb=function(){return Va(l)};fb=function(a){Wa(l,a)};gb=function(){return Va(m)};hb=function(a){Wa(m,
a)};var h=new Ua(0,600);h.gd=a;var i=new Ua(0,600);i.gd=c;var j=new Ua(0,600);j.gd=b;var l=new Ua(0,600);l.gd=d;var m=new Ua(0,600);m.gd=e}else Ya=a,Za=ea,$a=c,ab=ea,bb=b,db=ea,eb=d,fb=ea,gb=e,hb=ea})();var ib={},B={},jb={},kb={};
function lb(a,c,b,d,e){if(c)if(fa(c)=="array")for(var g=0;g<c.length;g++)lb(a,c[g],b,d,e);else{var d=!!d,f=B;c in f||(f[c]=Ya());f=f[c];d in f||(f[d]=Ya(),f.Jc++);var f=f[d],h=a[ga]||(a[ga]=++ha),i;f.Yd++;if(f[h]){i=f[h];for(g=0;g<i.length;g++)if(f=i[g],f.xe==b&&f.dh==e){if(f.Zd)break;return}}else i=f[h]=$a(),f.Jc++;g=bb();g.src=a;f=eb();f.ub(b,g,a,c,d,e);b=f.key;g.key=b;i.push(f);ib[b]=f;jb[h]||(jb[h]=$a());jb[h].push(f);a.addEventListener?(a==x||!a.oi)&&a.addEventListener(c,g,d):a.attachEvent(c in
kb?kb[c]:kb[c]="on"+c,g)}else throw Error("Invalid event type");}function mb(a,c,b,d){if(!d.jf&&d.vh){for(var e=0,g=0;e<d.length;e++)if(d[e].Zd){var f=d[e].zh;f.src=q;db(f);fb(d[e])}else e!=g&&(d[g]=d[e]),g++;d.length=g;d.vh=s;g==0&&(ab(d),delete B[a][c][b],B[a][c].Jc--,B[a][c].Jc==0&&(Za(B[a][c]),delete B[a][c],B[a].Jc--),B[a].Jc==0&&(Za(B[a]),delete B[a]))}}
function nb(a,c,b,d,e){var g=1,c=c[ga]||(c[ga]=++ha);if(a[c]){a.Yd--;a=a[c];a.jf?a.jf++:a.jf=1;try{for(var f=a.length,h=0;h<f;h++){var i=a[h];i&&!i.Zd&&(g&=ob(i,e)!==s)}}finally{a.jf--,mb(b,d,c,a)}}return Boolean(g)}
function ob(a,c){var b=a.handleEvent(c);if(a.Rg){var d=a.key;if(ib[d]){var e=ib[d];if(!e.Zd){var g=e.src,f=e.type,h=e.zh,i=e.capture;g.removeEventListener?(g==x||!g.oi)&&g.removeEventListener(f,h,i):g.detachEvent&&g.detachEvent(f in kb?kb[f]:kb[f]="on"+f,h);g=g[ga]||(g[ga]=++ha);h=B[f][i][g];if(jb[g]){var j=jb[g];Ka(j,e);j.length==0&&delete jb[g]}e.Zd=p;h.vh=p;mb(f,i,g,h);delete ib[d]}}}return b}
cb(function(a,c){if(!ib[a])return p;var b=ib[a],d=b.type,e=B;if(!(d in e))return p;var e=e[d],g,f;Fa===k&&(Fa=ra&&!x.addEventListener);if(Fa){var h;if(!(h=c))a:{h="window.event".split(".");for(var i=x;g=h.shift();)if(i[g]!=q)i=i[g];else{h=q;break a}h=i}g=h;h=p in e;i=s in e;if(h){if(g.keyCode<0||g.returnValue!=k)return p;a:{var j=s;if(g.keyCode==0)try{g.keyCode=-1;break a}catch(l){j=p}if(j||g.returnValue==k)g.returnValue=p}}j=gb();j.ub(g,this);g=p;try{if(h){for(var m=$a(),n=j.currentTarget;n;n=n.parentNode)m.push(n);
f=e[p];f.Yd=f.Jc;for(var o=m.length-1;!j.rg&&o>=0&&f.Yd;o--)j.currentTarget=m[o],g&=nb(f,m[o],d,p,j);if(i){f=e[s];f.Yd=f.Jc;for(o=0;!j.rg&&o<m.length&&f.Yd;o++)j.currentTarget=m[o],g&=nb(f,m[o],d,s,j)}}else g=ob(b,j)}finally{if(m)m.length=0,ab(m);j.Dd();hb(j)}return g}d=new Pa(c,this);try{g=ob(b,d)}finally{d.Dd()}return g});var pb={61:187,59:186};ra||ta&&(Da["525"]||(Da["525"]=ia(wa,"525")>=0));function qb(a){this.id=rb++;this.name=a;this.controls={};this.ug={};this.Ug=[];this.yf=this.Ye=q}function C(a,c){var b=0,d=sb==tb&&ub==vb&&wb==xb,e;for(e in yb){var g=d&&yb[e].Gh;b++;var f=zb(e,sb,ub,wb);a.Ye==q&&a.controls[f]!=q&&(!g||a.controls[f].ri)&&a.controls[f].execute(c)}if(b==1&&a.Ye!=q)a.yf!=q&&clearTimeout(a.yf),a.yf=setTimeout(function(){D(a,a.Ye,f);a.Ye=q;a.yf=q},100)}
function D(a,c,b,d,e,g){var f=b;typeof b=="number"&&(f=zb(b,d,e,g));b=[];d=a.controls[f];e=a.ug[c.name];if(d!=q)if(e!=q)a.controls[e]=d,a.ug[d.name]=e,b.push(new Ab(e,d));else throw"The specified key is already in use for a different function.";else e!=q&&delete a.controls[e];a.controls[f]=c;a.ug[c.name]=f;b.push(new Ab(f,c));for(c=0;c<a.Ug.length;c++)f=a.Ug[c],f.Aj.apply(f.xe,b||[],Bb(a))}function Bb(a){var c=[],b;for(b in a.controls)c.push(new Ab(b,a.controls[b]));return c}
var rb=0,yb={},sb=s,tb={},ub=s,vb={},wb=s,xb={};function Cb(a){var c=a.uj,c=sa&&a.keyCode in pb?pb[a.keyCode]:a.keyCode;return{keyCode:c,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey}}function zb(a,c,b,d){var e=Ga[a];e==q&&(e="KEY["+a+"]");return(c?"Ctrl + ":"")+(b?"Alt + ":"")+(d?"Shift + ":"")+e.toUpperCase()}lb(document,"keydown",function(a){a=Cb(a);a.keyCode!=16&&a.keyCode!=17&&a.keyCode!=18&&yb[a.keyCode]==q&&(yb[a.keyCode]={Gh:s});sb=a.ctrlKey;ub=a.altKey;wb=a.shiftKey});
lb(document,"keyup",function(a){a=Cb(a);delete yb[a.keyCode];sb=a.ctrlKey;ub=a.altKey;wb=a.shiftKey});lb(document,"blur",function(){yb={};xb=wb=vb=ub=tb=sb=s});function Ab(a,c){this.key=this.key=a;this.action=this.action=c};function F(a,c){this.x=a;this.y=c}u=F.prototype;u.Q=function(){this.y=this.x=0};u.j=function(a,c){this.x=a;this.y=c};u.m=function(a){this.x=a.x;this.y=a.y};u.Cb=function(){return new F(-this.x,-this.y)};u.Eg=function(){this.x=-this.x;this.y=-this.y};u.ea=function(){return new F(this.x,this.y)};u.Nb=function(a){this.x+=a.x;this.y+=a.y};u.Nf=function(a){this.x-=a.x;this.y-=a.y};u.jc=function(a){this.x*=a;this.y*=a};function Db(a){return Math.sqrt(Eb(a))}function Eb(a){return a.x*a.x+a.y*a.y}
function G(a){var c=Db(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)};var Fb={},Gb=0;function Hb(){Gb--}function Ib(a){if(a.vg===k||a.vg===q)a.vg={};return a.vg};function Jb(){this.uf=this.dg=this.Jd=this.Ri=this.Md=1;var a=this;this.Wi={vi:{clear:function(){a.pc.clearRect(0,0,a.pc.canvas.width,a.pc.canvas.height)}}};this.kh=0}var Kb,Lb,Mb,Nb,Ob,Pb;
(function(a){a.prototype.Hc=function(a,b){return"rgba("+((a&16711680)>>16)+","+((a&65280)>>8)+","+(a&255)+","+b+")"};a.prototype.Vh=function(){var a=Qb;a===k&&(a=0);this.kh=a};a.prototype.Xh=function(a){this.pc=a};a.prototype.Th=function(a){a===k&&(a=0);this.Md=a};a.prototype.Wh=function(){var a=1;a===k&&(a=0);this.Ri=a;this.pc.Lj=a};a.prototype.Uh=function(){var a=0.3;a===k&&(a=0);this.dg=a};a.prototype.Jh=function(a,b){var d=this.pc,e=this.Md;d.beginPath();d.strokeStyle=this.Hc(Rb(b),this.Jd);d.moveTo(a[0].x*
e,a[0].y*e);for(var g=1;g<4;g++)d.lineTo(a[g].x*e,a[g].y*e);d.lineTo(a[0].x*e,a[0].y*e);d.closePath();d.stroke()};a.prototype.Lh=function(a,b,d){if(b){var e=this.pc,g=this.Md;e.beginPath();e.strokeStyle=this.Hc(Rb(d),this.Jd);e.fillStyle=this.Hc(Rb(d),this.dg);e.moveTo(a[0].x*g,a[0].y*g);for(d=1;d<b;d++)e.lineTo(a[d].x*g,a[d].y*g);e.lineTo(a[0].x*g,a[0].y*g);e.closePath();e.fill();e.stroke()}};a.prototype.Kh=function(a,b,d,e){if(b){var g=this.pc,f=this.Md,h=a.x*f,i=a.y*f;g.moveTo(0,0);g.beginPath();
g.strokeStyle=this.Hc(Rb(e),this.Jd);g.fillStyle=this.Hc(Rb(e),this.dg);g.arc(h,i,b*f,0,Math.PI*2,p);g.moveTo(h,i);g.lineTo((a.x+d.x*b)*f,(a.y+d.y*b)*f);g.closePath();g.fill();g.stroke()}};a.prototype.Gc=function(a,b,d){var e=this.pc,g=this.Md;e.strokeStyle=this.Hc(Rb(d),this.Jd);e.beginPath();e.moveTo(a.x*g,a.y*g);e.lineTo(b.x*g,b.y*g);e.closePath();e.stroke()};a.prototype.Mh=function(){var a=Sb,b=this.pc,d=this.Md;b.beginPath();b.strokeStyle=this.Hc(16711680,this.Jd);b.moveTo(a.position.x*d,a.position.y*
d);b.lineTo((a.position.x+this.uf*a.d.a.x)*d,(a.position.y+this.uf*a.d.a.y)*d);b.strokeStyle=this.Hc(65280,this.Jd);b.moveTo(a.position.x*d,a.position.y*d);b.lineTo((a.position.x+this.uf*a.d.b.x)*d,(a.position.y+this.uf*a.d.b.y)*d);b.closePath();b.stroke()};Kb=1;Lb=2;Mb=4;Nb=8;Ob=16;Pb=32})(Jb);function Tb(a,c,b,d){if(Fb[a]==q)Gb++,Fb[a]=new Image,Fb[a].onload=Hb,Fb[a].src=a;this.url=a;this.wh=c||new F(0,0);this.zf=b||new F(1,1);this.Dh=d||new F(1,1);this.mb=new F(1,1)};function Ub(){this.lowerBound=new F(0,0);this.upperBound=new F(0,0)}function Vb(a){return new F((a.lowerBound.x+a.upperBound.x)/2,(a.lowerBound.y+a.upperBound.y)/2)}function Wb(a,c){var b;return b=(b=(b=(b=p&&a.lowerBound.x<=c.lowerBound.x)&&a.lowerBound.y<=c.lowerBound.y)&&c.upperBound.x<=a.upperBound.x)&&c.upperBound.y<=a.upperBound.y}
Ub.prototype.Bd=function(a){return a.lowerBound.x-this.upperBound.x>0?s:a.lowerBound.y-this.upperBound.y>0?s:this.lowerBound.x-a.upperBound.x>0?s:this.lowerBound.y-a.upperBound.y>0?s:p};function Xb(a,c,b){a.lowerBound.x=Math.min(c.lowerBound.x,b.lowerBound.x);a.lowerBound.y=Math.min(c.lowerBound.y,b.lowerBound.y);a.upperBound.x=Math.max(c.upperBound.x,b.upperBound.x);a.upperBound.y=Math.max(c.upperBound.y,b.upperBound.y)};function Yb(a,c,b,d,e){this.lc={};this.ta=a;this.Ab=d;this.Bc=new F(d.x/b,d.y/b);this.scale=b;this.ya=new F(0,0);this.gf=new F(-1,-1);this.Ef=new Ub;this.Ef.upperBound=this.Bc.ea();this.Ef.upperBound.jc(1.25);Zb(this,new F(0,0));a=document.getElementById(c);this.hd=document.createElement("span");if(e)a.innerHTML='<div style="width: '+this.Ab.x+"px; height: "+this.Ab.y/2+'px; background-color: #000; opacity: 0.15; position: absolute;"></div><div style="width: '+this.Ab.x/2+"px; height: "+this.Ab.y+
'px; background-color: #FFF; opacity: 0.15; position: absolute;"></div>',this.hd.innerHTML='<canvas id="'+c+'__DEBUG" class="debugViewport"></canvas>';this.hd.className="viewportContainer";this.hd.style.width=this.Ab.x+"px";this.hd.style.height=this.Ab.y+"px";this.display=document.createElement("span");this.display.className="viewport";this.hd.appendChild(this.display);a.appendChild(this.hd);this.Zf=document.createElement("div");this.Zf=$b(this,"Loading, please wait.");ac(this.Zf);this.xh=$b(this,
"Paused");e?(this.bb=document.getElementById(c+"__DEBUG"),this.bb.width=this.ta.o.Ya.x*b,this.bb.height=this.ta.o.Ya.y*b,this.bb.style.marginRight="-"+this.bb.width+"px",this.bb.style.marginBottom="-"+this.bb.height+"px",c=new Jb,c.Xh(this.bb.getContext("2d")),c.Th(b),c.Uh(),c.Wh(),c.Vh(),this.ta.o.ia.Na=c):this.bb=q}
function $b(a,c){var b=document.createElement("div");b.style.fontSize="40px";b.style.textAlign="center";b.style.verticalAlign="middle";b.style.backgroundColor="rgba(255,255,255,0.5)";b.style.color="black";b.style.position="relative";b.style.display="none";b.style.zIndex=100+bc;b.innerHTML=c;b.style.width=a.Ab.x+"px";b.style.height=a.Ab.y+"px";a.hd.appendChild(b);return b}function ac(a){if(a.style.display=="none")a.style.display="table-cell"}
function cc(a){if(a.style.display!="none")a.style.display="none"}function Zb(a,c){a.ya.x=c.x;a.ya.y=c.y;if(a.ya.x<a.Bc.x/2)a.ya.x=a.Bc.x/2;else if(a.ya.x>a.ta.o.Ya.x-a.Bc.x/2)a.ya.x=a.ta.o.Ya.x-a.Bc.x/2;if(a.ya.y<a.Bc.y/2)a.ya.y=a.Bc.y/2;else if(a.ya.y>a.ta.o.Ya.y-a.Bc.y/2)a.ya.y=a.ta.o.Ya.y-a.Bc.y/2}
function dc(a,c){if(a.display==q)a.display={},a.display.L=new Ub,a.ui=function(a){var c=this.body?this.body.e.position:this.position.ea();return this.display.xf==0?c:new F(c.x+(a.x-c.x)*this.display.xf,c.y+(a.y-c.y)*this.display.xf)},a.ti=function(){return this.body?this.body.Sb():this.Za},a.display.xf=0,a.display.Hh=0;a.display.size=c.ea()}function H(a,c,b){a.display.Af=new Tb(c,b)}var bc=100,Qb=0|Mb|Lb|Kb,ec=0;var fc=function(){var a=window.Kj||window.Nj||window.Dj||window.Hj||window.Ej||function(a){window.setTimeout(a,1E3/60)};return function(){a.apply(window,arguments)}}();function gc(){this.pe=1;this.Je=65535;this.md=0}gc.prototype.ea=function(){var a=new gc;a.pe=this.pe;a.Je=this.Je;a.md=this.md;return a};function hc(){this.filter=new gc;this.shape=q;this.tb=0.2;this.re=this.Ac=0;this.filter.pe=1;this.filter.Je=65535;this.filter.md=0;this.ff=s};function ic(){this.a=new F(0,0);this.b=new F(0,0);this.Xe()}function jc(a){var c=new ic;c.j(a);return c}u=ic.prototype;u.j=function(a){var c=Math.cos(a),a=Math.sin(a);this.a.j(c,a);this.b.j(-a,c)};u.ea=function(){var a=new ic;a.zd(this);return a};u.zd=function(a){this.a.m(a.a);this.b.m(a.b)};u.Ff=function(a){this.a.Nb(a.a);this.b.Nb(a.b)};u.Xe=function(){this.a.j(1,0);this.b.j(0,1)};u.Q=function(){this.a.j(0,0);this.b.j(0,0)};u.Sb=function(){return Math.atan2(this.a.y,this.a.x)};
u.le=function(a,c,b){var d=this.a.x*this.b.y-this.b.x*this.a.y;d!==0&&(d=1/d);a.x=d*(this.b.y*c-this.b.x*b);a.y=d*(this.a.x*b-this.a.y*c);return a};function kc(a,c){return a.x*c.x+a.y*c.y}function lc(a,c){return a.x*c.y-a.y*c.x}function mc(a){return new F(1*a.y,-1*a.x)}function nc(a,c){return new F(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)}function oc(a,c){return new F(kc(c,a.a),kc(c,a.b))}function I(a,c){var b=nc(a.d,c);b.x+=a.position.x;b.y+=a.position.y;return b}function pc(a,c){var b=K(c,a.position),d=b.x*a.d.a.x+b.y*a.d.a.y;b.y=b.x*a.d.b.x+b.y*a.d.b.y;b.x=d;return b}function K(a,c){return new F(a.x-c.x,a.y-c.y)}
function L(a,c,b){return a<c?c:a>b?b:a};function M(a){if(!a)throw"Assertion Failed";}var qc=2/180*Math.PI,rc=8/180*Math.PI,sc=0.5*Math.PI,tc=sc*sc,uc=2/180*Math.PI,vc=Number.MIN_VALUE*Number.MIN_VALUE;function wc(){}wc.prototype.j=function(a){this.Ka.m(a.Ka);this.Bb.m(a.Bb);this.Ha.m(a.Ha);this.n=a.n;this.ra=a.ra;this.sa=a.sa};function xc(){this.T=new wc;this.ga=new wc;this.hb=new wc;this.r=[this.T,this.ga,this.hb]}function yc(a){return a.B==1?0:a.B==2?Db(K(a.T.Ha,a.ga.Ha)):a.B==3?lc(K(a.ga.Ha,a.T.Ha),K(a.hb.Ha,a.T.Ha)):(M(s),0)};function zc(a,c,b){var d=new xc,e=b.yc,g=b.Bf,f=b.zc,h=b.Cf;M(0<=c.Cd&&c.Cd<=3);var i,j;d.B=c.Cd;for(var l=d.r,m=0;m<d.B;m++){var n=l[m];n.ra=c.ra[m];n.sa=c.sa[m];i=N(e,n.ra);j=N(f,n.sa);n.Ka=I(g,i);n.Bb=I(h,j);n.Ha=K(n.Bb,n.Ka);n.n=0}if(d.B>1&&(i=c.bj,j=yc(d),j<0.5*i||2*i<j||j<Number.MIN_VALUE))d.B=0;if(d.B==0)n=l[0],n.ra=0,n.sa=0,i=N(e,0),j=N(f,0),n.Ka=I(g,i),n.Bb=I(h,j),n.Ha=K(n.Bb,n.Ka),d.B=1;(d.B<1||d.B>3)&&M(s);for(e=0;e<20;){g=[];for(f=0;f<d.B;f++)g[f]={},g[f].ra=d.r[f].ra,g[f].sa=d.r[f].sa;
if(d.B==2)f=d,h=f.T.Ha,l=f.ga.Ha,i=K(l,h),h=-(h.x*i.x+h.y*i.y),h<=0?(f.T.n=1,f.B=1):(l=l.x*i.x+l.y*i.y,l<=0?(f.ga.n=1,f.B=1,f.T.j(f.ga)):(i=1/(l+h),f.T.n=l*i,f.ga.n=h*i,f.B=2));else if(d.B==3){var f=d,o=f.T.Ha,t=f.ga.Ha,r=f.hb.Ha,v=K(t,o),h=kc(t,v),l=-kc(o,v),w=K(r,o);i=kc(r,w);j=-kc(o,w);n=K(r,t);m=kc(r,n);n=-kc(t,n);w=lc(v,w);v=w*lc(t,r);r=w*lc(r,o);o=w*lc(o,t);l<=0&&j<=0?(f.T.n=1,f.B=1):h>0&&l>0&&o<=0?(i=1/(h+l),f.T.n=h*i,f.ga.n=l*i,f.B=2):i>0&&j>0&&r<=0?(h=1/(i+j),f.T.n=i*h,f.hb.n=j*h,f.B=2,f.ga.j(f.hb)):
h<=0&&n<=0?(f.ga.n=1,f.B=1,f.T.j(f.ga)):i<=0&&m<=0?(f.hb.n=1,f.B=1,f.T.j(f.hb)):m>0&&n>0&&v<=0?(h=1/(m+n),f.ga.n=m*h,f.hb.n=n*h,f.B=2,f.T.j(f.hb)):(h=1/(v+r+o),f.T.n=v*h,f.ga.n=r*h,f.hb.n=o*h,f.B=3)}if(d.B==3)break;d.B==1?f=d.T.Ha.Cb():d.B==2?(f=K(d.ga.Ha,d.T.Ha),f=lc(f,d.T.Ha.Cb())>0?new F(-1*f.y,1*f.x):mc(f)):(M(s),f=new F(0,0));if(Eb(f)<vc)break;d.r[d.B].ra=b.yc.We(oc(b.Bf.d,f.Cb()));d.r[d.B].Ka=I(b.Bf,N(b.yc,d.r[d.B].ra));d.r[d.B].sa=b.zc.We(oc(b.Cf.d,f));d.r[d.B].Bb=I(b.Cf,N(b.zc,d.r[d.B].sa));
d.r[d.B].Ha=K(d.r[d.B].Bb,d.r[d.B].Ka);e++;h=s;for(f=0;f<g.length;f++)if(d.r[d.B].ra==g[f].ra&&d.r[d.B].sa==g[f].sa){h=p;break}if(h)break;d.B++}e=a.wc;g=a.xc;d.B==1?(e.m(d.T.Ka),g.m(d.T.Bb)):d.B==2?(e.x=d.T.n*d.T.Ka.x+d.ga.n*d.ga.Ka.x,e.y=d.T.n*d.T.Ka.y+d.ga.n*d.ga.Ka.y,g.x=d.T.n*d.T.Bb.x+d.ga.n*d.ga.Bb.x,g.y=d.T.n*d.T.Bb.y+d.ga.n*d.ga.Bb.y):d.B==3?(g.x=e.x=d.T.n*d.T.Ka.x+d.ga.n*d.ga.Ka.x+d.hb.n*d.hb.Ka.x,g.y=e.y=d.T.n*d.T.Ka.y+d.ga.n*d.ga.Ka.y+d.hb.n*d.hb.Ka.y):M(s);a.jd=Db(K(a.wc,a.xc));c.bj=yc(d);
c.Cd=d.B;e=d.r;for(g=0;g<d.B;g++)c.ra[g]=e[g].ra,c.sa[g]=e[g].sa;if(b.Fh)c=b.yc.S,b=b.zc.S,a.jd>c+b&&a.jd>Number.MIN_VALUE?(a.jd-=c+b,d=K(a.xc,a.wc),G(d),a.wc.x+=c*d.x,a.wc.y+=c*d.y,a.xc.x-=b*d.x,a.xc.y-=b*d.y):(b=new F(0,0),b.x=0.5*(a.wc.x+a.xc.x),b.y=0.5*(a.wc.y+a.xc.y),a.wc.x=a.xc.x=b.x,a.wc.y=a.xc.y=b.y,a.jd=0)};function Ac(){};function Bc(){this.wc=new F(0,0);this.xc=new F(0,0);this.jd=0};function Cc(){this.ra=[0,0,0];this.sa=[0,0,0]};function Dc(){}Dc.prototype.j=function(a){a.Gg(this)};Dc.prototype.We=function(a){for(var c=0,b=this.r[0].x*a.x+this.r[0].y*a.y,d=1;d<this.B;d++){var e=this.r[d].x*a.x+this.r[d].y*a.y;e>b&&(c=d,b=e)}return c};Dc.prototype.de=function(a){return this.r[this.We(a)]};Dc.prototype.Cg=ba("B");function N(a,c){c===k&&(c=0);M(0<=c&&c<a.B);return a.r[c]};function Ec(){this.S=0.005}Ec.prototype.j=function(a){this.S=a.S};function Fc(){this.Xc=0;this.fd=new F(0,0);this.ee=0};function Gc(a,c){this.position=new F(0,0);this.d=new ic;a&&this.position.m(a);c&&this.d.zd(c)}Gc.prototype.X=function(a,c){this.position.m(a);this.d.zd(c)};Gc.prototype.Xe=function(){this.position.Q();this.d.Xe()};Gc.prototype.j=function(a){this.position.m(a.position);this.d.zd(a.d)};Gc.prototype.Sb=function(){return Math.atan2(this.d.a.y,this.d.a.x)};function Q(){this.S=0.005;this.xb=new F(0,0);this.r=[];this.ma=[]}z(Q,Ec);u=Q.prototype;u.If=ca("b2PolygonShape");u.ea=function(){var a=new Q;a.j(this);return a};u.j=function(a){Ec.prototype.j.call(this,a);if(a instanceof Q){this.xb.m(a.xb);this.da=a.da;Hc(this,this.da);for(var c=0;c<this.da;c++)this.r[c].m(a.r[c]),this.ma[c].m(a.ma[c])}};function Ic(a,c){Jc(a,c)}
function Jc(a,c){var b=c.length;M(2<=b);a.da=b;Hc(a,b);for(b=b=0;b<a.da;b++)a.r[b].m(c[b]);for(b=0;b<a.da;++b){var d=K(a.r[b+1<a.da?b+1:0],a.r[b]);M(Eb(d)>Number.MIN_VALUE);a.ma[b].m(mc(d));G(a.ma[b])}for(var b=a.r,d=a.da,e=new F(0,0),g=0,f=1/3,h=0;h<d;++h){var i=b[h],j=h+1<d?b[h+1]:b[0],l=0.5*((i.x-0)*(j.y-0)-(i.y-0)*(j.x-0));g+=l;e.x+=l*f*(0+i.x+j.x);e.y+=l*f*(0+i.y+j.y)}e.x*=1/g;e.y*=1/g;a.xb=e}
function Kc(a,c,b){a.da=4;Hc(a,4);a.r[0].j(-c,-b);a.r[1].j(c,-b);a.r[2].j(c,b);a.r[3].j(-c,b);a.ma[0].j(0,-1);a.ma[1].j(1,0);a.ma[2].j(0,1);a.ma[3].j(-1,0);a.xb.Q()}
u.Ue=function(a,c){for(var b=c.d,d=this.r[0],e=c.position.x+(b.a.x*d.x+b.b.x*d.y),g=c.position.y+(b.a.y*d.x+b.b.y*d.y),f=e,h=g,i=1;i<this.da;++i)var d=this.r[i],j=c.position.x+(b.a.x*d.x+b.b.x*d.y),d=c.position.y+(b.a.y*d.x+b.b.y*d.y),e=e<j?e:j,g=g<d?g:d,f=f>j?f:j,h=h>d?h:d;a.lowerBound.x=e-this.S;a.lowerBound.y=g-this.S;a.upperBound.x=f+this.S;a.upperBound.y=h+this.S};
u.zg=function(a,c){if(this.da==2)a.fd.x=0.5*(this.r[0].x+this.r[1].x),a.fd.y=0.5*(this.r[0].y+this.r[1].y),a.Xc=0,a.ee=0;else{for(var b=0,d=0,e=0,g=0,f=1/3,h=0;h<this.da;++h){var i=this.r[h],j=h+1<this.da?this.r[h+1]:this.r[0],l=i.x-0,m=i.y-0,n=j.x-0,o=j.y-0,t=l*o-m*n,r=0.5*t;e+=r;b+=r*f*(0+i.x+j.x);d+=r*f*(0+i.y+j.y);i=l;g+=t*(f*(0.25*(i*i+n*i+n*n)+(0*i+0*n))+0+(f*(0.25*(m*m+o*m+o*o)+(0*m+0*o))+0))}a.Xc=c*e;b*=1/e;d*=1/e;a.fd.j(b,d);a.ee=c*g}};u.Gg=function(a){a.r=this.r;a.B=this.da;a.S=this.S};
u.Cg=ba("da");u.We=function(a){for(var c=0,b=this.r[0].x*a.x+this.r[0].y*a.y,d=1;d<this.da;++d){var e=this.r[d].x*a.x+this.r[d].y*a.y;e>b&&(c=d,b=e)}return c};u.de=function(a){for(var c=0,b=this.r[0].x*a.x+this.r[0].y*a.y,d=1;d<this.da;++d){var e=this.r[d].x*a.x+this.r[d].y*a.y;e>b&&(c=d,b=e)}return this.r[c]};function Hc(a,c){a.r=[];a.ma=[];for(var b=a.r.length;b<c;b++)a.r[b]=new F(0,0),a.ma[b]=new F(0,0)}new ic;function Lc(){}Lc.prototype.Vb=function(a,c){var b=a.eg.ea(),d=c.eg.ea();return b.md==d.md&&b.md!=0?b.md>0:(b.Je&d.pe)!=0&&(b.pe&d.Je)!=0};var Mc=new Lc;function Nc(){};function R(a){this.Va=new Nc;this.Wa=new Nc;this.Ee=new F(0,0);this.Fe=new F(0,0);M(a.V!=a.Y);this.G=a.type;this.A=this.Aa=q;this.s=a.V;this.u=a.Y;this.ih=a.Sf}u=R.prototype;u.Qb=ca(q);u.Rb=ca(q);u.hc=function(){return this.s.hc()&&this.u.hc()};u.Tb=aa();u.Fb=aa();u.Hf=aa();u.Eb=ca(s);function Oc(a){R.call(this,a);this.bc=new F(0,0);this.cc=new F(0,0);this.C=new F(0,0);this.D=new F(0,0);this.$=new F(0,0);this.aa=new F(0,0);this.eb=this.s.Xa.hg;this.bc.x=a.cf.x-this.eb.e.position.x;this.bc.y=a.cf.y-this.eb.e.position.y;this.cc.x=a.df.x-this.eb.e.position.x;this.cc.y=a.df.y-this.eb.e.position.y;this.C.m(a.Ta);this.D.m(a.Ua);this.na=a.Yc;this.Kd=a.Xf+this.na*a.Yf;this.ph=Math.min(a.th,this.Kd-this.na*Pc);this.qh=Math.min(a.uh,(this.Kd-Pc)/this.na);this.tc=this.sc=this.i=0}z(Oc,R);
u=Oc.prototype;u.Qb=function(){return S(this.s,this.C)};u.Rb=function(){return S(this.u,this.D)};function Qc(a){var c=a.eb.e.position.ea();c.Nb(a.bc);return c}function Rc(a){var c=a.eb.e.position.ea();c.Nb(a.cc);return c}
u.Tb=function(a){var c=this.s,b=this.u,d;d=c.e.d;var e=this.C.x-c.c.p.x,g=this.C.y-c.c.p.y,f=d.a.x*e+d.b.x*g,g=d.a.y*e+d.b.y*g,e=f;d=b.e.d;var h=this.D.x-b.c.p.x,i=this.D.y-b.c.p.y,f=d.a.x*h+d.b.x*i,i=d.a.y*h+d.b.y*i,h=f;d=b.c.g.x+h;var f=b.c.g.y+i,j=this.eb.e.position.x+this.cc.x,l=this.eb.e.position.y+this.cc.y;this.$.j(c.c.g.x+e-(this.eb.e.position.x+this.bc.x),c.c.g.y+g-(this.eb.e.position.y+this.bc.y));this.aa.j(d-j,f-l);d=Db(this.$);f=Db(this.aa);d>0.005?this.$.jc(1/d):this.$.Q();f>0.005?this.aa.jc(1/
f):this.aa.Q();this.Kd-d-this.na*f>0?this.i=this.mg=0:this.mg=2;d<this.ph?this.sc=this.ig=0:this.ig=2;f<this.qh?this.tc=this.jg=0:this.jg=2;d=e*this.$.y-g*this.$.x;f=h*this.aa.y-i*this.aa.x;this.Ce=c.l+c.v*d*d;this.De=b.l+b.v*f*f;this.rf=this.Ce+this.na*this.na*this.De;this.Ce=1/this.Ce;this.De=1/this.De;this.rf=1/this.rf;a.gc?(this.i*=a.Sa,this.sc*=a.Sa,this.tc*=a.Sa,a=(-this.i-this.sc)*this.$.x,d=(-this.i-this.sc)*this.$.y,f=(-this.na*this.i-this.tc)*this.aa.x,j=(-this.na*this.i-this.tc)*this.aa.y,
c.h.x+=c.l*a,c.h.y+=c.l*d,c.t+=c.v*(e*d-g*a),b.h.x+=b.l*f,b.h.y+=b.l*j,b.t+=b.v*(h*j-i*f)):this.tc=this.sc=this.i=0};
u.Fb=function(){var a=this.s,c=this.u,b;b=a.e.d;var d=this.C.x-a.c.p.x,e=this.C.y-a.c.p.y,g=b.a.x*d+b.b.x*e,e=b.a.y*d+b.b.y*e,d=g;b=c.e.d;var f=this.D.x-c.c.p.x,h=this.D.y-c.c.p.y,g=b.a.x*f+b.b.x*h,h=b.a.y*f+b.b.y*h,f=g,i=g=b=0,j=0;b=j=b=j=i=g=b=0;if(this.mg==2)b=a.h.x+-a.t*e,g=a.h.y+a.t*d,i=c.h.x+-c.t*h,j=c.h.y+c.t*f,b=-(this.$.x*b+this.$.y*g)-this.na*(this.aa.x*i+this.aa.y*j),j=this.rf*-b,b=this.i,this.i=Math.max(0,this.i+j),j=this.i-b,b=-j*this.$.x,g=-j*this.$.y,i=-this.na*j*this.aa.x,j=-this.na*
j*this.aa.y,a.h.x+=a.l*b,a.h.y+=a.l*g,a.t+=a.v*(d*g-e*b),c.h.x+=c.l*i,c.h.y+=c.l*j,c.t+=c.v*(f*j-h*i);if(this.ig==2)b=a.h.x+-a.t*e,g=a.h.y+a.t*d,b=-(this.$.x*b+this.$.y*g),j=-this.Ce*b,b=this.sc,this.sc=Math.max(0,this.sc+j),j=this.sc-b,b=-j*this.$.x,g=-j*this.$.y,a.h.x+=a.l*b,a.h.y+=a.l*g,a.t+=a.v*(d*g-e*b);if(this.jg==2)i=c.h.x+-c.t*h,j=c.h.y+c.t*f,b=-(this.aa.x*i+this.aa.y*j),j=-this.De*b,b=this.tc,this.tc=Math.max(0,this.tc+j),j=this.tc-b,i=-j*this.aa.x,j=-j*this.aa.y,c.h.x+=c.l*i,c.h.y+=c.l*
j,c.t+=c.v*(f*j-h*i)};
u.Eb=function(){var a=this.s,c=this.u,b,d=this.eb.e.position.x+this.bc.x,e=this.eb.e.position.y+this.bc.y,g=this.eb.e.position.x+this.cc.x,f=this.eb.e.position.y+this.cc.y,h=0,i=0,j=0,l=0,m=b=0,n=0,o=0,t=m=o=b=m=b=0;if(this.mg==2)b=a.e.d,h=this.C.x-a.c.p.x,i=this.C.y-a.c.p.y,m=b.a.x*h+b.b.x*i,i=b.a.y*h+b.b.y*i,h=m,b=c.e.d,j=this.D.x-c.c.p.x,l=this.D.y-c.c.p.y,m=b.a.x*j+b.b.x*l,l=b.a.y*j+b.b.y*l,j=m,b=a.c.g.x+h,m=a.c.g.y+i,n=c.c.g.x+j,o=c.c.g.y+l,this.$.j(b-d,m-e),this.aa.j(n-g,o-f),b=Db(this.$),m=
Db(this.aa),b>0.005?this.$.jc(1/b):this.$.Q(),m>0.005?this.aa.jc(1/m):this.aa.Q(),b=this.Kd-b-this.na*m,t=Math.max(t,-b),b=L(b+0.005,-0.2,0),o=-this.rf*b,b=-o*this.$.x,m=-o*this.$.y,n=-this.na*o*this.aa.x,o=-this.na*o*this.aa.y,a.c.g.x+=a.l*b,a.c.g.y+=a.l*m,a.c.n+=a.v*(h*m-i*b),c.c.g.x+=c.l*n,c.c.g.y+=c.l*o,c.c.n+=c.v*(j*o-l*n),T(a),T(c);if(this.ig==2)b=a.e.d,h=this.C.x-a.c.p.x,i=this.C.y-a.c.p.y,m=b.a.x*h+b.b.x*i,i=b.a.y*h+b.b.y*i,h=m,b=a.c.g.x+h,m=a.c.g.y+i,this.$.j(b-d,m-e),b=Db(this.$),b>0.005?
(this.$.x*=1/b,this.$.y*=1/b):this.$.Q(),b=this.ph-b,t=Math.max(t,-b),b=L(b+0.005,-0.2,0),o=-this.Ce*b,b=-o*this.$.x,m=-o*this.$.y,a.c.g.x+=a.l*b,a.c.g.y+=a.l*m,a.c.n+=a.v*(h*m-i*b),T(a);if(this.jg==2)b=c.e.d,j=this.D.x-c.c.p.x,l=this.D.y-c.c.p.y,m=b.a.x*j+b.b.x*l,l=b.a.y*j+b.b.y*l,j=m,n=c.c.g.x+j,o=c.c.g.y+l,this.aa.j(n-g,o-f),m=Db(this.aa),m>0.005?(this.aa.x*=1/m,this.aa.y*=1/m):this.aa.Q(),b=this.qh-m,t=Math.max(t,-b),b=L(b+0.005,-0.2,0),o=-this.De*b,n=-o*this.aa.x,o=-o*this.aa.y,c.c.g.x+=c.l*
n,c.c.g.y+=c.l*o,c.c.n+=c.v*(j*o-l*n),T(c);return t<0.005};var Pc=1;function Sc(){this.Ij=q;this.Jj=0};function Tc(){this.Pf=this.Of=this.Qf=0}function Uc(a,c){a.Qf=c;a.Ic.Ra=a.Ic.Ra&4294967040|a.Qf&255}function Vc(a,c){a.Of=c;a.Ic.Ra=a.Ic.Ra&4294902015|a.Of<<8&65280}function Wc(a,c){a.Pf=c;a.Ic.Ra=a.Ic.Ra&4278255615|a.Pf<<16&16711680};function Xc(){this.sb=new Tc;this.sb.Ic=this;this.Ra=0}function Yc(a,c){a.Ra=c;a.sb.Qf=a.Ra&255;a.sb.Of=(a.Ra&65280)>>8&255;a.sb.Pf=(a.Ra&16711680)>>16&255;a.sb.Mg=(a.Ra&4278190080)>>24&255}Xc.prototype.j=function(a){Yc(this,a.Ra)};Xc.prototype.ea=function(){var a=new Xc;a.j(this);return a};function Zc(){this.nb=new F(0,0);this.id=new Xc}Zc.prototype.j=function(a){this.nb.m(a.nb);this.id.j(a.id)};function $c(){this.K=new F(0,0);this.rc=new Xc;this.constructor===$c&&this.Lf()}$c.prototype.Lf=function(){this.K.Q();this.ud=this.rd=0;Yc(this.rc,0)};$c.prototype.j=function(a){this.K.m(a.K);this.rd=a.rd;this.ud=a.ud;this.rc.j(a.rc)};function ad(){this.pa=0;this.I=[];for(var a=0;a<2;a++)this.I[a]=new $c;this.Ga=new F(0,0);this.K=new F(0,0)}ad.prototype.Lf=function(){for(var a=0;a<2;a++)this.I[a].Lf();this.Ga.Q();this.K.Q();this.pa=this.G=0};ad.prototype.j=function(a){this.pa=a.pa;for(var c=0;c<2;c++)this.I[c].j(a.I[c]);this.Ga.m(a.Ga);this.K.m(a.K);this.G=a.G};ad.prototype.ea=function(){var a=new ad;a.j(this);return a};function bd(a,c,b,d){var e=0,g=c[0].nb,f=c[1].nb,h=b.x*g.x+b.y*g.y-d,b=b.x*f.x+b.y*f.y-d;h<=0&&a[e++].j(c[0]);b<=0&&a[e++].j(c[1]);if(h*b<0)b=h/(h-b),d=a[e].nb,d.x=g.x+b*(f.x-g.x),d.y=g.y+b*(f.y-g.y),a[e].id=h>0?c[0].id:c[1].id,e++;return e}
function cd(a,c,b,d,e){b===k&&(b=0);for(var g=a.r,f=a.ma,a=d.r,h=c.d.a.x*f[b].x+c.d.b.x*f[b].y,f=c.d.a.y*f[b].x+c.d.b.y*f[b].y,i=e.d.a.x*h+e.d.a.y*f,j=e.d.b.x*h+e.d.b.y*f,l=0,m=Number.MAX_VALUE,n=0;n<d.da;++n){var o=a[n].x*i+a[n].y*j;o<m&&(m=o,l=n)}return(e.position.x+(e.d.a.x*a[l].x+e.d.b.x*a[l].y)-(c.position.x+(c.d.a.x*g[b].x+c.d.b.x*g[b].y)))*h+(e.position.y+(e.d.a.y*a[l].x+e.d.b.y*a[l].y)-(c.position.y+(c.d.a.y*g[b].x+c.d.b.y*g[b].y)))*f}
function dd(a,c,b,d,e){var g=c.ma,f=e.position.x+(e.d.a.x*d.xb.x+e.d.b.x*d.xb.y),h=e.position.y+(e.d.a.y*d.xb.x+e.d.b.y*d.xb.y);f-=b.position.x+(b.d.a.x*c.xb.x+b.d.b.x*c.xb.y);h-=b.position.y+(b.d.a.y*c.xb.x+b.d.b.y*c.xb.y);for(var i=f*b.d.a.x+h*b.d.a.y,h=f*b.d.b.x+h*b.d.b.y,f=0,j=-Number.MAX_VALUE,l=0;l<c.da;++l){var m=g[l].x*i+g[l].y*h;m>j&&(j=m,f=l)}g=cd(c,b,f,d,e);i=f-1;i<0&&(i=c.da-1);h=cd(c,b,i,d,e);j=f+1;j>=c.da&&(j=0);var l=cd(c,b,j,d,e),n=m=0,o=0;if(h>g&&h>l)o=-1,m=i,n=h;else if(l>g)o=1,
m=j,n=l;else return a[0]=f,g;for(;;)if(o==-1?(f=m-1,f<0&&(f=c.da-1)):(f=m+1,f>=c.da&&(f=0)),g=cd(c,b,f,d,e),g>n)m=f,n=g;else break;a[0]=m;return n}var ed=[new Zc,new Zc],fd=[new Zc,new Zc],gd=[new Zc,new Zc],hd=[0],id=[0],jd=new F(0,0),kd=new F(0,0),ld=new F(0,0),md=new F(0,0),nd=new F(0,0),od=new F(0,0),pd=new F(0,0),qd=new F(0,0);function rd(){this.K=new F(0,0);this.F=new F(0,0)}
rd.prototype.X=function(a,c,b,d,e){this.Vc=c;this.Wc=d;var g=a.Cd;M(0<g&&g<3);var f,h,i=h=f=0,j=0,d=c=0,l,m,i=0;g==1?(this.G=sd,g=N(this.Vc,a.ra[0]),a=N(this.Wc,a.sa[0]),m=g,l=b.d,f=b.position.x+(l.a.x*m.x+l.b.x*m.y),h=b.position.y+(l.a.y*m.x+l.b.y*m.y),m=a,l=e.d,i=e.position.x+(l.a.x*m.x+l.b.x*m.y),j=e.position.y+(l.a.y*m.x+l.b.y*m.y),this.F.x=i-f,this.F.y=j-h,G(this.F)):(a.sa[0]==a.sa[1]?(this.G=td,c=N(this.Vc,a.ra[0]),d=N(this.Vc,a.ra[1]),a=N(this.Wc,a.sa[0]),this.K.x=0.5*(c.x+d.x),this.K.y=0.5*
(c.y+d.y),this.F=mc(K(d,c)),G(this.F),m=this.F,l=b.d,c=l.a.x*m.x+l.b.x*m.y,d=l.a.y*m.x+l.b.y*m.y,m=this.K,l=b.d,f=b.position.x+(l.a.x*m.x+l.b.x*m.y),h=b.position.y+(l.a.y*m.x+l.b.y*m.y),m=a,l=e.d,i=e.position.x+(l.a.x*m.x+l.b.x*m.y),j=e.position.y+(l.a.y*m.x+l.b.y*m.y),i=(i-f)*c+(j-h)*d):a.ra[0]==a.ra[0]?(this.G=ud,f=N(this.Wc,a.sa[0]),h=N(this.Wc,a.sa[1]),g=N(this.Vc,a.ra[0]),this.K.x=0.5*(f.x+h.x),this.K.y=0.5*(f.y+h.y),this.F=mc(K(h,f)),G(this.F),m=this.F,l=e.d,c=l.a.x*m.x+l.b.x*m.y,d=l.a.y*m.x+
l.b.y*m.y,m=this.K,l=e.d,i=e.position.x+(l.a.x*m.x+l.b.x*m.y),j=e.position.y+(l.a.y*m.x+l.b.y*m.y),m=g,l=b.d,f=b.position.x+(l.a.x*m.x+l.b.x*m.y),h=b.position.y+(l.a.y*m.x+l.b.y*m.y),i=(f-i)*c+(h-j)*d):(c=N(this.Vc,a.ra[0]),d=N(this.Vc,a.ra[1]),f=N(this.Wc,a.sa[0]),h=N(this.Wc,a.sa[1]),i=nc(b.d,K(d,c)),j=nc(e.d,K(h,f)),e=i.x*i.x+i.y*i.y,b=j.x*j.x+j.y*j.y,g=K(j,i),a=i.x*g.x+i.y*g.y,g=j.x*g.x+j.y*g.y,j=i.x*j.x+i.y*j.y,l=e*b-j*j,i=0,l!=0&&(i=L((j*g-a*b)/l,0,1)),(j*i+g)/b<0&&(i=L((j-a)/e,0,1)),g=new F(0,
0),g.x=c.x+i*(d.x-c.x),g.y=c.y+i*(d.y-c.y),a=new F(0,0),a.x=f.x+i*(h.x-f.x),a.y=f.y+i*(h.y-f.y),i==0||i==1?(this.G=ud,this.F=mc(K(h,f)),G(this.F),this.K=a):(this.G=td,this.F=mc(K(d,c)),this.K=g)),i<0&&this.F.Eg())};
rd.prototype.Pb=function(a,c){var b,d,e=0;switch(this.G){case sd:b=oc(a.d,this.F);d=oc(c.d,this.F.Cb());b=this.Vc.de(b);d=this.Wc.de(d);b=I(a,b);d=I(c,d);e=(d.x-b.x)*this.F.x+(d.y-b.y)*this.F.y;break;case td:e=nc(a.d,this.F);b=I(a,this.K);d=oc(c.d,e.Cb());d=this.Wc.de(d);d=I(c,d);e=(d.x-b.x)*e.x+(d.y-b.y)*e.y;break;case ud:e=nc(c.d,this.F);d=I(c,this.K);b=oc(a.d,e.Cb());b=this.Vc.de(b);b=I(a,b);e=(b.x-d.x)*e.x+(b.y-d.y)*e.y;break;default:M(s)}return e};var sd=1,td=2,ud=4;var vd=0,wd=0,xd=0,yd=0,zd=0,Ad=new Cc,Bd=new Ac,Cd=new Gc,Dd=new Gc,Ed=new rd,Fd=new Bc;function Gd(){this.p=new F(0,0);this.Da=new F(0,0);this.g=new F(0,0)}Gd.prototype.j=function(a){this.p.m(a.p);this.Da.m(a.Da);this.g.m(a.g);this.qb=a.qb;this.n=a.n;this.Ca=a.Ca};Gd.prototype.ea=function(){var a=new Gd;a.p.m(this.p);a.Da.m(this.Da);a.g.m(this.g);a.qb=this.qb;a.n=this.n;a.Ca=this.Ca;return a};
Gd.prototype.ib=function(a,c){c===k&&(c=0);a.position.x=(1-c)*this.Da.x+c*this.g.x;a.position.y=(1-c)*this.Da.y+c*this.g.y;a.d.j((1-c)*this.qb+c*this.n);var b=a.d;a.position.x-=b.a.x*this.p.x+b.b.x*this.p.y;a.position.y-=b.a.y*this.p.x+b.b.y*this.p.y};Gd.prototype.Dc=function(a){a===k&&(a=0);if(this.Ca<a&&1-this.Ca>Number.MIN_VALUE){var c=(a-this.Ca)/(1-this.Ca);this.Da.x=(1-c)*this.Da.x+c*this.g.x;this.Da.y=(1-c)*this.Da.y+c*this.g.y;this.qb=(1-c)*this.qb+c*this.n;this.Ca=a}};function Hd(){};function Id(){this.position=new F(0,0);this.Ei=new F(0,0);this.$h=this.Di=this.ai=this.Za=0;this.bi=this.Zh=p;this.fi=this.Lc=s;this.type=Jd;this.Yh=p;this.wi=1}var Jd=0;function Kd(a,c){this.fb=new Hd;this.gb=new Hd;this.kb=new ad;this.Ge=new ad;this.wd=s;var b=a.w,d=c.w;this.Tg=b.G!=2||(b.ac&Ld)==Ld||d.G!=2||(d.ac&Ld)==Ld;this.wg=a.ic()||c.ic();this.af=s;this.Aa=this.A=q;this.H=a;this.M=c;this.enabled=p}function Md(a,c){var b=a.M.w,d=a.H.la,e=a.M.la;c.X(a.kb,a.H.w.ib(),d.S,b.ib(),e.S)}Kd.prototype.ic=ba("wg");
function Nd(a,c){var b=a.Ge;a.Ge=a.kb;a.kb=b;a.enabled=p;var d=s,b=a.wd,e=a.H.w,g=a.M.w,f=a.H.Nc.Bd(a.M.Nc);if(a.wg){if(f){var d=a.H.la,e=e.ib(),f=a.M.la,h=g.ib(),g=new Ac;g.yc=new Dc;g.yc.j(d);g.zc=new Dc;g.zc.j(f);g.Bf=e;g.Cf=h;g.Fh=p;e=new Cc;e.Cd=0;d=new Bc;zc(d,e,g);d=d.jd<10*Number.MIN_VALUE}a.kb.pa=0}else{a.Tg=e.G!=2||(e.ac&Ld)==Ld||g.G!=2||(g.ac&Ld)==Ld?p:s;if(f){a.Pb();d=a.kb.pa>0;for(f=0;f<a.kb.pa;f++){h=a.kb.I[f];h.rd=0;for(var i=h.ud=0;i<a.Ge.pa;i++){var j=a.Ge.I[i];if(j.rc.Ra==h.rc.Ra){h.rd=
j.rd;h.ud=j.ud;break}}}}else a.kb.pa=0;d!=b&&(Od(e,p),Od(g,p))}a.wd=d;!b&&d&&c.ae(a);b&&!d&&c.xd(a);a.wg||c.ke(a,a.Ge)}Kd.prototype.Pb=aa();var Pd=new function(){this.yc=new Dc;this.zc=new Dc;this.Bh=new Gd;this.Ch=new Gd};function Qd(a,c){Kd.call(this,a,c)}z(Qd,Kd);Qd.prototype.Pb=function(){var a=this.kb,c=this.H.la,b=this.H.w.e,d=this.M.la,e=this.M.w.e;a.pa=0;var g=e.position.x+(e.d.a.x*d.ca.x+e.d.b.x*d.ca.y)-(b.position.x+(b.d.a.x*c.ca.x+b.d.b.x*c.ca.y)),b=e.position.y+(e.d.a.y*d.ca.x+e.d.b.y*d.ca.y)-(b.position.y+(b.d.a.y*c.ca.x+b.d.b.y*c.ca.y)),e=c.S+d.S;if(!(g*g+b*b>e*e))a.G=1,a.K.m(c.ca),a.Ga.Q(),a.pa=1,a.I[0].K.m(d.ca),Yc(a.I[0].rc,0)};function Rd(a,c){Kd.call(this,a,c)}z(Rd,Kd);Rd.prototype.Pb=aa();function Sd(a){this.S=0.005;this.S=a;this.rh=a*a;this.ca=new F(0,0)}z(Sd,Ec);u=Sd.prototype;u.If=ca("b2CircleShape");u.ea=function(){var a=new Sd(this.S);a.j(this);return a};u.j=function(a){Ec.prototype.j.call(this,a);a instanceof Sd&&this.ca.m(a.ca)};u.Ue=function(a,c){var b=c.d,d=c.position.x+(b.a.x*this.ca.x+b.b.x*this.ca.y),b=c.position.y+(b.a.y*this.ca.x+b.b.y*this.ca.y);a.lowerBound.j(d-this.S,b-this.S);a.upperBound.j(d+this.S,b+this.S)};
u.zg=function(a,c){a.Xc=c*Math.PI*this.rh;a.fd.m(this.ca);a.ee=a.Xc*(0.5*this.rh+(this.ca.x*this.ca.x+this.ca.y*this.ca.y))};u.Gg=function(a){a.r=[this.ca];a.B=1;a.S=this.S};function Td(a,c){M(a.la instanceof Q);M(c.la instanceof Sd);Kd.call(this,a,c)}z(Td,Kd);
Td.prototype.Pb=function(){a:{var a=this.kb,c=this.H.la,b=this.H.w.e,d=this.M.la,e=this.M.w.e;a.pa=0;for(var g=e.position.x+(e.d.a.x*d.ca.x+e.d.b.x*d.ca.y)-b.position.x,f=e.position.y+(e.d.a.y*d.ca.x+e.d.b.y*d.ca.y)-b.position.y,e=g*b.d.a.x+f*b.d.a.y,b=g*b.d.b.x+f*b.d.b.y,g=0,f=-Number.MAX_VALUE,h=c.S+d.S,i=0;i<c.da;++i){var j=c.ma[i].x*(e-c.r[i].x)+c.ma[i].y*(b-c.r[i].y);if(j>h)break a;j>f&&(f=j,g=i)}j=g+1;j>=c.da&&(j=0);var i=c.r[g],l=c.r[j];if(f<Number.MIN_VALUE)a.pa=1,a.G=2,a.Ga.m(c.ma[g]),a.K.x=
0.5*(i.x+l.x),a.K.y=0.5*(i.y+l.y);else if((e-i.x)*(l.x-i.x)+(b-i.y)*(l.y-i.y)<=0){if((e-i.x)*(e-i.x)+(b-i.y)*(b-i.y)>h*h)break a;a.pa=1;a.G=2;a.Ga.x=e-i.x;a.Ga.y=b-i.y;G(a.Ga);a.K.m(i)}else if((e-l.x)*(i.x-l.x)+(b-l.y)*(i.y-l.y)<=0){if((e-l.x)*(e-l.x)+(b-l.y)*(b-l.y)>h*h)break a;a.pa=1;a.G=2;a.Ga.x=e-l.x;a.Ga.y=b-l.y;G(a.Ga);a.K.m(l)}else{j=0.5*(i.x+l.x);i=0.5*(i.y+l.y);f=(e-j)*c.ma[g].x+(b-i)*c.ma[g].y;if(f>h)break a;a.pa=1;a.G=2;a.Ga.x=c.ma[g].x;a.Ga.y=c.ma[g].y;G(a.Ga);a.K.j(j,i)}a.I[0].K.m(d.ca);
Yc(a.I[0].rc,0)}};function Ud(a,c){M(a.la instanceof Q);M(s);Kd.call(this,a,c)}z(Ud,Kd);Ud.prototype.Pb=aa();function Vd(a,c){Kd.call(this,a,c)}z(Vd,Kd);
Vd.prototype.Pb=function(){var a=this.kb,c=this.H.la,b=this.H.w.e,d=this.M.la,e=this.M.w.e;a.pa=0;var g=c.S+d.S;hd[0]=0;var f=dd(hd,c,b,d,e);if(!(f>g)){id[0]=0;var h=dd(id,d,e,c,b);if(!(h>g)){var i=c,j=d,l=b,m=e,n=hd[0],o=0;a.G=2;if(h>0.98*f+0.001)i=d,j=c,l=e,m=b,n=id[0],a.G=4,o=1;c=n;b=m;c===k&&(c=0);for(var d=l.d.a.x*i.ma[c].x+l.d.b.x*i.ma[c].y,e=l.d.a.y*i.ma[c].x+l.d.b.y*i.ma[c].y,f=b.d.a.x*d+b.d.a.y*e,e=b.d.b.x*d+b.d.b.y*e,d=f,f=0,h=Number.MAX_VALUE,t=0;t<j.da;t++){var r=d*j.ma[t].x+e*j.ma[t].y;
r<h&&(h=r,f=t)}d=f+1;d>=j.da&&(d=0);ed[0].nb.x=b.position.x+(b.d.a.x*j.r[f].x+b.d.b.x*j.r[f].y);ed[0].nb.y=b.position.y+(b.d.a.y*j.r[f].x+b.d.b.y*j.r[f].y);Uc(ed[0].id.sb,c);Vc(ed[0].id.sb,f);Wc(ed[0].id.sb,0);ed[1].nb.x=b.position.x+(b.d.a.x*j.r[d].x+b.d.b.x*j.r[d].y);ed[1].nb.y=b.position.y+(b.d.a.y*j.r[d].x+b.d.b.y*j.r[d].y);Uc(ed[1].id.sb,c);Vc(ed[1].id.sb,d);Wc(ed[1].id.sb,1);c=i.r[n];i=n+1<i.da?i.r[n+1]:i.r[0];jd.j(i.x-c.x,i.y-c.y);G(jd);kd.x=jd.y;kd.y=-jd.x;ld.j(0.5*(c.x+i.x),0.5*(c.y+i.y));
nd.x=l.d.a.x*jd.x+l.d.b.x*jd.y;nd.y=l.d.a.y*jd.x+l.d.b.y*jd.y;od.x=-nd.x;od.y=-nd.y;md.x=nd.y;md.y=-nd.x;pd.x=l.position.x+(l.d.a.x*c.x+l.d.b.x*c.y);pd.y=l.position.y+(l.d.a.y*c.x+l.d.b.y*c.y);qd.x=l.position.x+(l.d.a.x*i.x+l.d.b.x*i.y);qd.y=l.position.y+(l.d.a.y*i.x+l.d.b.y*i.y);if(!(bd(fd,ed,od,-nd.x*pd.x-nd.y*pd.y+g)<2)&&!(bd(gd,fd,nd,nd.x*qd.x+nd.y*qd.y+g)<2)){a.Ga.m(kd);a.K.m(ld);l=md.x*pd.x+md.y*pd.y;for(n=i=0;n<2;++n)if(md.x*gd[n].nb.x+md.y*gd[n].nb.y-l<=g)c=gd[n].nb.x-m.position.x,j=gd[n].nb.y-
m.position.y,a.I[i].K.x=c*m.d.a.x+j*m.d.a.y,a.I[i].K.y=c*m.d.b.x+j*m.d.b.y,a.I[i].rc.j(gd[n].id),c=a.I[i].rc.sb,c.Mg=o,c.Ic.Ra=c.Ic.Ra&16777215|c.Mg<<24&4278190080,i++;a.pa=i}}}};function Wd(){this.Mb=[];Xd(this,Qd,"b2CircleShape","b2CircleShape");Xd(this,Td,"b2PolygonShape","b2CircleShape");Xd(this,Vd,"b2PolygonShape","b2PolygonShape");Xd(this,Rd,"b2EdgeShape","b2CircleShape");Xd(this,Ud,"b2PolygonShape","b2EdgeShape")}function Xd(a,c,b,d){a.Mb[b]=a.Mb[b]||[];a.Mb[b][d]=new Sc;a.Mb[b][d].Xg=c;a.Mb[b][d].yh=p;if(b!=d)a.Mb[d]=a.Mb[d]||[],a.Mb[d][b]=new Sc,a.Mb[d][b].Xg=c,a.Mb[d][b].yh=s}
Wd.prototype.Ob=function(a,c){var b=this.Mb[a.la.If()][c.la.If()],d=b.Xg;return d!=q?b.yh?new d(a,c):new d(c,a):q};Wd.prototype.Fc=function(a){a.kb.pa>0&&(Od(a.H.w,p),Od(a.M.w,p))};function Yd(a,c){this.se=a;this.te=c};function Zd(a){this.L=new Ub;this.parent=this.kc=this.$a=q;if(typeof a!="undefined")this.bf=a};function $d(){this.ec=q;this.Pi=this.Cj=0}u=$d.prototype;u.be=function(a,c){var b=new Zd(c);b.L.lowerBound.x=a.lowerBound.x-0.1;b.L.lowerBound.y=a.lowerBound.y-0.1;b.L.upperBound.x=a.upperBound.x+0.1;b.L.upperBound.y=a.upperBound.y+0.1;ae(this,b);return b};u.ce=function(a){be(this,a)};
u.Jf=function(a,c,b){M(a.$a===q);if(Wb(a.L,c))return s;be(this,a);var d=0.1+2*Math.abs(b.x),b=0.1+2*Math.abs(b.y);a.L.lowerBound.x=c.lowerBound.x-d;a.L.lowerBound.y=c.lowerBound.y-b;a.L.upperBound.x=c.upperBound.x+d;a.L.upperBound.y=c.upperBound.y+b;ae(this,a);return p};u.yd=function(a){return a.L};u.Kf=function(a,c){if(this.ec!==q){var b=[];for(b.push(this.ec);b.length>0;){var d=b.pop();if(d.L.Bd(c))if(d.$a===q){if(!a(d.bf))break}else b.push(d.$a),b.push(d.kc)}}};
function ae(a,c){a.Pi++;if(a.ec===q)a.ec=c,a.ec.parent=q;else{var b;b=Vb(c.L);for(var d=a.ec;d.$a!==q;)var e=d.$a,d=d.kc,d=Math.abs((e.L.lowerBound.x+e.L.upperBound.x)/2-b.x)+Math.abs((e.L.lowerBound.y+e.L.upperBound.y)/2-b.y)<Math.abs((d.L.lowerBound.x+d.L.upperBound.x)/2-b.x)+Math.abs((d.L.lowerBound.y+d.L.upperBound.y)/2-b.y)?e:d;b=d;e=b.parent;d=new Zd;d.parent=e;Xb(d.L,c.L,b.L);if(e){b.parent.$a==b?e.$a=d:e.kc=d;d.$a=b;d.kc=c;b.parent=d;for(c.parent=d;e;){if(Wb(e.L,d.L))break;Xb(e.L,e.$a.L,e.kc.L);
d=e;e=e.parent}}else d.$a=b,d.kc=c,b.parent=d,c.parent=d,a.ec=d}}function be(a,c){if(c==a.ec)a.ec=q;else{var b=c.parent,d=b.parent,e;e=b.$a==c?b.kc:b.$a;if(d){d.$a==b?d.$a=e:d.kc=e;for(e.parent=d;d;){b=d.L;e=d;var g=new Ub;Xb(g,d.$a.L,d.kc.L);e.L=g;if(Wb(b,d.L))break;d=d.parent}}else a.ec=e,e.parent=q}};function ce(){this.uc=new $d;this.Od=[]}u=ce.prototype;u.be=function(a,c){var b=this.uc.be(a,c);this.Od.push(b);return b};u.ce=function(a){Ka(this.Od,a);this.uc.ce(a)};u.Jf=function(a,c,b){this.uc.Jf(a,c,b)&&this.Od.push(a)};u.Bd=function(a,c){return this.uc.yd(a).Bd(this.uc.yd(c))};u.yd=function(a){return this.uc.yd(a)};
function de(a,c){for(var b=[],d=0;d<a.Od.length;d++){var e=a.Od[d];a.uc.Kf(function(a){a!=e.bf&&b.push(new Yd(e.bf,a));return p},a.uc.yd(e))}a.Od=[];for(d=0;d<b.length;){var g=b[d];c(g.se,g.te);for(d++;d<b.length;){var f=b[d];if(!(f.se==g.se&&f.te==g.te)&&!(f.se==g.te&&f.te==g.se))break;d++}}}u.Kf=function(a,c){this.uc.Kf(a,c)};function ee(){}ee.prototype.ae=aa();ee.prototype.xd=aa();ee.prototype.ke=aa();ee.prototype.ie=aa();var fe=new ee;function ge(a){this.Xa=a;this.ze=0;this.cg=Mc;this.Ld=fe;this.jh=new Wd;this.nd=new ce}
function he(a){de(a.nd,function(c,b){a:{var d=c,e=b,g=d.w,f=e.w;if(g!=f&&f.Vb(g)&&a.cg.Vb(d,e)){for(f=f.W;f;){if(f.ha==g){var h=f.Fa.H,i=f.Fa.M;if(h==d&&i==e)break a;if(h==e&&i==d)break a}f=f.next}h=a.jh.Ob(d,e);d=h.H;e=h.M;g=d.w;f=e.w;h.Aa=q;h.A=a.Xa.W;if(a.Xa.W!=q)a.Xa.W.Aa=h;a.Xa.W=h;h.fb.Fa=h;h.fb.ha=f;h.fb.oa=q;h.fb.next=g.W;if(g.W!=q)g.W.oa=h.fb;g.W=h.fb;h.gb.Fa=h;h.gb.ha=g;h.gb.oa=q;h.gb.next=f.W;if(f.W!=q)f.W.oa=h.gb;f.W=h.gb;a.ze++}}})}
ge.prototype.Fc=function(a){var c=a.H.w,b=a.M.w;a.wd&&this.Ld.xd(a);if(a.Aa)a.Aa.A=a.A;if(a.A)a.A.Aa=a.Aa;if(a==this.Xa.W)this.Xa.W=a.A;if(a.fb.oa)a.fb.oa.next=a.fb.next;if(a.fb.next)a.fb.next.oa=a.fb.oa;if(a.fb==c.W)c.W=a.fb.next;if(a.gb.oa)a.gb.oa.next=a.gb.next;if(a.gb.next)a.gb.next.oa=a.gb.oa;if(a.gb==b.W)b.W=a.gb.next;this.jh.Fc(a);this.ze--};new function(){this.position=new F(0,0);this.Mj=new F(0,0);this.vc=new F(0,0);this.id=new Xc};function ie(){this.Fd=[]}ie.prototype.ue=0;ie.prototype.Oe=0;ie.prototype.clear=function(){this.Oe=this.ue=this.Fd.length=0};function je(a,c,b){this.Og=255*L(a,0,1);this.Ng=255*L(c,0,1);this.Lg=255*L(b,0,1)}je.prototype.j=function(a,c,b){this.Og=255*L(a,0,1);this.Ng=255*L(c,0,1);this.Lg=255*L(b,0,1)};function Rb(a){return a.Og<<16|a.Ng<<8|a.Lg};function ke(){this.N=new F(0,0);this.I=[];for(var a=this.pa=0;a<2;a++)this.I[a]=new F(0,0)}
ke.prototype.X=function(a,c,b,d,e){if(a.pa!=0){var g=0,f,h,i=0,j=0,l=0,m=0,n=0;f=0;switch(a.G){case 1:h=c.d;f=a.K;g=c.position.x+h.a.x*f.x+h.b.x*f.y;c=c.position.y+h.a.y*f.x+h.b.y*f.y;h=d.d;f=a.I[0].K;a=d.position.x+h.a.x*f.x+h.b.x*f.y;d=d.position.y+h.a.y*f.x+h.b.y*f.y;f=a-g;h=d-c;i=f*f+h*h;i>vc?(i=Math.sqrt(i),this.N.x=f/i,this.N.y=h/i):(this.N.x=1,this.N.y=0);f=c+b*this.N.y;d-=e*this.N.y;this.I[0].x=0.5*(g+b*this.N.x+(a-e*this.N.x));this.I[0].y=0.5*(f+d);break;case 2:h=c.d;f=a.Ga;i=h.a.x*f.x+h.b.x*
f.y;j=h.a.y*f.x+h.b.y*f.y;h=c.d;f=a.K;l=c.position.x+h.a.x*f.x+h.b.x*f.y;m=c.position.y+h.a.y*f.x+h.b.y*f.y;this.N.x=i;this.N.y=j;for(g=0;g<a.pa;g++)h=d.d,f=a.I[g].K,n=d.position.x+h.a.x*f.x+h.b.x*f.y,f=d.position.y+h.a.y*f.x+h.b.y*f.y,this.I[g].x=n+0.5*(b-(n-l)*i-(f-m)*j-e)*i,this.I[g].y=f+0.5*(b-(n-l)*i-(f-m)*j-e)*j;break;case 4:h=d.d;f=a.Ga;i=h.a.x*f.x+h.b.x*f.y;j=h.a.y*f.x+h.b.y*f.y;h=d.d;f=a.K;l=d.position.x+h.a.x*f.x+h.b.x*f.y;m=d.position.y+h.a.y*f.x+h.b.y*f.y;this.N.x=-i;this.N.y=-j;for(g=
0;g<a.pa;g++)h=c.d,f=a.I[g].K,n=c.position.x+h.a.x*f.x+h.b.x*f.y,f=c.position.y+h.a.y*f.x+h.b.y*f.y,this.I[g].x=n+0.5*(e-(n-l)*i-(f-m)*j-b)*i,this.I[g].y=f+0.5*(e-(n-l)*i-(f-m)*j-b)*j}}};function le(){}le.prototype.j=function(a){this.Z=a.Z;this.vb=a.vb;this.Xd=a.Xd;this.$d=a.$d;this.gc=a.gc};function me(){this.Yb=new F(0,0);this.O=new F(0,0);this.P=new F(0,0)};function ne(){this.hf=new F(0,0);this.Yb=new F(0,0);this.vc=new F(0,0);this.Wd=new ic;this.Db=new ic;this.Qa=[];for(var a=0;a<2;a++)this.Qa[a]=new me};function oe(){this.N=new F(0,0);this.sf=[];this.I=[];for(var a=0;a<2;a++)this.I[a]=new F(0,0)}
oe.prototype.X=function(a){M(a.lb>0);var c=0,b=0,d=0,e=0,g=0;switch(a.type){case 1:var f=a.V.e.d,d=a.Yb,c=a.V.e.position.x+(f.a.x*d.x+f.b.x*d.y),b=a.V.e.position.y+(f.a.y*d.x+f.b.y*d.y),f=a.Y.e.d,d=a.Qa[0].Yb,e=a.Y.e.position.x+(f.a.x*d.x+f.b.x*d.y),f=a.Y.e.position.y+(f.a.y*d.x+f.b.y*d.y),d=e-c,g=f-b,h=d*d+g*g;h>vc?(h=Math.sqrt(h),this.N.x=d/h,this.N.y=g/h):(this.N.x=1,this.N.y=0);this.I[0].x=0.5*(c+e);this.I[0].y=0.5*(b+f);this.sf[0]=d*this.N.x+g*this.N.y-a.tg;break;case 2:f=a.V.e.d;d=a.hf;this.N.x=
f.a.x*d.x+f.b.x*d.y;this.N.y=f.a.y*d.x+f.b.y*d.y;f=a.V.e.d;d=a.Yb;e=a.V.e.position.x+(f.a.x*d.x+f.b.x*d.y);g=a.V.e.position.y+(f.a.y*d.x+f.b.y*d.y);f=a.Y.e.d;for(c=0;c<a.lb;c++)d=a.Qa[c].Yb,b=a.Y.e.position.x+(f.a.x*d.x+f.b.x*d.y),d=a.Y.e.position.y+(f.a.y*d.x+f.b.y*d.y),this.sf[c]=(b-e)*this.N.x+(d-g)*this.N.y-a.tg,this.I[c].x=b,this.I[c].y=d;break;case 4:f=a.Y.e.d;d=a.hf;this.N.x=f.a.x*d.x+f.b.x*d.y;this.N.y=f.a.y*d.x+f.b.y*d.y;f=a.Y.e.d;d=a.Yb;e=a.Y.e.position.x+(f.a.x*d.x+f.b.x*d.y);g=a.Y.e.position.y+
(f.a.y*d.x+f.b.y*d.y);f=a.V.e.d;for(c=0;c<a.lb;c++)d=a.Qa[c].Yb,b=a.V.e.position.x+(f.a.x*d.x+f.b.x*d.y),d=a.V.e.position.y+(f.a.y*d.x+f.b.y*d.y),this.sf[c]=(b-e)*this.N.x+(d-g)*this.N.y-a.tg,this.I[c].j(b,d);this.N.x*=-1;this.N.y*=-1}};function pe(){this.Xi=new le;this.$b=[]}u=pe.prototype;
u.X=function(a,c,b){b===k&&(b=0);var d;this.Xi.j(a);a=0;for(this.ye=b;this.$b.length<this.ye;)this.$b[this.$b.length]=new ne;for(a=0;a<b;++a){d=c[a];var e=d.H,g=d.M,f=e.la.S,h=g.la.S,i=e.w,j=g.w,l=d.kb,m=Math.sqrt(e.gg*g.gg),n=e.Ie>g.Ie?e.Ie:g.Ie,o=i.h.x,t=i.h.y,r=j.h.x,v=j.h.y,w=i.t,O=j.t;M(l.pa>0);qe.X(l,i.e,f,j.e,h);g=qe.N.x;d=qe.N.y;e=this.$b[a];e.V=i;e.Y=j;e.Zi=l;e.vc.x=g;e.vc.y=d;e.lb=l.pa;e.tb=m;e.Ac=n;e.hf.x=l.Ga.x;e.hf.y=l.Ga.y;e.Yb.x=l.K.x;e.Yb.y=l.K.y;e.tg=f+h;e.type=l.G;for(f=0;f<e.lb;++f){m=
l.I[f];h=e.Qa[f];h.Ba=m.rd;h.Cc=m.ud;h.Yb.m(m.K);var m=h.O.x=qe.I[f].x-i.c.g.x,n=h.O.y=qe.I[f].y-i.c.g.y,J=h.P.x=qe.I[f].x-j.c.g.x,P=h.P.y=qe.I[f].y-j.c.g.y,y=m*d-n*g,E=J*d-P*g;y*=y;E*=E;h.Wd=1/(i.l+j.l+i.v*y+j.v*E);var X=i.q*i.l+j.q*j.l;X+=i.q*i.v*y+j.q*j.v*E;h.qi=1/X;E=d;X=-g;y=m*X-n*E;E=J*X-P*E;y*=y;E*=E;h.mj=1/(i.l+j.l+i.v*y+j.v*E);h.Df=0;m=e.vc.x*(r+-O*P-o- -w*n)+e.vc.y*(v+O*J-t-w*m);m<-1&&(h.Df+=-e.Ac*m)}if(e.lb==2)v=e.Qa[0],r=e.Qa[1],l=i.l,i=i.v,o=j.l,j=j.v,t=v.O.x*d-v.O.y*g,v=v.P.x*d-v.P.y*
g,w=r.O.x*d-r.O.y*g,r=r.P.x*d-r.P.y*g,g=l+o+i*t*t+j*v*v,d=l+o+i*w*w+j*r*r,j=l+o+i*t*w+j*v*r,g*g<100*(g*d-j*j)?(e.Db.a.j(g,j),e.Db.b.j(j,d),g=e.Db,e=e.Wd,d=g.a.x*g.b.y-g.b.x*g.a.y,d!==0&&(d=1/d),e.a.x=d*g.b.y,e.b.x=-d*g.b.x,e.a.y=-d*g.a.y,e.b.y=d*g.a.x):e.lb=1}};
u.Tb=function(a){for(var c=0;c<this.ye;++c){var b=this.$b[c],d=b.V,e=b.Y,g=d.l,f=d.v,h=e.l,i=e.v,j=b.vc.x,l=b.vc.y,m=l,n=-j,o=0,t=0;if(a.gc){t=b.lb;for(o=0;o<t;++o){var r=b.Qa[o];r.Ba*=a.Sa;r.Cc*=a.Sa;var v=r.Ba*j+r.Cc*m,w=r.Ba*l+r.Cc*n;d.t-=f*(r.O.x*w-r.O.y*v);d.h.x-=g*v;d.h.y-=g*w;e.t+=i*(r.P.x*w-r.P.y*v);e.h.x+=h*v;e.h.y+=h*w}}else{t=b.lb;for(o=0;o<t;++o)d=b.Qa[o],d.Ba=0,d.Cc=0}}};
u.Fb=function(){for(var a=0,c,b=0,d=0,e=0,g=d=d=b=b=0,f=b=b=0,h=b=e=0,i=0,j,l=0;l<this.ye;++l){var e=this.$b[l],m=e.V,n=e.Y,o=m.t,t=n.t,r=m.h,v=n.h,w=m.l,O=m.v,J=n.l,P=n.v,h=e.vc.x,y=i=e.vc.y;j=-h;f=e.tb;for(a=0;a<e.lb;a++)c=e.Qa[a],b=v.x-t*c.P.y-r.x+o*c.O.y,d=v.y+t*c.P.x-r.y-o*c.O.x,b=b*y+d*j,b=c.mj*-b,d=f*c.Ba,d=L(c.Cc+b,-d,d),b=d-c.Cc,g=b*y,b*=j,r.x-=w*g,r.y-=w*b,o-=O*(c.O.x*b-c.O.y*g),v.x+=J*g,v.y+=J*b,t+=P*(c.P.x*b-c.P.y*g),c.Cc=d;if(e.lb==1)c=e.Qa[0],b=v.x+-t*c.P.y-r.x- -o*c.O.y,d=v.y+t*c.P.x-
r.y-o*c.O.x,e=b*h+d*i,b=-c.Wd*(e-c.Df),d=c.Ba+b,d=d>0?d:0,b=d-c.Ba,g=b*h,b*=i,r.x-=w*g,r.y-=w*b,o-=O*(c.O.x*b-c.O.y*g),v.x+=J*g,v.y+=J*b,t+=P*(c.P.x*b-c.P.y*g),c.Ba=d;else{c=e.Qa[0];var a=e.Qa[1],b=c.Ba,f=a.Ba,E=(v.x-t*c.P.y-r.x+o*c.O.y)*h+(v.y+t*c.P.x-r.y-o*c.O.x)*i,X=(v.x-t*a.P.y-r.x+o*a.O.y)*h+(v.y+t*a.P.x-r.y-o*a.O.x)*i,d=E-c.Df,g=X-a.Df;j=e.Db;d-=j.a.x*b+j.b.x*f;for(g-=j.a.y*b+j.b.y*f;;){j=e.Wd;y=-(j.a.x*d+j.b.x*g);j=-(j.a.y*d+j.b.y*g);if(y>=0&&j>=0){b=y-b;f=j-f;e=b*h;b*=i;h*=f;i*=f;r.x-=w*(e+
h);r.y-=w*(b+i);o-=O*(c.O.x*b-c.O.y*e+a.O.x*i-a.O.y*h);v.x+=J*(e+h);v.y+=J*(b+i);t+=P*(c.P.x*b-c.P.y*e+a.P.x*i-a.P.y*h);c.Ba=y;a.Ba=j;break}y=-c.Wd*d;j=0;X=e.Db.a.y*y+g;if(y>=0&&X>=0){b=y-b;f=j-f;e=b*h;b*=i;h*=f;i*=f;r.x-=w*(e+h);r.y-=w*(b+i);o-=O*(c.O.x*b-c.O.y*e+a.O.x*i-a.O.y*h);v.x+=J*(e+h);v.y+=J*(b+i);t+=P*(c.P.x*b-c.P.y*e+a.P.x*i-a.P.y*h);c.Ba=y;a.Ba=j;break}y=0;j=-a.Wd*g;E=e.Db.b.x*j+d;if(j>=0&&E>=0){b=y-b;f=j-f;e=b*h;b*=i;h*=f;i*=f;r.x-=w*(e+h);r.y-=w*(b+i);o-=O*(c.O.x*b-c.O.y*e+a.O.x*i-a.O.y*
h);v.x+=J*(e+h);v.y+=J*(b+i);t+=P*(c.P.x*b-c.P.y*e+a.P.x*i-a.P.y*h);c.Ba=y;a.Ba=j;break}j=y=0;E=d;X=g;if(E>=0&&X>=0){b=y-b;f=j-f;e=b*h;b*=i;h*=f;i*=f;r.x-=w*(e+h);r.y-=w*(b+i);o-=O*(c.O.x*b-c.O.y*e+a.O.x*i-a.O.y*h);v.x+=J*(e+h);v.y+=J*(b+i);t+=P*(c.P.x*b-c.P.y*e+a.P.x*i-a.P.y*h);c.Ba=y;a.Ba=j;break}break}}m.t=o;n.t=t}};u.Hf=function(){for(var a=0;a<this.ye;++a)for(var c=this.$b[a],b=c.Zi,d=0;d<c.lb;++d){var e=b.I[d],g=c.Qa[d];e.rd=g.Ba;e.ud=g.Cc}};
u.Eb=function(a){a===k&&(a=0);for(var c=0,b=0;b<this.ye;b++){var d=this.$b[b],e=d.V,g=d.Y,f=e.q*e.l,h=e.q*e.v,i=g.q*g.l,j=g.q*g.v;re.X(d);for(var l=re.N,m=0;m<d.lb;m++){var n=d.Qa[m],o=re.I[m],t=re.sf[m],r=o.x-e.c.g.x,v=o.y-e.c.g.y,w=o.x-g.c.g.x,o=o.y-g.c.g.y,c=c<t?c:t,t=-n.qi*L(a*(t+0.005),-0.2,0),n=t*l.x;t*=l.y;e.c.g.x-=f*n;e.c.g.y-=f*t;e.c.n-=h*(r*t-v*n);T(e);g.c.g.x+=i*n;g.c.g.y+=i*t;g.c.n+=j*(w*t-o*n);T(g)}}return c>-0.0075};var qe=new ke,re=new oe;function se(a,c){this.oh=a;this.Kb=c;this.Zb=[];this.nf=[];this.Tc=[];this.Lb=[];this.Ja=[]}function te(a){a.Zb=[];a.nf=[];a.Tc=[];a.Lb=[];a.Ja=[]}
se.prototype.le=function(a,c,b){for(var d=0;d<this.nf.length;d++){var e=this.nf[d];e.h.x+=a.Z*(c.x+e.l*e.Be.x);e.h.y+=a.Z*(c.y+e.l*e.Be.y);e.t+=a.Z*e.v*e.ng;e.h.jc(L(1-a.Z*e.Si,0,1));e.t*=L(1-a.Z*e.Hi,0,1)}this.Kb.X(a,this.Lb,this.Lb.length);this.Kb.Tb(a);for(c=0;c<this.Ja.length;c++)this.Ja[c].Tb(a);for(c=0;c<a.$d;c++){for(d=0;d<this.Ja.length;d++)this.Ja[d].Fb(a);this.Kb.Fb()}for(c=0;c<this.Ja.length;c++)this.Ja[c].Hf();this.Kb.Hf();for(c=0;c<this.Tc.length;++c){var d=this.Tc[c],e=a.Z*d.h.x,g=a.Z*
d.h.y;e*e+g*g>4&&(G(d.h),d.h.x*=2*a.vb,d.h.y*=2*a.vb);e=a.Z*d.t;if(e*e>tc)d.t=d.t<0?-sc*a.vb:sc*a.vb;d.c.Da.m(d.c.g);d.c.qb=d.c.n;d.c.g.x+=a.Z*d.h.x;d.c.g.y+=a.Z*d.h.y;d.c.n+=a.Z*d.t;T(d)}for(c=0;c<a.Xd;c++){d=this.Kb.Eb(0.2);e=p;for(g=0;g<this.Ja.length;g++)var f=this.Ja[g].Eb(0.2),e=e&&f;if(d&&e)break}ue(this,this.Kb.$b);if(b){b=Number.MAX_VALUE;for(c=0;c<this.Tc.length;c++)d=this.Tc[c],!d.ag||Math.abs(d.t)>uc||kc(d.h,d.h)>1.0E-4?b=d.tf=0:(d.tf+=a.Z,b=Math.min(b,d.tf));if(b>=0.5)for(a=0;a<this.Zb.length;a++)Od(this.Zb[a],
s)}};
se.prototype.Mf=function(a){var c=0,b=0;this.Kb.X(a,this.Lb,this.Lb.length);for(var d=this.Kb,c=0;c<this.Ja.length;++c)this.Ja[c].Tb(a);for(c=0;c<a.$d;++c){d.Fb();for(b=0;b<this.Ja.length;++b)this.Ja[b].Fb(a)}for(c=0;c<this.Tc.length;++c){var b=this.Tc[c],e=a.Z*b.h.x,g=a.Z*b.h.y;e*e+g*g>4&&(G(b.h),b.h.x*=2*a.vb,b.h.y*=2*a.vb);e=a.Z*b.t;if(e*e>tc)b.t=b.t<0?-sc*a.vb:sc*a.vb;b.c.Da.m(b.c.g);b.c.qb=b.c.n;b.c.g.x+=a.Z*b.h.x;b.c.g.y+=a.Z*b.h.y;b.c.n+=a.Z*b.t;T(b)}for(c=0;c<a.Xd;++c){e=d.Eb(0.75);g=p;for(b=
0;b<this.Ja.length;++b)var f=this.Ja[b].Eb(0.2),g=g&&f;if(e&&g)break}ue(this,d.$b)};function ue(a,c){if(a.oh!=q)for(var b=0;b<a.Lb.length;++b){for(var d=a.Lb[b],e=c[b],g=0;g<e.lb;++g)ve.gj[g]=e.Qa[g].Ba,ve.lj[g]=e.Qa[g].Cc;a.oh.ie(d,ve)}}function we(a,c){a.Zb.push(c);c.G!=Jd&&(a.Tc.push(c),c.G==2&&a.nf.push(c))}var ve=new function(){this.gj=[];this.lj=[]};function xe(a){R.call(this,a);this.C=new F(0,0);this.D=new F(0,0);this.va=new F(0,0);this.C.m(a.Ta);this.D.m(a.Ua);this.nh=a.length;this.fg=a.bh;this.Ki=a.Yg;this.hh=this.pd=this.i=0}z(xe,R);u=xe.prototype;u.Qb=function(){return S(this.s,this.C)};u.Rb=function(){return S(this.u,this.D)};
u.Tb=function(a){var c,b=0,d=this.s,e=this.u;c=d.e.d;var g=this.C.x-d.c.p.x,f=this.C.y-d.c.p.y,b=c.a.x*g+c.b.x*f,f=c.a.y*g+c.b.y*f,g=b;c=e.e.d;var h=this.D.x-e.c.p.x,i=this.D.y-e.c.p.y,b=c.a.x*h+c.b.x*i,i=c.a.y*h+c.b.y*i,h=b;this.va.x=e.c.g.x+h-d.c.g.x-g;this.va.y=e.c.g.y+i-d.c.g.y-f;b=Math.sqrt(this.va.x*this.va.x+this.va.y*this.va.y);b>0.005?this.va.jc(1/b):this.va.Q();c=g*this.va.y-f*this.va.x;var j=h*this.va.y-i*this.va.x;c=d.l+d.v*c*c+e.l+e.v*j*j;this.q=c!=0?1/c:0;if(this.fg>0){b-=this.nh;var j=
2*Math.PI*this.fg,l=this.q*j*j;this.pd=a.Z*(2*this.q*this.Ki*j+a.Z*l);this.pd=this.pd!=0?1/this.pd:0;this.hh=b*a.Z*l*this.pd;this.q=c+this.pd;this.q=this.q!=0?1/this.q:0}a.gc?(this.i*=a.Sa,a=this.i*this.va.x,c=this.i*this.va.y,d.h.x-=d.l*a,d.h.y-=d.l*c,d.t-=d.v*(g*c-f*a),e.h.x+=e.l*a,e.h.y+=e.l*c,e.t+=e.v*(h*c-i*a)):this.i=0};
u.Fb=function(){var a=this.C.x-this.s.c.p.x,c=this.C.y-this.s.c.p.y,b=this.s.e.d.a.x*a+this.s.e.d.b.x*c,c=this.s.e.d.a.y*a+this.s.e.d.b.y*c,a=b,d=this.D.x-this.u.c.p.x,e=this.D.y-this.u.c.p.y,b=this.u.e.d.a.x*d+this.u.e.d.b.x*e,e=this.u.e.d.a.y*d+this.u.e.d.b.y*e,d=b,g=-this.q*(this.va.x*(this.u.h.x-this.u.t*e-(this.s.h.x-this.s.t*c))+this.va.y*(this.u.h.y+this.u.t*d-(this.s.h.y+this.s.t*a))+this.hh+this.pd*this.i);this.i+=g;b=g*this.va.x;g*=this.va.y;this.s.h.x-=this.s.l*b;this.s.h.y-=this.s.l*g;
this.s.t-=this.s.v*(a*g-c*b);this.u.h.x+=this.u.l*b;this.u.h.y+=this.u.l*g;this.u.t+=this.u.v*(d*g-e*b)};
u.Eb=function(){if(this.fg>0)return p;var a=this.C.x-this.s.c.p.x,c=this.C.y-this.s.c.p.y,b=this.s.e.d.a.x*a+this.s.e.d.b.x*c,c=this.s.e.d.a.y*a+this.s.e.d.b.y*c,a=b,d=this.D.x-this.u.c.p.x,e=this.D.y-this.u.c.p.y,b=this.u.e.d.a.x*d+this.u.e.d.b.x*e,e=this.u.e.d.a.y*d+this.u.e.d.b.y*e,d=b,g=this.u.c.g.x+d-this.s.c.g.x-a,f=this.u.c.g.y+e-this.s.c.g.y-c,b=Math.sqrt(g*g+f*f);g/=b;f/=b;var b=L(b-this.nh,-0.2,0.2),h=-this.q*b;this.va.j(g,f);g=h*this.va.x;f=h*this.va.y;this.s.c.g.x-=this.s.l*g;this.s.c.g.y-=
this.s.l*f;this.s.c.n-=this.s.v*(a*f-c*g);this.u.c.g.x+=this.u.l*g;this.u.c.g.y+=this.u.l*f;this.u.c.n+=this.u.v*(d*f-e*g);T(this.s);T(this.u);return Math.abs(b)<0.005};function ye(){this.eg=new gc;this.Nc=new Ub;this.la=this.A=this.w=q;this.Ie=this.gg=this.lf=0}u=ye.prototype;u.ic=ba("Qi");u.Bg=function(a){a||(a=new Fc);this.la.zg(a,this.lf);return a};u.Ob=function(a,c,b){this.gg=b.tb;this.Ie=b.Ac;this.w=a;this.A=q;this.eg=b.filter.ea();this.Qi=b.ff;this.la=b.shape.ea();this.lf=b.re};u.Fc=function(){this.la=q};u.be=function(a,c){this.la.Ue(this.Nc,c);this.Uc=a.be(this.Nc,this)};u.ce=function(a){if(this.Uc!=q)a.ce(this.Uc),this.Uc=q};
function ze(a,c,b,d){if(a.Uc){var e=new Ub,g=new Ub;a.la.Ue(e,b);a.la.Ue(g,d);Xb(a.Nc,e,g);c.Jf(a.Uc,a.Nc,K(d.position,b.position))}};function Ae(a,c){this.e=new Gc;this.e.position.m(a.position);this.e.d.j(a.Za);this.c=new Gd;this.c.p.Q();this.c.Ca=1;this.c.qb=this.c.n=a.Za;this.c.g.x=this.e.d.a.x*this.c.p.x+this.e.d.b.x*this.c.p.y;this.c.g.y=this.e.d.a.y*this.c.p.x+this.e.d.b.y*this.c.p.y;this.c.g.x+=this.e.position.x;this.c.g.y+=this.e.position.y;this.c.Da.m(this.c.g);this.h=a.Ei.ea();this.Be=new F(0,0);this.Be.Q();this.ac=0;a.fi&&(this.ac|=Ld);a.Lc&&(this.ac|=Be);this.ag=a.Zh;this.wb=a.bi;a.Yh&&(this.ac|=Ce);this.Xa=c;this.W=
this.kf=this.ka=q;this.Ji=0;this.A=this.Aa=q;this.t=a.ai;this.Si=a.Di;this.Hi=a.$h;this.tf=this.ng=0;this.G=a.type;this.q=this.G==2?1:0;this.l=this.G==2?1:0;this.v=this.oc=0;this.Oi=a.wi;this.qc=q;this.lh=0}function De(a,c,b){M(!a.Xa.qd);a.e.d.j(b);a.e.position.m(c);var c=a.e.d,d=a.c.p;a.c.g.x=c.a.x*d.x+c.b.x*d.y;a.c.g.y=c.a.y*d.x+c.b.y*d.y;a.c.g.x+=a.e.position.x;a.c.g.y+=a.e.position.y;a.c.Da.m(a.c.g);a.c.qb=a.c.n=b;b=a.Xa.Ia.nd;for(c=a.qc;c;c=c.A)ze(c,b,a.e,a.e);he(a.Xa.Ia)}u=Ae.prototype;
u.ib=ba("e");u.Sb=function(){return this.c.n};function U(a){return a.c.g}function Ee(a,c,b){a.G==2&&(Od(a,p),a.h.x+=a.l*c.x,a.h.y+=a.l*c.y,a.t+=a.v*((b.x-a.c.g.x)*c.y-(b.y-a.c.g.y)*c.x))}u.Bg=function(a){a||(a=new Fc);a.Xc=this.q;a.ee=this.oc;a.fd.m(this.c.p);return a};function S(a,c){var b=a.e.d,b=new F(b.a.x*c.x+b.b.x*c.y,b.a.y*c.x+b.b.y*c.y);b.x+=a.e.position.x;b.y+=a.e.position.y;return b}function Od(a,c){if(a.wb!=c&&(a.wb=c,a.tf=0,!c))a.h.Q(),a.t=0,a.Be.Q(),a.ng=0}
u.hc=function(){return(this.ac&Ce)==Ce};function Fe(a){Ge.d.j(a.c.qb);var c=Ge.d,b=a.c.p;Ge.position.x=a.c.Da.x-(c.a.x*b.x+c.b.x*b.y);Ge.position.y=a.c.Da.y-(c.a.y*b.x+c.b.y*b.y);b=a.Xa.Ia.nd;for(c=a.qc;c;c=c.A)ze(c,b,Ge,a.e)}function T(a){a.e.d.j(a.c.n);var c=a.e.d,b=a.c.p;a.e.position.x=a.c.g.x-(c.a.x*b.x+c.b.x*b.y);a.e.position.y=a.c.g.y-(c.a.y*b.x+c.b.y*b.y)}u.Vb=function(a){if(this.G!=2&&a.G!=2)return s;for(var c=this.ka;c;c=c.next)if(c.ha==a&&c.Xb.ih==s)return s;return p};
u.Dc=function(a){a===k&&(a=0);this.c.Dc(a);this.c.g.m(this.c.Da);this.c.n=this.c.qb;T(this)};var Ge=new Gc,Ld=8,Be=16,Ce=32;function He(a,c){this.Ia=new ge(this);this.Kb=new pe;this.lg=this.qd=s;this.kf=this.ka=this.W=this.cb=this.Na=this.mf=q;this.Ji=this.of=this.bg=0;this.Ii=this.Yi=p;this.ag=c;this.Li=a;this.mh=0;this.hg=Ie(this,new Id)}var Je=1-100*Number.MIN_VALUE;function Ie(a,c){M(!a.qd);var b=new Ae(c,a);b.Aa=q;if(b.A=a.cb)a.cb.Aa=b;a.cb=b;a.bg++;return b}
function V(a,c){var b=c.Ob();b.Aa=q;if(b.A=a.ka)a.ka.Aa=b;a.ka=b;a.of++;b.Va.Xb=b;b.Va.ha=b.u;b.Va.oa=q;if(b.Va.next=b.s.ka)b.s.ka.oa=b.Va;b.s.ka=b.Va;b.Wa.Xb=b;b.Wa.ha=b.s;b.Wa.oa=q;if(b.Wa.next=b.u.ka)b.u.ka.oa=b.Wa;b.u.ka=b.Wa;var d=c.V,e=c.Y;if(!c.Sf)for(e=e.W;e;){if(e.ha==d)e.Fa.af=p;e=e.next}return b}
function Ke(a,c,b,d){if(a.lg)he(a.Ia),a.lg=s;a.qd=p;var e=new le;e.Z=c;e.$d=b;e.Xd=d;e.vb=c>0?1/c:0;e.Sa=a.mh*c;e.gc=a.Yi;c=a.Ia;for(b=c.Xa.W;b;){var d=b.H,g=b.M,f=d.w,h=g.w;if(f.wb==s&&h.wb==s)b=b.A;else{if(b.af){if(h.Vb(f)==s){d=b;b=d.A;c.Fc(d);continue}if(c.cg.Vb(d,g)==s){d=b;b=d.A;c.Fc(d);continue}b.af=s}c.nd.Bd(d.Uc,g.Uc)==s?(d=b,b=d.A,c.Fc(d)):(Nd(b,c.Ld),b=b.A)}}if(e.Z>0)a.le(e),a.Ii&&e.Z>0&&a.Mf(e),a.mh=e.vb;a.qd=s}
He.prototype.le=function(a){for(var c=this.kf;c;c=c.A)Ke(c,a);for(var c=new se(this.Ia.Ld,this.Kb),b=this.cb;b;b=b.A)b.fa=s;for(var d=this.W;d;d=d.A)d.fa=s;for(d=this.ka;d;d=d.A)d.fa=s;for(d=this.cb;d;d=d.A)if(!d.fa&&d.wb&&d.hc()&&d.G!=Jd){te(c);var e=[];e.push(d);for(d.fa=p;e.length>0;)if(b=e.pop(),we(c,b),b.wb||Od(b,p),b.G!=Jd){for(var g=b.W;g;g=g.next)if(!g.Fa.fa&&!g.Fa.ic()&&g.Fa.enabled!=s&&g.Fa.wd&&(c.Lb.push(g.Fa),g.Fa.fa=p,!g.ha.fa))e.push(g.ha),g.ha.fa=p;for(b=b.ka;b;b=b.next)if(!b.Xb.fa&&
b.ha.hc()&&(c.Ja.push(b.Xb),b.Xb.fa=p,!b.ha.fa))e.push(b.ha),b.ha.fa=p}c.le(a,this.Li,this.ag)}for(b=this.cb;b;b=b.A)b.wb&&b.hc()&&b.G!=Jd&&Fe(b);he(this.Ia)};
He.prototype.Mf=function(a){for(var c,b,d=new se(this.Ia.Ld,this.Kb),e=this.cb;e;e=e.A)e.fa=s,e.c.Ca=0;for(b=this.W;b;b=b.A)b.fa=s,b.Rd=q;for(b=this.ka;b;b=b.A)b.fa=s;for(;;){c=q;b=1;for(var g=this.W;g;g=g.A)if(!(g.ic()||g.enabled==s||!g.Tg||(g.H.w.G!=2||!g.H.w.wb)&&(g.M.w.G!=2||!g.M.w.wb))){var f=1;if(g.Rd!=q)f=g.Rd;else{if(g.wd)f=1;else{e=g.H.w.c.Ca;if(g.H.w.c.Ca<g.M.w.c.Ca)e=g.M.w.c.Ca,g.H.w.c.Dc(e);else if(g.M.w.c.Ca<g.H.w.c.Ca)e=g.H.w.c.Ca,g.M.w.c.Dc(e);var f=g,h=g.H.w.c,i=g.M.w.c;Pd.yc.j(f.H.la);
Pd.zc.j(f.M.la);Pd.Bh=h;Pd.Ch=i;Pd.nj=0.005;var j=Pd;vd++;var f=j.yc,h=j.zc,i=j.Bh,l=j.Ch;M(i.Ca==l.Ca);M(1-i.Ca>Number.MIN_VALUE);var m=f.S+h.S,j=j.nj,n=0,o=0,t=0;Ad.Cd=0;for(Bd.Fh=s;;){i.ib(Cd,n);l.ib(Dd,n);Bd.yc=f;Bd.zc=h;Bd.Bf=Cd;Bd.Cf=Dd;zc(Fd,Ad,Bd);if(Fd.jd<=0){n=1;break}Ed.X(Ad,f,Cd,h,Dd);var r=Ed.Pb(Cd,Dd);if(r<=0){n=1;break}o==0&&(t=r>m?Math.max(m-j,0.75*m):Math.max(r-j,0.02*m));if(r-t<0.5*j){if(o==0){n=1;break}break}var v=n,w=n,O=1;i.ib(Cd,O);l.ib(Dd,O);var J=Ed.Pb(Cd,Dd);if(J>=t){n=1;
break}for(var P=0;;){var y=0,y=P&1?w+(t-r)*(O-w)/(J-r):0.5*(w+O);i.ib(Cd,y);l.ib(Dd,y);var E=Ed.Pb(Cd,Dd);if(Math.abs(E-t)<0.025*j){v=y;break}E>t?(w=y,r=E):(O=y,J=E);P++;yd++;if(P==50)break}zd=Math.max(zd,P);if(v<(1+100*Number.MIN_VALUE)*n)break;n=v;o++;wd++;if(o==1E3)break}xd=Math.max(xd,o);f=n;M(0<=f&&f<=1);f>0&&f<1&&(f=(1-f)*e+f)}g.Rd=f}Number.MIN_VALUE<f&&f<b&&(c=g,b=f)}if(c===q||Je<b)break;Le.j(c.H.w.c);Me.j(c.M.w.c);c.H.w.Dc(b);c.M.w.Dc(b);Nd(c,this.Ia.Ld);c.Rd=q;if(c.ic()||c.enabled==s)c.H.w.c.j(Le),
c.M.w.c.j(Me),T(c.H.w),T(c.M.w);else if(c.wd){g=c.H.w;if(g.G!=2)g=c.M.w;te(d);c=new ie;e=g;c.Fd[c.Oe++]=e;for(g.fa=p;c.size>0;)if(g=c,g.ue!=g.Oe?(e=g.Fd[g.ue],delete g.Fd[g.ue],g.ue++):e=k,we(d,e),e.wb||Od(e,p),e.G==2){for(g=e.W;g;g=g.next){if(d.ze==32)break;if(!g.Fa.fa&&!g.Fa.ic()&&g.Fa.enabled!=s&&g.Fa.wd&&(d.Lb.push(g.Fa),g.Fa.fa=p,!g.ha.fa)){if(g.ha.G!=Jd)g.ha.Dc(b),Od(g.ha,p),f=g.ha,c.Fd[c.Oe++]=f;g.ha.fa=p}}for(g=e.ka;g;g=g.next)if(d.of!=32&&!g.Xb.fa&&g.ha.hc()&&(d.Ja.push(g.Xb),g.Xb.fa=p,!g.ha.fa)){if(g.ha.G!=
Jd)g.ha.Dc(b),Od(g.ha,p),e=g.ha,c.Fd[c.Oe++]=e;g.ha.fa=p}}c=new le;c.gc=s;c.Z=(1-b)*a.Z;c.vb=1/c.Z;c.Sa=0;c.$d=a.$d;c.Xd=a.Xd;d.Mf(c);for(b=0;b<d.Zb.length;b++)if(d.Zb[b].fa=s,d.Zb[b].wb&&d.Zb[b].G==2){Fe(d.Zb[b]);for(g=d.Zb[b].W;g;g=g.next)g.Fa.Rd=q}for(b=0;b<d.ze;b++)d.Lb[b].fa=s,d.Lb[b].Rd=q;for(b=0;b<d.of;b++)d.Ja[b].fa=s;he(this.Ia)}}};
function Ne(a,c,b,d){if(c instanceof Sd)a.Na.Kh(I(b,c.ca),c.S,b.d.a,d);else if(c instanceof Q){for(var e=0,g=c.Cg(),c=c.r,f=[],e=0;e<g;e++)f[e]=I(b,c[e]);a.Na.Lh(f,g,d)}}var Sb=new Gc,Le=new Gd,Me=new Gd,Oe=new je(0.5,0.8,0.8);function Pe(a){this.Hg=Qe++;this.position=a.ea();this.Za=0;this.yg=[];this.me=[];this.Te=[];this.je=[];this.body=q}var Qe=0;function Re(a,c,b){this.sg=[];this.Ea=[];this.Gj=0;this.qg={};this.ta=a;this.Ya=new F(c.x,c.y);this.ia=new He(b,p);this.ia.Ia.cg=this;this.ia.Ia.Ld=this;this.top=W(this,new F(this.Ya.x+5,5),new F(this.Ya.x/2,-2.5),s,q,{tb:0});this.bottom=W(this,new F(this.Ya.x+5,5),new F(this.Ya.x/2,this.Ya.y+2.5),s,q,{tb:0});this.left=W(this,new F(5,this.Ya.y+5),new F(-2.5,this.Ya.y/2),s,q,{tb:0});this.right=W(this,new F(5,this.Ya.y+5),new F(this.Ya.x+2.5,this.Ya.y/2),s,q,{tb:0})}u=Re.prototype;
u.update=function(a,c){Ke(this.ia,c,Se,Se);for(var b=this.ia.cb;b;b=b.A)b.Be.Q(),b.ng=0;b=this.sg;this.sg=[];if(b.length>0)for(var d=0;d<b.length;d++)b[d].call(this)};u.Vb=function(a,c){if(!a.ic()&&!c.ic())for(var b=0;b<this.Ea.length;b++)if(this.Ea[b].Vb&&!this.Ea[b].Vb(a,c))return s;return Lc.prototype.Vb(a,c)};
u.ae=function(a){for(var c=a.H,b=c.w,d=b.object,e=a.M,g=e.w,f=g.object,h=0;h<d.me.length;h++)d.me[h](a,d,b,c,f,g,e);for(h=0;h<f.me.length;h++)f.me[h](a,f,g,e,d,b,c);for(h=0;h<this.Ea.length;h++)if(this.Ea[h].Ig&&this.Ea[h].Ig(a),a.disabled)a.enabled=s;for(h=0;h<d.Te.length;h++)d.Te[h](a,d,b,c,f,g,e);for(h=0;h<f.Te.length;h++)f.Te[h](a,f,g,e,d,b,c);for(h=0;h<this.Ea.length;h++)this.Ea[h].ae&&this.Ea[h].ae(a)};
u.xd=function(a){for(var c=0;c<this.Ea.length;c++)this.Ea[c].xd&&this.Ea[c].xd(a);a.disabled=s;a.enabled=p};u.ke=function(a,c){if(a.disabled)a.enabled=s;for(var b=0;b<this.Ea.length;b++)this.Ea[b].ke&&this.Ea[b].ke(a,c)};u.ie=function(a,c){for(var b=a.H,d=b.w,e=d.object,g=a.M,f=g.w,h=f.object,i=0;i<e.je.length;i++)e.je[i](a,c,e,d,b,h,f,g);for(i=0;i<h.je.length;i++)h.je[i](a,c,h,f,g,e,d,b);for(i=0;i<this.Ea.length;i++)this.Ea[i].ie&&this.Ea[i].ie(a,c)};
function Y(a,c,b,d){d=d||0;a=Te(a,c,b,p);a.display.Hh=-10+d;return a}function W(a,c,b,d,e,g){e=e||{};e.type=Jd;return Ue(a,c,b,d,{xa:e,mc:g})}function Ue(a,c,b,d,e){var g=new Q;Kc(g,c.x/2,c.y/2);return a.Gb(c,b,d,g,e)}function Ve(a,c,b){var d=new Q,e=new F(c.x/2,c.y/2);Jc(d,[new F(0,e.y),new F(-e.x+0.01,e.y-0.01),new F(-e.x,0),new F(-e.x+0.01,-e.y+0.01),new F(0,-e.y),new F(e.x-0.01,-e.y+0.01),new F(e.x,0),new F(e.x-0.01,e.y-0.01)]);return a.Gb(c,b,p,d,{xa:{Lc:p},mc:{Ac:0}})}
function We(a,c){a.ia.qd?a.sg.push(c):c.apply(a)}u.Gb=function(a,c,b,d,e){var g=Te(this,a,c,b);We(this,function(){var a=e,a=a||{},b=Xe(a.xa,Ye),i=new Id;i.type=b.type;i.Za=b.Za;i.Lc=b.Lc;i.position=c;b=Ie(this.ia,i);a=Ze(b,d,a);g.body=b;g.bf=a;b.object=g});return g};function Te(a,c,b,d){b=new Pe(b);a.qg[b.Hg]=b;d!==s&&dc(b,c);return b}
function Ze(a,c,b){var b=b||{},d=Xe(b.mc,$e),b=new hc;b.re=d.re;b.tb=d.tb;b.Ac=d.Ac;b.ff=d.ff;b.shape=c;M(!a.Xa.qd);c=new ye;c.Ob(a,a.e,b);a.ac&Ce&&c.be(a.Xa.Ia.nd,a.e);c.A=a.qc;a.qc=c;a.lh++;c.w=a;if(c.lf>0&&(a.q=0,a.l=0,a.oc=0,a.v=0,a.c.p.Q(),!(a.G==Jd||a.G==1))){b=new F(0,0);for(d=a.qc;d;d=d.A)if(d.lf!=0){var e=d.Bg();a.q+=e.Xc;b.x+=e.fd.x*e.Xc;b.y+=e.fd.y*e.Xc;a.oc+=e.ee}a.q>0?(a.l=1/a.q,b.x*=a.l,b.y*=a.l):(a.q=1,a.l=1);a.oc>0&&(a.ac&Be)==0?(a.oc-=a.q*(b.x*b.x+b.y*b.y),a.oc*=a.Oi,M(a.oc>0),a.v=
1/a.oc):(a.oc=0,a.v=0);d=a.c.g.ea();a.c.p.m(b);a.c.Da.m(I(a.e,a.c.p));a.c.g.m(a.c.Da);a.h.x+=a.t*-(a.c.g.y-d.y);a.h.y+=a.t*+(a.c.g.x-d.x)}a.Xa.lg=p;return c}
function af(a,c){We(a,function(){if(c.body){var a=this.ia,d=c.body;M(!a.qd);for(var e=d.ka;e;){var g=e,e=e.next;a.mf&&a.mf.xj(g.Xb);var f=a,h=g.Xb,i=h.ih;if(h.Aa)h.Aa.A=h.A;if(h.A)h.A.Aa=h.Aa;if(h==f.ka)f.ka=h.A;var g=h.s,j=h.u;Od(g,p);Od(j,p);if(h.Va.oa)h.Va.oa.next=h.Va.next;if(h.Va.next)h.Va.next.oa=h.Va.oa;if(h.Va==g.ka)g.ka=h.Va.next;h.Va.oa=q;h.Va.next=q;if(h.Wa.oa)h.Wa.oa.next=h.Wa.next;if(h.Wa.next)h.Wa.next.oa=h.Wa.oa;if(h.Wa==j.ka)j.ka=h.Wa.next;h.Wa.oa=q;h.Wa.next=q;f.of--;if(!i)for(f=
j.W;f;){if(f.ha==g)f.Fa.af=p;f=f.next}}for(e=d.kf;e;)f=e,e=e.Fj,f.yj.vj(d);for(e=d.W;e;)f=e,e=e.next,a.Ia.Fc(f.Fa);d.W=q;for(e=d.qc;e;)f=e,e=e.A,a.mf&&a.mf.wj(f),f.ce(a.Ia.nd),f.Fc();d.qc=q;d.lh=0;if(d.Aa)d.Aa.A=d.A;if(d.A)d.A.Aa=d.Aa;if(d==a.cb)a.cb=d.A;a.bg--}delete this.qg[c.Hg]})}function bf(a,c,b){We(a,function(){if(c.body){var a=c.body;De(a,b,a.Sb())}else c.position=b.ea()})}var Se=10,$e={re:0.1,tb:0.6,Ac:0.01,ff:s},Ye={Lc:s,Za:0,type:2};
function Xe(a,c){var a=a||{},b={},d;for(d in c)b[d]=a[d]===k||a[d]===q?c[d]:a[d];return b};function cf(a){this.ta=a}function df(a,c,b,d,e){var g=new F(4,4);dc(c.body,b);H(c,"../external-resources/graphics/urbansquall_tileset/characters/princess_AP.png",d);c.display.Af=new Tb("../external-resources/graphics/urbansquall_tileset/characters/princess_AP.png",d,g,e);c.display.Wb={};c.display.Wb.Bj=e;c.display.Wb.si=4;c.display.Wb.Mc=0;c.display.Wb.jb={n:ef,x:ef,y:ff};a=a.ta.Qg;c.yg.push(gf);Ja(a.xg,c)}var ef=0,ff=2;
function gf(a,c){var b=this.display.Wb;b.Mc+=c;var d=new F(1,1),e=this.body.h,g=Math.abs(e.x),f=Math.abs(e.y);if(f<0.01||g>=f){if(e.x>0.01){if(b.jb.x=ef,b.jb.n!=ef)b.jb.n=ef,b.Mc=0}else if(e.x<-0.01){if(b.jb.x=1,b.jb.n!=1)b.jb.n=1,b.Mc=0}else b.Mc=0;d.y=b.jb.x==1?4:2}else if(e.y>0.01){b.jb.y=3;if(b.jb.n!=3)b.jb.n=3,b.Mc=0;d.y=3}else{b.jb.y=ff;if(b.jb.n!=ff)b.jb.n=ff,b.Mc=0;d.y=1}d.x=b.Mc==0?1:Math.floor(b.Mc*b.si);b=this.display.Af;b.mb=d.ea();b.mb.x%=b.zf.x;b.mb.y%=b.zf.y;if(b.mb.x===0)b.mb.x=b.zf.x;
if(b.mb.y===0)b.mb.y=b.zf.y};function hf(){this.xg=[]};function jf(a,c,b,d,e,g,f){this.$c=a;this.paused=s;this.Re=0;this.Qg=new hf;this.Wb=new cf(this);this.o=new Re(this,b,d);this.viewport=new Yb(this,c,g,e,f)}function kf(a){if(a.eh===q)a.eh=new Date;var c=new Date-a.eh>=5E3;Gb>0&&!c?setTimeout(function(){kf(a)},50):(c&&alert("It appears to be taking a long time to load the game's images. You may experience some invisible objects until they finish loading, but the game will now start."),a.start())}
jf.prototype.update=function(a,c){if(this.paused)this.Re=0,ac(this.viewport.xh),this.$c.Se&&this.$c.Se(a,c);else{this.$c.Le&&this.$c.Le(a,c);for(var b=this.Qg,d=0;d<b.xg.length;d++)for(var e=b.xg[d],g=0;g<e.yg.length;g++)e.yg[g].apply(e,[a,c]);this.Re+=c;for(b=a-this.Re;this.Re>=0.015;)this.Re-=0.015,b+=0.015,this.$c.ij&&this.$c.ij(b,0.015),this.o.update(b,0.015);this.$c.Ke&&this.$c.Ke(a,c);cc(this.viewport.xh);b=this.viewport;b.display.style.visibility="hidden";if(b.gf.x!=b.ya.x||b.gf.y!=b.ya.y){b.gf.x=
b.ya.x;b.gf.y=b.ya.y;if(b.bb!==q)b.bb.style.left="-"+(b.ya.x*b.scale-b.Ab.x/2)+"px",b.bb.style.top="-"+(b.ya.y*b.scale-b.Ab.y/2)+"px";b.display.style.left="-"+(b.ya.x*b.scale-b.Ab.x/2)+"px";b.display.style.top="-"+(b.ya.y*b.scale-b.Ab.y/2)+"px";d=b.Ef;e=b.ya;g=Vb(d);d.lowerBound.Nf(g);d.upperBound.Nf(g);d.lowerBound.Nb(e);d.upperBound.Nb(e)}var d=[],f;for(f in b.lc)d[f]=b.lc[f];f=b.Ef;var e=b.ta.o.qg,h;for(h in e){var i=e[h];if(i.display){var j=i.display,l=i.ui(b.ya),m=j.size;j.L.lowerBound.j(l.x-
m.x,l.y-m.y);j.L.upperBound.j(l.x+m.x,l.y+m.y);if(f.Bd(j.L)){if(j.ad==q)j.ad=ec++;delete d[j.ad];if(b.lc[j.ad]==q)b.lc[j.ad]=document.createElement("span"),b.lc[j.ad].className="gameObject",b.lc[j.ad].style.zIndex=100+(j.Hh||0),b.display.appendChild(b.lc[j.ad]);var g=b.lc[j.ad],n=Ib(g),o=b.scale!=n.scale;n.scale=b.scale;var t=l.x-m.x/2;if(o||n.left!=t)n.left=t,g.style.left=t*b.scale+"px";l=l.y-m.y/2;if(o||n.top!=l)n.top=l,g.style.top=l*b.scale+"px";l=m.x;if(o||n.width!=l)n.width=l,g.style.width=l*
b.scale+"px";m=m.y;if(o||n.height!=m)n.height=m,g.style.height=m*b.scale+"px";i=i.ti();if(n.rotation!=i)n.rotation=i,g.style.webkitTransform="rotate("+i+"rad)";if(j.Af!=q){j=j.Af;n=s;i=Ib(g);if(i.ci!=j.url)i.ci=j.url,g.style.backgroundImage="url("+j.url+")",g.style.backgroundColor="transparent",n=p;else if(i.di!=j.mb.x||i.ei!=j.mb.y)n=p;if(n)i.di=j.mb.x,i.ei=j.mb.y,g.style.backgroundPosition=(j.wh.x+(j.mb.x-1)*j.Dh.x)*-1+"px "+(j.wh.y+(j.mb.y-1)*j.Dh.y)*-1+"px"}}}}for(var r in d)b.display.removeChild(d[r]),
delete b.lc[r];if(b.bb!==q){b.bb.style.visibility="hidden";h=b.ta.o.ia;if(h.Na!==q){h.Na.Wi.vi.clear();r=h.Na.kh;if(r&Kb){e=new je(0.5,0.5,0.3);g=new je(0.5,0.9,0.5);j=new je(0.5,0.5,0.9);n=new je(0.6,0.6,0.6);i=new je(0.9,0.7,0.7);for(d=h.cb;d;d=d.A)for(f=d.qc;f;f=f.A)o=f.la,d.hc()?d.G==Jd?Ne(h,o,d.e,g):d.G==1?Ne(h,o,d.e,j):d.wb?Ne(h,o,d.e,i):Ne(h,o,d.e,n):Ne(h,o,d.e,e)}if(r&Lb)for(d=h.ka;d;d=d.A)f=h,e=d,e instanceof xe?f.Na.Gc(e.Qb(),e.Rb(),Oe):e instanceof Oc?(f.Na.Gc(Qc(e),e.Qb(),Oe),f.Na.Gc(Rc(e),
e.Rb(),Oe),f.Na.Gc(Qc(e),Rc(e),Oe)):(e.s!=f.hg&&f.Na.Gc(e.s.e.position,e.Qb(),Oe),f.Na.Gc(e.Qb(),e.Rb(),Oe),e.u!=f.hg&&f.Na.Gc(e.u.e.position,e.Rb(),Oe));if(r&Pb)for(d=h.kf;d;d=d.A)d.sj(h.Na);if(r&Nb){d=new je(0.3,0.9,0.9);for(f=h.Ia.W;f;f=f.A)h.Na.Gc(Vb(f.H.Nc),Vb(f.M.Nc),d)}if(r&Mb){e=new je(0,0,0.8);for(d=h.cb;d;d=d.A)if(d.hc())for(f=d.qc;f;f=f.A)g=h.Ia.nd.yd(f.Uc),h.Na.Jh([new F(g.lowerBound.x,g.lowerBound.y),new F(g.upperBound.x,g.lowerBound.y),new F(g.upperBound.x,g.upperBound.y),new F(g.lowerBound.x,
g.upperBound.y)],e)}if(r&Ob)for(d=h.cb;d;d=d.A)Sb.d=d.e.d,Sb.position=U(d),h.Na.Mh()}b.bb.style.visibility=""}b.display.style.visibility=""}};jf.prototype.start=function(){cc(this.viewport.Zf);Ja(lf,this);mf||(nf=document.getElementById("fps"),mf=p,of())};var mf=s,lf=[],pf=60,qf=q,nf=q;
function of(a){a==q&&(a=(new Date).getTime());var c=0;qf!==q?c=(a-qf)/1E3:qf=a;if(c>0){c>0.2&&(c=0.2);if(nf){for(var b=0,d=0,e=0;e<lf.length;e++)b+=lf[e].o.ia.bg,d+=lf[e].o.ia.Ia.ze;e=1/c;pf=pf*0.99+e*0.01;nf.innerHTML=Math.round(e)+" FPS<br>"+Math.round(pf)+" Rolling FPS<br>"+b+" World Objects<br>"+d+" Active Contacts"}qf=a;for(e=0;e<lf.length;e++)lf[e].update(a,c);for(var g in yb)yb[g].Gh=p;tb=sb;vb=ub;xb=wb}fc(of,document.body)};function rf(){this.type=0;this.Y=this.V=q;this.Sf=s};function sf(){rf.call(this);this.cf=new F(0,0);this.df=new F(0,0);this.Ta=new F(0,0);this.Ua=new F(0,0);this.type=4;this.cf.j(-1,1);this.df.j(1,1);this.Ta.j(-1,0);this.Ua.j(1,0);this.uh=this.Yf=this.th=this.Xf=0;this.Yc=1;this.Sf=p}z(sf,rf);
sf.prototype.X=function(a,c,b,d,e,g,f){f===k&&(f=0);this.V=a;this.Y=c;this.cf.m(b);this.df.m(d);this.Ta=pc(this.V.e,e);this.Ua=pc(this.Y.e,g);a=e.x-b.x;b=e.y-b.y;this.Xf=Math.sqrt(a*a+b*b);b=g.x-d.x;d=g.y-d.y;this.Yf=Math.sqrt(b*b+d*d);this.Yc=f;f=this.Xf+this.Yc*this.Yf;this.th=f-this.Yc*Pc;this.uh=(f-Pc)/this.Yc};sf.prototype.Ob=function(){return new Oc(this)};function Z(a,c,b){this.x=a;this.y=c;this.k=b}u=Z.prototype;u.Q=function(){this.k=this.y=this.x=0};u.j=function(a,c,b){this.x=a;this.y=c;this.k=b};u.m=function(a){this.x=a.x;this.y=a.y;this.k=a.k};u.Cb=function(){return new Z(-this.x,-this.y,-this.k)};u.Eg=function(){this.x=-this.x;this.y=-this.y;this.k=-this.k};u.ea=function(){return new Z(this.x,this.y,this.k)};u.Nb=function(a){this.x+=a.x;this.y+=a.y;this.k+=a.k};u.Nf=function(a){this.x-=a.x;this.y-=a.y;this.k-=a.k};
u.jc=function(a){this.x*=a;this.y*=a;this.k*=a};function tf(a,c,b){this.a=new Z(0,0,0);this.b=new Z(0,0,0);this.J=new Z(0,0,0);a&&this.a.m(a);c&&this.b.m(c);b&&this.J.m(b)}u=tf.prototype;u.ea=function(){return new tf(this.a,this.b,this.J)};u.zd=function(a){this.a.m(a.a);this.b.m(a.b);this.J.m(a.J)};u.Ff=function(a){this.a.x+=a.a.x;this.a.y+=a.a.y;this.a.k+=a.a.k;this.b.x+=a.b.x;this.b.y+=a.b.y;this.b.k+=a.b.k;this.J.x+=a.J.x;this.J.y+=a.J.y;this.J.k+=a.J.k};u.Xe=function(){this.a.j(1,0,0);this.b.j(0,1,0);this.J.j(0,0,1)};
u.Q=function(){this.a.j(0,0,0);this.b.j(0,0,0);this.J.j(0,0,0)};function uf(a,c,b,d){var e=a.a.x,g=a.b.x,f=a.a.y,a=a.b.y,h=e*a-g*f;h!=0&&(h=1/h);c.x=h*(a*b-g*d);c.y=h*(e*d-f*b);return c}function vf(a,c,b,d,e){var g=a.a.x,f=a.a.y,h=a.a.k,i=a.b.x,j=a.b.y,l=a.b.k,m=a.J.x,n=a.J.y,a=a.J.k,o=g*(j*a-l*n)+f*(l*m-i*a)+h*(i*n-j*m);o!=0&&(o=1/o);c.x=o*(b*(j*a-l*n)+d*(l*m-i*a)+e*(i*n-j*m));c.y=o*(g*(d*a-e*n)+f*(e*m-b*a)+h*(b*n-d*m));c.k=o*(g*(j*e-l*d)+f*(l*b-i*e)+h*(i*d-j*b));return c};function wf(a){R.call(this,a);this.C=new F(0,0);this.D=new F(0,0);this.Sc=new F(0,0);this.pf=new F(0,0);this.F=new F(0,0);this.qa=new F(0,0);this.R=new tf;this.i=new Z(0,0,0);this.C.m(a.Ta);this.D.m(a.Ua);this.Sc.m(a.$f);this.pf.x=-this.Sc.y;this.pf.y=this.Sc.x;this.Vi=a.Zc;this.i.Q();this.ua=this.dc=0;this.Nd=a.gh;this.Sd=a.Eh;this.Ti=a.$i;this.kg=a.pg;this.od=a.$e;this.Ae=a.Uf;this.ba=0;this.F.Q();this.qa.Q()}z(wf,R);u=wf.prototype;u.Qb=function(){return S(this.s,this.C)};
u.Rb=function(){return S(this.u,this.D)};function xf(a){var c=a.s,b=a.u,d=S(c,a.C),b=S(b,a.D),a=nc(c.e.d,a.Sc);return a.x*(b.x-d.x)+a.y*(b.y-d.y)}
u.Tb=function(a){var c=this.s,b=this.u,d,e=0;this.Ee.m(c.c.p);this.Fe.m(b.c.p);var g=c.ib();b.ib();d=c.e.d;var f=this.C.x-this.Ee.x,h=this.C.y-this.Ee.y,e=d.a.x*f+d.b.x*h,h=d.a.y*f+d.b.y*h,f=e;d=b.e.d;var i=this.D.x-this.Fe.x,j=this.D.y-this.Fe.y,e=d.a.x*i+d.b.x*j,j=d.a.y*i+d.b.y*j,i=e;d=b.c.g.x+i-c.c.g.x-f;e=b.c.g.y+j-c.c.g.y-h;this.yb=c.l;this.zb=b.l;this.Oc=c.v;this.Pc=b.v;this.F.m(nc(g.d,this.Sc));this.La=(d+f)*this.F.y-(e+h)*this.F.x;this.Ma=i*this.F.y-j*this.F.x;this.dc=this.yb+this.zb+this.Oc*
this.La*this.La+this.Pc*this.Ma*this.Ma;if(this.dc>Number.MIN_VALUE)this.dc=1/this.dc;this.qa.m(nc(g.d,this.pf));this.Oa=(d+f)*this.qa.y-(e+h)*this.qa.x;this.Pa=i*this.qa.y-j*this.qa.x;g=this.yb;f=this.zb;h=this.Oc;i=this.Pc;this.R.a.x=g+f+h*this.Oa*this.Oa+i*this.Pa*this.Pa;this.R.a.y=h*this.Oa+i*this.Pa;this.R.a.k=h*this.Oa*this.La+i*this.Pa*this.Ma;this.R.b.x=this.R.a.y;this.R.b.y=h+i;this.R.b.k=h*this.La+i*this.Ma;this.R.J.x=this.R.a.k;this.R.J.y=this.R.b.k;this.R.J.k=g+f+h*this.La*this.La+i*
this.Ma*this.Ma;if(this.od)if(d=this.F.x*d+this.F.y*e,Math.abs(this.Sd-this.Nd)<0.01)this.ba=3;else if(d<=this.Nd){if(this.ba!=1)this.ba=1,this.i.k=0}else if(d>=this.Sd){if(this.ba!=2)this.ba=2,this.i.k=0}else this.ba=0,this.i.k=0;else this.ba=0;if(this.Ae==s)this.ua=0;a.gc?(this.i.x*=a.Sa,this.i.y*=a.Sa,this.ua*=a.Sa,a=this.i.x*this.qa.x+(this.ua+this.i.k)*this.F.x,d=this.i.x*this.qa.y+(this.ua+this.i.k)*this.F.y,e=this.i.x*this.Oa+this.i.y+(this.ua+this.i.k)*this.La,g=this.i.x*this.Pa+this.i.y+
(this.ua+this.i.k)*this.Ma,c.h.x-=this.yb*a,c.h.y-=this.yb*d,c.t-=this.Oc*e,b.h.x+=this.zb*a,b.h.y+=this.zb*d,b.t+=this.Pc*g):(this.i.Q(),this.ua=0)};
u.Fb=function(a){var c=this.s,b=this.u,d=c.h,e=c.t,g=b.h,f=b.t,h=0,i=0,j=0,l=0;if(this.Ae&&this.ba!=3)l=this.dc*(this.kg-(this.F.x*(g.x-d.x)+this.F.y*(g.y-d.y)+this.Ma*f-this.La*e)),h=this.ua,i=a.Z*this.Ti,this.ua=L(this.ua+l,-i,i),l=this.ua-h,h=l*this.F.x,i=l*this.F.y,j=l*this.La,l*=this.Ma,d.x-=this.yb*h,d.y-=this.yb*i,e-=this.Oc*j,g.x+=this.zb*h,g.y+=this.zb*i,f+=this.Pc*l;i=this.qa.x*(g.x-d.x)+this.qa.y*(g.y-d.y)+this.Pa*f-this.Oa*e;j=f-e;if(this.od&&this.ba!=0){a=this.F.x*(g.x-d.x)+this.F.y*
(g.y-d.y)+this.Ma*f-this.La*e;h=this.i.ea();a=vf(this.R,new Z(0,0,0),-i,-j,-a);this.i.Nb(a);if(this.ba==1)this.i.k=Math.max(this.i.k,0);else if(this.ba==2)this.i.k=Math.min(this.i.k,0);i=uf(this.R,new F(0,0),-i-(this.i.k-h.k)*this.R.J.x,-j-(this.i.k-h.k)*this.R.J.y);i.x+=h.x;i.y+=h.y;this.i.x=i.x;this.i.y=i.y;a.x=this.i.x-h.x;a.y=this.i.y-h.y;a.k=this.i.k-h.k;h=a.x*this.qa.x+a.k*this.F.x;i=a.x*this.qa.y+a.k*this.F.y;j=a.x*this.Oa+a.y+a.k*this.La;l=a.x*this.Pa+a.y+a.k*this.Ma}else a=uf(this.R,new F(0,
0),-i,-j),this.i.x+=a.x,this.i.y+=a.y,h=a.x*this.qa.x,i=a.x*this.qa.y,j=a.x*this.Oa+a.y,l=a.x*this.Pa+a.y;d.x-=this.yb*h;d.y-=this.yb*i;e-=this.Oc*j;g.x+=this.zb*h;g.y+=this.zb*i;f+=this.Pc*l;c.h.m(d);c.t=e;b.h.m(g);b.t=f};
u.Eb=function(){var a=this.s,c=this.u,b=a.c.g,d=a.c.n,e=c.c.g,g=c.c.n,f,h=0,i=0,j=0,l=h=f=0,m=0,i=s,n=0,o=jc(d),t=jc(g);f=o;var m=this.C.x-this.Ee.x,r=this.C.y-this.Ee.y,h=f.a.x*m+f.b.x*r,r=f.a.y*m+f.b.y*r,m=h;f=t;t=this.D.x-this.Fe.x;j=this.D.y-this.Fe.y;h=f.a.x*t+f.b.x*j;j=f.a.y*t+f.b.y*j;t=h;f=e.x+t-b.x-m;h=e.y+j-b.y-r;if(this.od){this.F=nc(o,this.Sc);this.La=(f+m)*this.F.y-(h+r)*this.F.x;this.Ma=t*this.F.y-j*this.F.x;var v=this.F.x*f+this.F.y*h;Math.abs(this.Sd-this.Nd)<0.01?(n=L(v,-0.2,0.2),
l=Math.abs(v),i=p):v<=this.Nd?(n=L(v-this.Nd+0.005,-0.2,0),l=this.Nd-v,i=p):v>=this.Sd&&(n=L(v-this.Sd+0.005,0,0.2),l=v-this.Sd,i=p)}this.qa=nc(o,this.pf);this.Oa=(f+m)*this.qa.y-(h+r)*this.qa.x;this.Pa=t*this.qa.y-j*this.qa.x;o=new Z(0,0,0);r=this.qa.x*f+this.qa.y*h;t=g-d-this.Vi;l=Math.max(l,Math.abs(r));m=Math.abs(t);i?(i=this.yb,j=this.zb,f=this.Oc,h=this.Pc,this.R.a.x=i+j+f*this.Oa*this.Oa+h*this.Pa*this.Pa,this.R.a.y=f*this.Oa+h*this.Pa,this.R.a.k=f*this.Oa*this.La+h*this.Pa*this.Ma,this.R.b.x=
this.R.a.y,this.R.b.y=f+h,this.R.b.k=f*this.La+h*this.Ma,this.R.J.x=this.R.a.k,this.R.J.y=this.R.b.k,this.R.J.k=i+j+f*this.La*this.La+h*this.Ma*this.Ma,vf(this.R,o,-r,-t,-n)):(i=this.yb,j=this.zb,f=this.Oc,h=this.Pc,n=f*this.Oa+h*this.Pa,v=f+h,this.R.a.j(i+j+f*this.Oa*this.Oa+h*this.Pa*this.Pa,n,0),this.R.b.j(n,v,0),n=uf(this.R,new F(0,0),-r,-t),o.x=n.x,o.y=n.y,o.k=0);n=o.x*this.qa.x+o.k*this.F.x;i=o.x*this.qa.y+o.k*this.F.y;r=o.x*this.Oa+o.y+o.k*this.La;o=o.x*this.Pa+o.y+o.k*this.Ma;b.x-=this.yb*
n;b.y-=this.yb*i;d-=this.Oc*r;e.x+=this.zb*n;e.y+=this.zb*i;g+=this.Pc*o;a.c.n=d;c.c.n=g;T(a);T(c);return l<=0.005&&m<=qc};function yf(){rf.call(this);this.Ta=new F(0,0);this.Ua=new F(0,0);this.$f=new F(0,0);this.type=2;this.$f.j(1,0);this.Zc=0;this.$e=s;this.Eh=this.gh=0;this.Uf=s;this.pg=this.$i=0}z(yf,rf);yf.prototype.X=function(a,c,b,d){this.V=a;this.Y=c;this.Ta=pc(this.V.e,b);this.Ua=pc(this.Y.e,b);this.$f=oc(this.V.e.d,d);this.Zc=this.Y.Sb()-this.V.Sb()};yf.prototype.Ob=function(){return new wf(this)};function zf(a,c,b){this.execute=a;this.name=c;this.ri=b};function $(a){this.ta=a;this.ta.o.Ea.push(this)}
$.prototype.rb=function(a,c){var b=Ve(this.ta.o,a,c);$.zi(b);$.Bi(b);$.Ai(b);var d=new Q,e=new F(a.x/2,a.y/2);Ic(d,[new F(-e.x+0.01,e.y-0.01),new F(-e.x-0.01,0),new F(-e.x+0.01,-e.y+0.01),new F(e.x-0.01,-e.y+0.01),new F(e.x+0.01,0),new F(e.x-0.01,e.y-0.01)]);b.zj=Ze(b.body,d,{mc:{tb:0}});b.wa={};b.wa.wf=new zf(function(){b.f.nc.Ci()},"Move Up",p);b.wa.vf=new zf(aa(),"Move Down",p);b.wa.Td=new zf(function(){b.f.Vd.Td()},"Move Left",p);b.wa.Ud=new zf(function(){b.f.Vd.Ud()},"Move Right",p);return b};
(function(a){a.pb=0.1;a.rj=new F(0,9.8);a.Ec={Ve:new F(0,9.8),Oh:1.5,Fg:8,Sh:1};a.Ub={Ih:1,Nh:2,Qh:4,qj:8,Ag:16,Dg:32,Gf:64};a.Ph={Rh:1,pj:2,tj:4};a.U={Ad:1,bd:2,ob:4,cd:8};a.Wf=function(c,b){c.f=c.f||{};c.f.type|=a.Ub.Ih;c.f.Ze={fj:b&a.U.Ad,cj:b&a.U.ob,dj:b&a.U.bd,ej:b&a.U.cd};c.me.push(function(b,c,g,f,h,i,j){if(!b.disabled)if(b.disabled=p,g=new ke,Md(b,g),g=g.N,b.H==j&&(g=g.Cb()),!c.f.Ze.fj&&g.y<-a.pb)b.disabled=s;else if(!c.f.Ze.cj&&g.y>a.pb)b.disabled=s;else if(!c.f.Ze.ej&&g.x>a.pb)b.disabled=
s;else if(!c.f.Ze.dj&&g.x<-a.pb)b.disabled=s})};a.zi=function(c){var b=$.Ec.Fg;c.f=c.f||{};c.f.type|=a.Ub.Nh;c.f.nc={ld:[],speed:b,Ci:function(){var b=c.f.nc.ld;if(b.length>0){var e=c.body.q*c.f.nc.speed*a.Ec.Oh,g=U(c.body),f=c.body.h;f.y=0;var h=c.body;h.G!=Jd&&h.h.m(f);Ee(c.body,new F(0,-e),g);for(f=0;f<b.length;f++)Ee(b[f].w,new F(0,e/b.length),g)}}};c.je.push(function(a,b,c,f,h,i,j,l){if(!a.disabled)if(b=new ke,Md(a,b),b=b.N,a.H==l&&(b=b.Cb()),b.y>0.5){if(!(Ia(c.f.nc.ld,l)>=0))Ja(c.f.nc.ld,l),
a.vd=a.vd||[],Ja(a.vd,c)}else Ia(c.f.nc.ld,l)>=0&&(Ka(c.f.nc.ld,l),Ka(a.vd,c))})};a.Bi=function(c){var b=$.Ec.Fg,d=$.Ec.Sh;c.f=c.f||{};c.f.type|=a.Ub.Qh;c.f.Vd={Pg:d,speed:b,Ud:function(){var a=c.body.h,a=Math.min(a.x+c.f.Vd.Pg,c.f.Vd.speed)-a.x;a>0&&Ee(c.body,new F(c.body.q*a,0),U(c.body))},Td:function(){var a=c.body.h,a=Math.max(a.x-c.f.Vd.Pg,-c.f.Vd.speed)-a.x;a<0&&Ee(c.body,new F(c.body.q*a,0),U(c.body))}}};a.Gd=function(c,b,d,e){c.f=c.f||{};c.f.type|=a.Ub.Gf;c.f.z=c.f.z||{};if(d&a.U.Ad)c.f.z.Vf=
p,c.f.z.Pe=c.f.z.Pe||[],c.f.z.Pe.push(b);if(d&a.U.ob)c.f.z.Vf=p,c.f.z.ne=c.f.z.ne||[],c.f.z.ne.push(b);if(d&a.U.bd)c.f.z.Vf=p,c.f.z.ve=c.f.z.ve||[],c.f.z.ve.push(b);if(d&a.U.cd)c.f.z.Vf=p,c.f.z.Me=c.f.z.Me||[],c.f.z.Me.push(b);if(e&a.U.Ad)c.f.z.ef=p,c.f.z.Qe=c.f.z.Qe||[],c.f.z.Qe.push(b);if(e&a.U.ob)c.f.z.ef=p,c.f.z.oe=c.f.z.oe||[],c.f.z.oe.push(b);if(e&a.U.bd)c.f.z.ef=p,c.f.z.we=c.f.z.we||[],c.f.z.we.push(b);if(e&a.U.cd)c.f.z.ef=p,c.f.z.Ne=c.f.z.Ne||[],c.f.z.Ne.push(b)};a.yi=function(c,b){c.f=c.f||
{};c.f.type|=a.Ub.Ag;c.f.Tf={jj:b,filter:0}};a.Ai=function(c){var b=$.Ph.Rh;c.f=c.f||{};c.f.type|=a.Ub.Dg;c.f.Fi={filter:b}};a.prototype.Vb=q;a.prototype.Ig=q;a.prototype.ae=function(a){if(!a.disabled){var b=a.H,d=b.w.object,e=a.M,g=e.w.object;d&&g&&(d.f&&this.Jg(a,d,g,e),g.f&&this.Jg(a,g,d,b))}};a.prototype.Jg=function(c,b,d,e){if(b.f.type&a.Ub.Gf){var g=new ke;Md(c,g);g=g.N;c.H==e&&(g=g.Cb());if(g.y<-a.pb&&b.f.z.Pe)for(e=0;e<b.f.z.Pe.length;e++)b.f.z.Pe[e](c);else if(g.y>a.pb&&b.f.z.ne)for(e=0;e<
b.f.z.ne.length;e++)b.f.z.ne[e](c);if(g.x>a.pb&&b.f.z.ve)for(e=0;e<b.f.z.ve.length;e++)b.f.z.ve[e](c);else if(g.x<-a.pb&&b.f.z.Me)for(e=0;e<b.f.z.Me.length;e++)b.f.z.Me[e](c)}b.f.type&a.Ub.Ag&&d.f&&d.f.type&a.Ub.Dg&&(b.f.Tf.filter==0||b.f.Tf.filter&d.f.Fi.filter)&&bf(this.ta.o,d,b.f.Tf.jj)};a.prototype.xd=function(a){if(a.vd){for(var b=0;b<a.vd.length;b++){var d=a.vd[b];Ka(d.f.nc.ld,a.H);Ka(d.f.nc.ld,a.M)}a.vd=q}if(!a.disabled){var b=a.H,d=b.w.object,e=a.M,g=e.w.object;d&&g&&(d.f&&this.Kg(a,d,e),
g.f&&this.Kg(a,g,b))}};a.prototype.Kg=function(c,b,d){if(b.f.type&a.Ub.Gf&&b.f.z.ef){var e=new ke;Md(c,e);e=e.N;c.H==d&&(e=e.Cb());if(e.y<-a.pb&&b.f.z.Qe)for(d=0;d<b.f.z.Qe.length;d++)b.f.z.Qe[d](c);else if(e.y>a.pb&&b.f.z.oe)for(d=0;d<b.f.z.oe.length;d++)b.f.z.oe[d](c);if(e.x>a.pb&&b.f.z.we)for(d=0;d<b.f.z.we.length;d++)b.f.z.we[d](c);else if(e.x<-a.pb&&b.f.z.Ne)for(d=0;d<b.f.z.Ne.length;d++)b.f.z.Ne[d](c)}};a.prototype.ke=q;a.prototype.ie=q;a.prototype.ab=function(a,b){return W(this.ta.o,a,b,p)};
a.prototype.Kc=function(c,b,d){c=W(this.ta.o,c,b,p,q,q);if(d===k||d===q)d=a.U.ob|a.U.bd|a.U.cd;a.Wf(c,d);return c};a.prototype.xi=function(c,b){var d=this;a.Gd(c,function(){af(d.ta.o,c)},b,q)};a.prototype.qe=function(c,b){var d,e=W(this.ta.o,c,b,p,q,q);if(d===k||d===q)d=a.U.ob;this.xi(e,d);return e};a.prototype.hi=function(c,b,d){c=W(this.ta.o,c,b,p,q,q);a.yi(c,d);return c}})($);function Af(){rf.call(this);this.Ta=new F(0,0);this.Ua=new F(0,0);this.type=3;this.length=1;this.Yg=this.bh=0}z(Af,rf);Af.prototype.X=function(a,c,b,d){this.V=a;this.Y=c;this.Ta.m(pc(this.V.e,b));this.Ua.m(pc(this.Y.e,d));a=d.x-b.x;b=d.y-b.y;this.length=Math.sqrt(a*a+b*b);this.Yg=this.bh=0};Af.prototype.Ob=function(){return new xe(this)};function Bf(a){R.call(this,a);this.Qc=new F(0,0);this.Rc=new F(0,0);this.i=new Z(0,0,0);this.q=new tf;this.Qc.m(a.Ta);this.Rc.m(a.Ua);this.He=a.Zc}z(Bf,R);u=Bf.prototype;u.Qb=function(){return S(this.s,this.Qc)};u.Rb=function(){return S(this.u,this.Rc)};
u.Tb=function(a){var c,b=0,d=this.s,e=this.u;c=d.e.d;var g=this.Qc.x-d.c.p.x,f=this.Qc.y-d.c.p.y,b=c.a.x*g+c.b.x*f,f=c.a.y*g+c.b.y*f,g=b;c=e.e.d;var h=this.Rc.x-e.c.p.x,i=this.Rc.y-e.c.p.y,b=c.a.x*h+c.b.x*i,i=c.a.y*h+c.b.y*i,h=b;c=d.l;var b=e.l,j=d.v,l=e.v;this.q.a.x=c+b+f*f*j+i*i*l;this.q.b.x=-f*g*j-i*h*l;this.q.J.x=-f*j-i*l;this.q.a.y=this.q.b.x;this.q.b.y=c+b+g*g*j+h*h*l;this.q.J.y=g*j+h*l;this.q.a.k=this.q.J.x;this.q.b.k=this.q.J.y;this.q.J.k=j+l;a.gc?(this.i.x*=a.Sa,this.i.y*=a.Sa,this.i.k*=
a.Sa,d.h.x-=c*this.i.x,d.h.y-=c*this.i.y,d.t-=j*(g*this.i.y-f*this.i.x+this.i.k),e.h.x+=b*this.i.x,e.h.y+=b*this.i.y,e.t+=l*(h*this.i.y-i*this.i.x+this.i.k)):this.i.Q()};
u.Fb=function(){var a,c=0,b=this.s,d=this.u,e=b.h,g=b.t,f=d.h,h=d.t,i=b.l,j=d.l,l=b.v,m=d.v;a=b.e.d;var n=this.Qc.x-b.c.p.x,o=this.Qc.y-b.c.p.y,c=a.a.x*n+a.b.x*o,o=a.a.y*n+a.b.y*o,n=c;a=d.e.d;var t=this.Rc.x-d.c.p.x,r=this.Rc.y-d.c.p.y,c=a.a.x*t+a.b.x*r,r=a.a.y*t+a.b.y*r,t=c;a=new Z(0,0,0);vf(this.q,a,-(f.x-h*r-e.x+g*o),-(f.y+h*t-e.y-g*n),-(h-g));this.i.Nb(a);e.x-=i*a.x;e.y-=i*a.y;g-=l*(n*a.y-o*a.x+a.k);f.x+=j*a.x;f.y+=j*a.y;h+=m*(t*a.y-r*a.x+a.k);b.t=g;d.t=h};
u.Eb=function(){var a,c=0,b=this.s,d=this.u;a=b.e.d;var e=this.Qc.x-b.c.p.x,g=this.Qc.y-b.c.p.y,c=a.a.x*e+a.b.x*g,g=a.a.y*e+a.b.y*g,e=c;a=d.e.d;var f=this.Rc.x-d.c.p.x,h=this.Rc.y-d.c.p.y,c=a.a.x*f+a.b.x*h,h=a.a.y*f+a.b.y*h,f=c;a=b.l;var c=d.l,i=b.v,j=d.v,l=d.c.g.x+f-b.c.g.x-e,m=d.c.g.y+h-b.c.g.y-g,n=d.c.n-b.c.n-this.He,o=Math.sqrt(l*l+m*m),t=Math.abs(n);o>0.05&&(i*=1,j*=1);this.q.a.x=a+c+g*g*i+h*h*j;this.q.b.x=-g*e*i-h*f*j;this.q.J.x=-g*i-h*j;this.q.a.y=this.q.b.x;this.q.b.y=a+c+e*e*i+f*f*j;this.q.J.y=
e*i+f*j;this.q.a.k=this.q.J.x;this.q.b.k=this.q.J.y;this.q.J.k=i+j;var r=new Z(0,0,0);vf(this.q,r,-l,-m,-n);b.c.g.x-=a*r.x;b.c.g.y-=a*r.y;b.c.n-=i*(e*r.y-g*r.x+r.k);d.c.g.x+=c*r.x;d.c.g.y+=c*r.y;d.c.n+=j*(f*r.y-h*r.x+r.k);T(b);T(d);return o<=0.005&&t<=qc};function Cf(){rf.call(this);this.Ta=new F(0,0);this.Ua=new F(0,0);this.type=8;this.Zc=0}z(Cf,rf);Cf.prototype.X=function(a,c,b){this.V=a;this.Y=c;this.Ta.m(pc(this.V.e,b));this.Ua.m(pc(this.Y.e,b));this.Zc=this.Y.Sb()-this.V.Sb()};Cf.prototype.Ob=function(){return new Bf(this)};function Df(a){R.call(this,a);this.Db=new ic;this.fe=new ic;this.ge=new ic;this.he=new ic;this.za=new Z(0,0,0);this.Hb=new F(0,0);this.fc=new F(0,0);this.C=new F(0,0);this.D=new F(0,0);this.i=new Z(0,0,0);this.q=new tf;this.C.m(a.Ta);this.D.m(a.Ua);this.He=a.Zc;this.i.Q();this.ua=0;this.qf=a.Gi;this.og=a.oj;this.Ui=a.aj;this.kg=a.pg;this.od=a.$e;this.Ae=a.Uf;this.ba=0}z(Df,R);u=Df.prototype;u.Qb=function(){return S(this.s,this.C)};u.Rb=function(){return S(this.u,this.D)};
function Ef(a){return a.u.c.n-a.s.c.n-a.He}
u.Tb=function(a){var c=this.s,b=this.u,d,e=0;d=c.e.d;var g=this.C.x-c.c.p.x,f=this.C.y-c.c.p.y,e=d.a.x*g+d.b.x*f,f=d.a.y*g+d.b.y*f,g=e;d=b.e.d;var h=this.D.x-b.c.p.x,i=this.D.y-b.c.p.y,e=d.a.x*h+d.b.x*i,i=d.a.y*h+d.b.y*i,h=e;d=c.l;var e=b.l,j=c.v,l=b.v;this.q.a.x=d+e+f*f*j+i*i*l;this.q.b.x=-f*g*j-i*h*l;this.q.J.x=-f*j-i*l;this.q.a.y=this.q.b.x;this.q.b.y=d+e+g*g*j+h*h*l;this.q.J.y=g*j+h*l;this.q.a.k=this.q.J.x;this.q.b.k=this.q.J.y;this.q.J.k=j+l;this.dc=1/(j+l);if(!this.Ae)this.ua=0;if(this.od){var m=
b.c.n-c.c.n-this.He;if(Math.abs(this.og-this.qf)<2*qc)this.ba=3;else if(m<=this.qf){if(this.ba!=1)this.i.k=0;this.ba=1}else if(m>=this.og){if(this.ba!=2)this.i.k=0;this.ba=2}else this.ba=0,this.i.k=0}else this.ba=0;a.gc?(this.i.x*=a.Sa,this.i.y*=a.Sa,this.ua*=a.Sa,a=this.i.x,m=this.i.y,c.h.x-=d*a,c.h.y-=d*m,c.t-=j*(g*m-f*a+this.ua+this.i.k),b.h.x+=e*a,b.h.y+=e*m,b.t+=l*(h*m-i*a+this.ua+this.i.k)):(this.i.Q(),this.ua=0)};
u.Fb=function(a){var c=this.s,b=this.u,d=0,e=d=0,g=0,f=0,h=0,i=c.h,j=c.t,l=b.h,m=b.t,n=c.l,o=b.l,t=c.v,r=b.v;if(this.Ae&&this.ba!=3)e=this.dc*-(m-j-this.kg),g=this.ua,f=a.Z*this.Ui,this.ua=L(this.ua+e,-f,f),e=this.ua-g,j-=t*e,m+=r*e;if(this.od&&this.ba!=0){var a=c.e.d,e=this.C.x-c.c.p.x,g=this.C.y-c.c.p.y,d=a.a.x*e+a.b.x*g,g=a.a.y*e+a.b.y*g,e=d,a=b.e.d,f=this.D.x-b.c.p.x,h=this.D.y-b.c.p.y,d=a.a.x*f+a.b.x*h,h=a.a.y*f+a.b.y*h,f=d,a=l.x+-m*h-i.x- -j*g,v=l.y+m*f-i.y-j*e;vf(this.q,this.za,-a,-v,-(m-j));
if(this.ba==3)this.i.Nb(this.za);else if(this.ba==1){if(d=this.i.k+this.za.k,d<0)uf(this.q,this.fc,-a,-v),this.za.x=this.fc.x,this.za.y=this.fc.y,this.za.k=-this.i.k,this.i.x+=this.fc.x,this.i.y+=this.fc.y,this.i.k=0}else if(this.ba==2&&(d=this.i.k+this.za.k,d>0))uf(this.q,this.fc,-a,-v),this.za.x=this.fc.x,this.za.y=this.fc.y,this.za.k=-this.i.k,this.i.x+=this.fc.x,this.i.y+=this.fc.y,this.i.k=0;i.x-=n*this.za.x;i.y-=n*this.za.y;j-=t*(e*this.za.y-g*this.za.x+this.za.k);l.x+=o*this.za.x;l.y+=o*this.za.y;
m+=r*(f*this.za.y-h*this.za.x+this.za.k)}else a=c.e.d,e=this.C.x-c.c.p.x,g=this.C.y-c.c.p.y,d=a.a.x*e+a.b.x*g,g=a.a.y*e+a.b.y*g,e=d,a=b.e.d,f=this.D.x-b.c.p.x,h=this.D.y-b.c.p.y,d=a.a.x*f+a.b.x*h,h=a.a.y*f+a.b.y*h,f=d,uf(this.q,this.Hb,-(l.x+-m*h-i.x- -j*g),-(l.y+m*f-i.y-j*e)),this.i.x+=this.Hb.x,this.i.y+=this.Hb.y,i.x-=n*this.Hb.x,i.y-=n*this.Hb.y,j-=t*(e*this.Hb.y-g*this.Hb.x),l.x+=o*this.Hb.x,l.y+=o*this.Hb.y,m+=r*(f*this.Hb.y-h*this.Hb.x);c.h.m(i);c.t=j;b.h.m(l);b.t=m};
u.Eb=function(){var a=0,c,b=this.s,d=this.u,e=0,g=c=0,f=0,h=0;if(this.od&&this.ba!=0){var a=d.c.n-b.c.n-this.He,i=0;this.ba==3?(a=L(a-this.qf,-rc,rc),i=-this.dc*a,e=Math.abs(a)):this.ba==1?(a-=this.qf,e=-a,a=L(a+qc,-rc,0),i=-this.dc*a):this.ba==2&&(a-=this.og,e=a,a=L(a-qc,0,rc),i=-this.dc*a);b.c.n-=b.v*i;d.c.n+=d.v*i;T(b);T(d)}c=b.e.d;i=this.C.x-b.c.p.x;a=this.C.y-b.c.p.y;g=c.a.x*i+c.b.x*a;a=c.a.y*i+c.b.y*a;i=g;c=d.e.d;var j=this.D.x-d.c.p.x,l=this.D.y-d.c.p.y,g=c.a.x*j+c.b.x*l,l=c.a.y*j+c.b.y*l,
j=g,f=d.c.g.x+j-b.c.g.x-i,h=d.c.g.y+l-b.c.g.y-a,m=f*f+h*h;c=Math.sqrt(m);var g=b.l,n=d.l,o=b.v,t=d.v;m>0.05*0.05&&(m=1/(g+n),f=m*-f,h=m*-h,b.c.g.x-=0.5*g*f,b.c.g.y-=0.5*g*h,d.c.g.x+=0.5*n*f,d.c.g.y+=0.5*n*h,f=d.c.g.x+j-b.c.g.x-i,h=d.c.g.y+l-b.c.g.y-a);this.fe.a.x=g+n;this.fe.b.x=0;this.fe.a.y=0;this.fe.b.y=g+n;this.ge.a.x=o*a*a;this.ge.b.x=-o*i*a;this.ge.a.y=-o*i*a;this.ge.b.y=o*i*i;this.he.a.x=t*l*l;this.he.b.x=-t*j*l;this.he.a.y=-t*j*l;this.he.b.y=t*j*j;this.Db.zd(this.fe);this.Db.Ff(this.ge);this.Db.Ff(this.he);
this.Db.le(Ff,-f,-h);f=Ff.x;h=Ff.y;b.c.g.x-=b.l*f;b.c.g.y-=b.l*h;b.c.n-=b.v*(i*h-a*f);d.c.g.x+=d.l*f;d.c.g.y+=d.l*h;d.c.n+=d.v*(j*h-l*f);T(b);T(d);return c<=0.005&&e<=qc};var Ff=new F(0,0);function Gf(){rf.call(this);this.Ta=new F(0,0);this.Ua=new F(0,0);this.type=1;this.Ta.Q();this.Ua.Q();this.pg=this.aj=this.oj=this.Gi=this.Zc=0;this.Uf=this.$e=s}z(Gf,rf);Gf.prototype.X=function(a,c,b){this.V=a;this.Y=c;this.Ta=pc(this.V.e,b);this.Ua=pc(this.Y.e,b);this.Zc=this.Y.Sb()-this.V.Sb()};Gf.prototype.Ob=function(){return new Df(this)};function Hf(){this.Ib=new F(0,0);this.Jb=new F(0,0)}Hf.prototype.Q=function(){this.Ib.Q();this.dd=0;this.Jb.Q();this.ed=0};Hf.prototype.j=function(a,c,b,d){c===k&&(c=0);d===k&&(d=0);this.Ib.m(a);this.dd=c;this.Jb.m(b);this.ed=d};function If(a){R.call(this,a);this.bc=new F(0,0);this.cc=new F(0,0);this.C=new F(0,0);this.D=new F(0,0);this.ja=new Hf;var c=a.Hd.G,b=a.Id.G;this.Qd=this.td=this.Pd=this.sd=q;var d=0,e=0;this.Mi=a.Hd.s;this.s=a.Hd.u;c==1?(this.sd=a.Hd,this.bc.m(this.sd.C),this.C.m(this.sd.D),d=Ef(this.sd)):(this.Pd=a.Hd,this.bc.m(this.Pd.C),this.C.m(this.Pd.D),d=xf(this.Pd));this.Ni=a.Id.s;this.u=a.Id.u;b==1?(this.td=a.Id,this.cc.m(this.td.C),this.D.m(this.td.D),e=Ef(this.td)):(this.Qd=a.Id,this.cc.m(this.Qd.C),this.D.m(this.Qd.D),
e=xf(this.Qd));this.na=a.Yc;this.Kd=d+this.na*e;this.i=0}z(If,R);u=If.prototype;u.Qb=function(){return S(this.s,this.C)};u.Rb=function(){return S(this.u,this.D)};
u.Tb=function(a){var c=this.Mi,b=this.Ni,d=this.s,e=this.u,g=0,f=0,h=0,i=0,j=h=0,l=0;this.ja.Q();this.sd?(this.ja.dd=-1,l+=d.v):(c=c.e.d,f=this.Pd.Sc,g=c.a.x*f.x+c.b.x*f.y,f=c.a.y*f.x+c.b.y*f.y,c=d.e.d,h=this.C.x-d.c.p.x,i=this.C.y-d.c.p.y,j=c.a.x*h+c.b.x*i,i=c.a.y*h+c.b.y*i,h=j*f-i*g,this.ja.Ib.j(-g,-f),this.ja.dd=-h,l+=d.l+d.v*h*h);this.td?(this.ja.ed=-this.na,l+=this.na*this.na*e.v):(c=b.e.d,f=this.Qd.Sc,g=c.a.x*f.x+c.b.x*f.y,f=c.a.y*f.x+c.b.y*f.y,c=e.e.d,h=this.D.x-e.c.p.x,i=this.D.y-e.c.p.y,
j=c.a.x*h+c.b.x*i,i=c.a.y*h+c.b.y*i,h=j*f-i*g,this.ja.Jb.j(-this.na*g,-this.na*f),this.ja.ed=-this.na*h,l+=this.na*this.na*(e.l+e.v*h*h));this.q=l>0?1/l:0;a.gc?(d.h.x+=d.l*this.i*this.ja.Ib.x,d.h.y+=d.l*this.i*this.ja.Ib.y,d.t+=d.v*this.i*this.ja.dd,e.h.x+=e.l*this.i*this.ja.Jb.x,e.h.y+=e.l*this.i*this.ja.Jb.y,e.t+=e.v*this.i*this.ja.ed):this.i=0};
u.Fb=function(){var a=this.s,c=this.u,b=this.ja,d=a.h,e=a.t,g=c.h,f=c.t;e===k&&(e=0);f===k&&(f=0);b=-this.q*(b.Ib.x*d.x+b.Ib.y*d.y+b.dd*e+(b.Jb.x*g.x+b.Jb.y*g.y)+b.ed*f);this.i+=b;a.h.x+=a.l*b*this.ja.Ib.x;a.h.y+=a.l*b*this.ja.Ib.y;a.t+=a.v*b*this.ja.dd;c.h.x+=c.l*b*this.ja.Jb.x;c.h.y+=c.l*b*this.ja.Jb.y;c.t+=c.v*b*this.ja.ed};
u.Eb=function(){var a=this.s,c=this.u,b=0,d=0,b=this.sd?Ef(this.sd):xf(this.Pd),d=this.td?Ef(this.td):xf(this.Qd),b=-this.q*(this.Kd-(b+this.na*d));a.c.g.x+=a.l*b*this.ja.Ib.x;a.c.g.y+=a.l*b*this.ja.Ib.y;a.c.n+=a.v*b*this.ja.dd;c.c.g.x+=c.l*b*this.ja.Jb.x;c.c.g.y+=c.l*b*this.ja.Jb.y;c.c.n+=c.v*b*this.ja.ed;T(a);T(c);return p};function Jf(){rf.call(this);this.type=6;this.Id=this.Hd=q;this.Yc=1}z(Jf,rf);Jf.prototype.X=function(a,c,b){this.Hd=a;this.V=a.s;this.Id=c;this.Y=c.s;this.Yc=b};Jf.prototype.Ob=function(){return new If(this)};var Kf={};
(function(a){var c,b=new F(350,30),d=new F(1E3,300),e,g,f,h;a.ub=function(c,e,g){f=new jf(a,c,b,$.Ec.Ve,d,20,e);h=new $(f);a.rb(new F(5,b.y-15),g);a.Vg(f,new F(5,b.y));kf(f)};a.rb=function(a,b){var d=new F(0,0),m=new F(21,47),n=new F(m.x/20,m.y/20);c=h.rb(n,a);df(f.Wb,c,n,d,m);g=new qb("game");D(g,new zf(function(){f.paused=!f.paused},"Pause",s),80,s,s,s);e=new qb("player");D(e,c.wa.wf,b?87:38,s,s,s);D(e,c.wa.Td,b?65:37,s,s,s);D(e,c.wa.vf,b?83:40,s,s,s);D(e,c.wa.Ud,b?68:39,s,s,s)};a.Vg=function(a,
b){var c=b.ea();c.y-=10;for(var d=new F(2.5,0.1),e=q,f=0;f<30;f++){c.x+=d.x/2;var g;g=f!=0&&f!=29?Ue(a.o,d,c,p):W(a.o,d,c,p);if(e!=q){var h=new Gf,v=new F(U(e.body).x+U(g.body).x,U(e.body).y+U(g.body).y);v.jc(0.5);h.X(e.body,g.body,v);V(a.o.ia,h)}e=g;c.x+=d.x/2;c.x+=0.5}};a.Se=function(a,b){C(g,b)};a.Le=function(a,b){C(g,b);C(e,b)};a.Ke=function(){Zb(f.viewport,U(c.body))}})(Kf);da("bridge.init",Kf.ub);var Lf={};
(function(a){var c,b=new F(350,30),d=new F(600,300),e,g,f,h,i=new F(0,454),j=new F(178,326),l=new F(2,124),m=new F(354,54),n=new F(0,58),o=new F(290,54),t=new F(178,326),r=new F(0,0),v=new F(32,84),w=new F(354,54),O=new F(0,90),J=new F(0,0),P=new F(2,158),y=new F(158,388),E=new F(190,388),X=new F(158,356),Of=new F(190,356),Pf=new F(158,356),Qf=new F(190,356),Rf=new F(55,380),Sf=new F(10,396),Tf=new F(466,168),Uf=new F(452,136),Vf=new F(466,104),Wf=new F(300,424),Xf=new F(300,352),Yf=new F(364,424),
Zf=new F(364,384),$f=new F(332,352),ag=new F(332,320),bg=new F(396,352),cg=new F(396,320),dg=new F(364,352),eg=new F(362,264),fg=new F(160,64);a.ub=function(c,e,g){f=new jf(a,c,b,$.Ec.Ve,d,20,e);h=new $(f);c=new F(5,b.y-7);a.rb(c,g);a.Wg(f,h,new F(0,b.y),c);g=Y(f.o,new F(d.x/20,d.y/20),new F(0,0),-1);H(g,"graphics/sky.png");g.display.xf=1;kf(f)};a.rb=function(a,b){var d=new F(0,0),i=new F(21,47),j=new F(i.x/20,i.y/20);c=h.rb(j,a);df(f.Wb,c,j,d,i);g=new qb("game");D(g,new zf(function(){f.paused=!f.paused},
"Pause",s),80,s,s,s);e=new qb("player");D(e,c.wa.wf,b?87:38,s,s,s);D(e,c.wa.Td,b?65:37,s,s,s);D(e,c.wa.vf,b?83:40,s,s,s);D(e,c.wa.Ud,b?68:39,s,s,s)};a.Wg=function(b,c,d,e){for(var f=new F(1.6,1.6),g=new F(d.x-f.x/2,d.y-f.y/2),d=["                                                                                                                                                                                                                    ".split(""),"                                                                                                                                                                                                                    ".split(""),
"                                                                                                                                                                                                      o             ".split(""),"                                                                                                                                                                                                     F|             ".split(""),"                                                                                   G                                                                                                                  |             ".split(""),
"                      O                                                         ########   ###O              M           ###    #OO#                                                        ==        |             ".split(""),"                                                                                                                                                                                           ===        |             ".split(""),"                                                                               G                                                                                                          ====        |     $       ".split(""),
"                                                                1                                                                                                                        =====        |    ^^^      ".split(""),"                O   #M#O#                     <>         {}                  #M#              @     #*    O  O  O     #          ##      =  =          ==  =            ###O#           ======        |    R+L      ".split(""),"                                      <>      []         []                                                                             ==  ==        ===  ==                          =======        |   ^r&l^     ".split(""),
"                            <>        []      []         []                                                                            ===  ===      ====  ===     {}              <> ========        |   ++u++     ".split(""),"                     G      []        [] G    []     G G []                                    G G        T                G G G G    ====  ====    =====  ====    []        G G   []=========        =   ++8++     ".split(""),"---------------------------------------------------------------------  ---------------   ----------------------------------------------------------------  ---------------------------------------------------------".split(""),
"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".split("")],g=new F(g.x,g.y-f.y*(d.length-1)),h=0;h<d.length;h++)for(var i=0;i<d[h].length;i++)a.ji(b,c,d[h][i],new F(i,h),g,f,e)};a.ji=function(a,b,c,d,e,f,g){var h=q,A=q;switch(c){case " ":break;case "-":h=b.ab(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=i;break;case "=":h=b.ab(f,new F(e.x+d.x*
f.x,e.y+d.y*f.y));A=l;break;case "O":h=b.qe(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));$.Gd(h,function(){var c=b.ab(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));H(c,"graphics/smbsheet.gif",o);c=Y(a.o,f,new F(e.x+d.x*f.x,e.y+(d.y-1)*f.y));H(c,"graphics/smbsheet.gif",n)},$.U.ob);A=m;break;case "@":h=b.ab(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));h.Sg=8;h.Rf=0;$.Gd(h,function(){h.Rf++;var c=Y(a.o,f,new F(e.x+d.x*f.x,e.y+(d.y-h.Rf/h.Sg)*f.y));H(c,"graphics/smbsheet.gif",n);h.Rf==h.Sg&&(af(a.o,h),c=b.ab(f,new F(e.x+d.x*f.x,e.y+d.y*
f.y)),H(c,"graphics/smbsheet.gif",o))},$.U.ob);A=t;break;case "#":h=b.qe(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=j;break;case "1":h=b.qe(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));$.Wf(h,$.U.Ad|$.U.bd|$.U.cd);$.Gd(h,function(){var c=b.ab(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));H(c,"graphics/smbsheet.gif",o);c=Y(a.o,f,new F(e.x+d.x*f.x,e.y+(d.y-1)*f.y));H(c,"graphics/smbsheet.gif",P)},$.U.ob);A=J;break;case "*":h=b.qe(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));$.Wf(h,$.U.Ad|$.U.bd|$.U.cd);$.Gd(h,function(){var c=b.ab(f,new F(e.x+
d.x*f.x,e.y+d.y*f.y));H(c,"graphics/smbsheet.gif",o);c=Y(a.o,f,new F(e.x+d.x*f.x,e.y+(d.y-1)*f.y));H(c,"graphics/smbsheet.gif",v)},$.U.ob);A=r;break;case "M":h=b.qe(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));$.Gd(h,function(){var c=b.ab(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));H(c,"graphics/smbsheet.gif",o);c=Y(a.o,f,new F(e.x+d.x*f.x,e.y+(d.y-1)*f.y));H(c,"graphics/smbsheet.gif",O)},$.U.ob);A=w;break;case "[":h=b.ab(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=y;break;case "]":h=b.ab(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=
E;break;case "<":h=b.ab(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=X;break;case ">":h=b.ab(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Of;break;case "{":h=b.ab(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Pf;break;case "}":h=b.ab(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Qf;break;case "T":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Rf;break;case "G":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Sf;break;case "|":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Tf;break;case "F":h=Y(a.o,f,new F(e.x+d.x*f.x+f.x/2,e.y+d.y*f.y),1);A=Uf;
break;case "o":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Vf;break;case "+":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Wf;break;case "^":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Xf;break;case "8":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Yf;break;case "u":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Zf;break;case "R":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=ag;break;case "r":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=$f;break;case "L":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=cg;break;
case "l":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=bg;break;case "&":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=dg;break;case "$":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y+f.y/4));A=eg;break;case "x":h=b.hi(f,new F(e.x+d.x*f.x,e.y+d.y*f.y),g);A=fg;break;default:throw"Invalid type: "+c;}h!==q&&"graphics/smbsheet.gif"!==q&&A!==q&&H(h,"graphics/smbsheet.gif",A)};a.Se=function(a,b){C(g,b)};a.Le=function(a,b){C(g,b);C(e,b)};a.Ke=function(){Zb(f.viewport,U(c.body))}})(Lf);da("mario.init",Lf.ub);var Mf={};
(function(a){var c,b=new F(3500,100),d=new F(1024,600),e,g,f,h;a.ub=function(c,e,g){f=new jf(a,c,b,$.Ec.Ve,d,20,e);h=new $(f);c=new F(5,b.y-7-24);a.rb(c,g);Lf.Wg(f,h,new F(0,b.y),c);g=0;g++;Kf.Vg(f,new F(15,b.y-(3.2+g*24)));a.ki(++g);a.mi(++g);a.li(g);a.ii();kf(f)};a.rb=function(a,b){var d=new F(0,0),m=new F(21,47),n=new F(m.x/20,m.y/20);c=h.rb(n,a);df(f.Wb,c,n,d,m);g=new qb("game");D(g,new zf(function(){f.paused=!f.paused},"Pause",s),80,s,s,s);e=new qb("player");D(e,c.wa.wf,b?87:38,s,s,s);D(e,c.wa.Td,
b?65:37,s,s,s);D(e,c.wa.vf,b?83:40,s,s,s);D(e,c.wa.Ud,b?68:39,s,s,s)};a.li=function(a){for(var c=new F(3,0.25),d=0;d<a;d++){for(var e=3.2+d*24,f=6;f<=24;f+=6)h.Kc(c,new F(4,b.y-f-e)),h.Kc(c,new F(10,b.y-f-e));h.Kc(new F(b.x-15,0.25),new F((b.x-15)/2+15,b.y-e-24))}h.Kc(new F(1,1),new F(12,b.y-3.2-3.5),$.U.bd);h.Kc(new F(1,1),new F(15,b.y-3.2-3.5),$.U.cd);h.Kc(new F(1,1),new F(18,b.y-3.2-3.5),$.U.Ad);h.Kc(new F(1,1),new F(21,b.y-3.2-3.5),$.U.ob);a=h.Kc(new F(1,1),new F(24,b.y-3.2-3.5),$.U.ob).body;
De(a,a.e.position,Math.PI/2)};a.mi=function(a){for(var a=new F(17,b.y-(3.2+a*24)),c=-Math.PI/4,d=(0-c)/20;c<=0;c+=d)a.x+=1.5,W(f.o,new F(3,0.3),new F(a.x,a.y-1.5),p,{Za:c},q),a.x+=3.5};a.ki=function(a){for(var a=new F(17,b.y-(3.2+a*24)),c=0;c<1;c++){var d=new Gf,e=new Cf;a.x+=5;var g={Za:Math.random()*Math.PI},h=a.y-7.5,t=W(f.o,new F(0.01,0.01),new F(a.x,h),s,{xa:g}),r=Ue(f.o,new F(10,1),new F(a.x,h),p,{xa:g});H(r,"graphics/spinner.png");g.Za+=Math.PI/2;g=Ue(f.o,new F(10,1),new F(a.x,h),p,{xa:g});
H(g,"graphics/spinner.png");d.X(t.body,r.body,U(t.body));V(f.o.ia,d);d.X(t.body,g.body,U(t.body));V(f.o.ia,d);e.X(r.body,g.body,U(r.body));V(f.o.ia,e);a.x+=7}for(c=0;c<1;c++)g={Lc:p},d=new Af,a.x+=2,h=a.y-6,r=Ue(f.o,new F(3,0.2),new F(a.x+0.1,h+2),p,{xa:g}),e=Ue(f.o,new F(3,0.2),new F(a.x+0.1,h-2),p,{xa:g}),t=Ue(f.o,new F(0.2,3),new F(a.x-2,h+0.1),p,{xa:g}),g=Ue(f.o,new F(0.2,3),new F(a.x+2,h+0.1),p,{xa:g}),d.X(r.body,e.body,U(r.body),U(e.body)),V(f.o.ia,d),d.X(r.body,t.body,U(r.body),U(t.body)),
V(f.o.ia,d),d.X(r.body,g.body,U(r.body),U(g.body)),V(f.o.ia,d),d.X(e.body,t.body,U(e.body),U(t.body)),V(f.o.ia,d),d.X(e.body,g.body,U(e.body),U(g.body)),V(f.o.ia,d),d.X(t.body,g.body,U(t.body),U(g.body)),V(f.o.ia,d),a.x+=4;for(c=0;c<3;c++)h=a.y-9,g={Lc:p},d=new sf,a.x+=1.5,t=Ue(f.o,new F(3,0.3),new F(a.x+1.5,h),p,{xa:g}),a.x+=6,g=Ue(f.o,new F(3,0.3),new F(a.x+1.5,h),p,{xa:g}),h=U(t.body).ea(),h.y-=3,Y(f.o,new F(0.3,0.3),h),r=U(g.body).ea(),r.y-=3,Y(f.o,new F(0.3,0.3),r),d.X(t.body,g.body,h,r,U(t.body),
U(g.body),(c+1)/2),V(f.o.ia,d),a.x+=3.5;for(c=0;c<2;c++){var d=new Jf,v=new Gf;new yf;g={Za:0};a.x+=2;for(var e=q,w=0;w<2;w++)h=a.y-(w+1)*4,t=W(f.o,new F(0.01,0.01),new F(a.x,h),s,{xa:g}),r=Ue(f.o,new F(4,0.2),new F(a.x,h),p,{xa:g}),v.X(t.body,r.body,U(t.body)),h=V(f.o.ia,v),e!==q&&(d.X(h,e,w),V(f.o.ia,d)),e=h;h=a.y-12;t=W(f.o,new F(0.01,0.01),new F(a.x,h),s,{xa:g});r=Ue(f.o,new F(0.4,0.2),new F(a.x,h),p,{xa:g});g=new yf;g.X(t.body,r.body,U(t.body),new F(Math.random(),Math.random()));g.$e=p;g.gh=
-1;g.Eh=1;h=V(f.o.ia,g);d.X(h,e,0.5);V(f.o.ia,d);a.x+=4}};a.ii=function(){for(var a={type:2,Lc:s},c={Ac:1.25},d=new Sd(0.25),e=new F(0.5,0.5),g=0;g<250;g++){var h=g*5%(b.x-10),h=new F(h+g%20/20+4.5,15+g%20);f.o.Gb(e,h,p,d,{xa:a,mc:c})}d=new Q;Kc(d,0.25,0.25);for(g=0;g<250;g++)h=g*5%(b.x-10),h=new F(h+(g+5)%20/20+4.5,15+(g+5)%20),a.Za=g%17/17,f.o.Gb(e,h,p,d,{xa:a,mc:c});d=new Q;Jc(d,[new F(-0.5,-0.5),new F(0.5,-0.5),new F(-0.5,0.5)]);for(g=0;g<250;g++)h=g*5%(b.x-10),h=new F(h+(g+10)%20/20+4.5,15+(g+
10)%20),a.Za=g%22/22,f.o.Gb(e,h,p,d,{xa:a,mc:c});d=new Q;Jc(d,[new F(-Math.random()*0.5,-Math.random()*0.5),new F(Math.random()*0.5,-Math.random()*0.5),new F(Math.random()*0.5,Math.random()*0.5),new F(-Math.random()*0.5,Math.random()*0.5)]);for(g=0;g<250;g++)h=g*5%(b.x-10),h=new F(h+(g+15)%20/20+4.5,15+(g+15)%20),a.Za=g%35/35,f.o.Gb(e,h,p,d,{xa:a,mc:c});d=new Q;Jc(d,[new F(-0.5,-0.5),new F(0,-0.5),new F(0.5,0),new F(0.5,0.5),new F(0,0.3)]);for(g=0;g<250;g++)h=g*5%(b.x-10),h=new F(h+(g+15)%20/20+4.5,
15+(g+15)%20),a.Za=g%35/35,f.o.Gb(e,h,p,d,{xa:a,mc:c})};a.Se=function(a,b){C(g,b)};a.Le=function(a,b){C(g,b);C(e,b)};a.Ke=function(){Zb(f.viewport,U(c.body))}})(Mf);da("test.init",Mf.ub);var Nf={};
(function(a){var c,b=new F(5,10),d=new F(100,200),e,g,f,h;a.ub=function(c,e,g){f=new jf(a,c,b,$.Ec.Ve,d,20,e);h=new $(f);c=new F(2,2);a.ni();a.rb(c,g);kf(f)};a.rb=function(a,b){var d=new F(0,0),m=new F(21,47),n=new F(m.x/20,m.y/20);c=h.rb(n,a);df(f.Wb,c,n,d,m);g=new qb("game");D(g,new zf(function(){f.paused=!f.paused},"Pause",s),80,s,s,s);e=new qb("player");D(e,c.wa.wf,b?87:38,s,s,s);D(e,c.wa.Td,b?65:37,s,s,s);D(e,c.wa.vf,b?83:40,s,s,s);D(e,c.wa.Ud,b?68:39,s,s,s)};a.ni=function(){h.ab(new F(b.x,0.5),
new F(b.x/2,b.y-0.25));a.gi(new F(b.x,6),new F(0,b.y-0.25))};a.gi=function(a,b){W(f.o,new F(0.25,a.y),new F(b.x+0,b.y-a.y/2),p,q,q);W(f.o,new F(0.25,a.y),new F(b.x+a.x-0.125,b.y-a.y/2),p,q,q);for(var c=new Sd(0.15),d=0,e=0.15;e<a.x-0.15;e+=0.3)for(var g=0;g<a.y/2;g+=0.3){var h=f.o.Gb(new F(0.3,0.3),new F(b.x+e-d++%2*0.15,b.y-g),p,c,{mc:{re:0.1,Ac:0.1,tb:0.1}}),r=Math.random();r<=0.25?H(h,"graphics/ball-red.png"):r<=0.5?H(h,"graphics/ball-green.png"):r<=0.75?H(h,"graphics/ball-yellow.png"):H(h,"graphics/ball-blue.png")}};
a.Se=function(a,b){C(g,b)};a.Le=function(a,b){C(g,b);C(e,b)};a.Ke=function(){Zb(f.viewport,U(c.body))}})(Nf);da("pit.init",Nf.ub);})();
