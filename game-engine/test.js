(function(){var k=void 0,o=true,p=null,s=false;function u(){return function(){}}function aa(a){return function(){return this[a]}}function ba(a){return function(){return a}}var x,y=this;function ca(a,c){var b=a.split("."),d=y;!(b[0]in d)&&d.execScript&&d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)!b.length&&c!==k?d[e]=c:d=d[e]?d[e]:d[e]={}}function da(){}
function ea(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if(b=="[object Window]")return"object";if(b=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(b=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}var fa="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ga=0;function A(a,c){function b(){}b.prototype=c.prototype;a.vh=c.prototype;a.prototype=new b;a.prototype.constructor=a};function ha(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),g=Math.max(d.length,e.length),f=0;b==0&&f<g;f++){var h=d[f]||"",i=e[f]||"",j=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var m=j.exec(h)||["","",""],n=l.exec(i)||["","",""];if(m[0].length==0&&n[0].length==0)break;b=ia(m[1].length==0?0:parseInt(m[1],10),n[1].length==0?0:parseInt(n[1],10))||ia(m[2].length==0,n[2].length==0)||ia(m[2],n[2])}while(b==
0)}return b}function ia(a,c){if(a<c)return-1;else if(a>c)return 1;return 0};var ja,ka,la,ma;function na(){return y.navigator?y.navigator.userAgent:p}ma=la=ka=ja=s;var oa;if(oa=na()){var pa=y.navigator;ja=oa.indexOf("Opera")==0;ka=!ja&&oa.indexOf("MSIE")!=-1;la=!ja&&oa.indexOf("WebKit")!=-1;ma=!ja&&!la&&pa.product=="Gecko"}var qa=ka,ra=ma,sa=la,ta=y.navigator,ua=(ta&&ta.platform||"").indexOf("Mac")!=-1,va;
a:{var wa="",xa;if(ja&&y.opera)var ya=y.opera.version,wa=typeof ya=="function"?ya():ya;else if(ra?xa=/rv\:([^\);]+)(\)|;)/:qa?xa=/MSIE\s+([^\);]+)(\)|;)/:sa&&(xa=/WebKit\/(\S+)/),xa)var za=xa.exec(na()),wa=za?za[1]:"";if(qa){var Aa,Ba=y.document;Aa=Ba?Ba.documentMode:k;if(Aa>parseFloat(wa)){va=String(Aa);break a}}va=wa}var Ca={},Da={};var Ea,Fa={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",
96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};var Ga=Array.prototype,Ha=Ga.indexOf?function(a,c,b){return Ga.indexOf.call(a,c,b)}:function(a,c,b){b=b==p?0:b<0?Math.max(0,a.length+b):b;if(typeof a=="string")return typeof c!="string"||c.length!=1?-1:a.indexOf(c,b);for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1};function Ia(a,c){Ha(a,c)>=0||a.push(c)}function Ja(a,c){var b=Ha(a,c);b>=0&&Ga.splice.call(a,b,1)};qa&&(Da[9]||(Da[9]=qa&&document.documentMode&&document.documentMode>=9));qa&&(Ca["8"]||(Ca["8"]=ha(va,"8")>=0));function Ka(){}Ka.prototype.Wg=s;Ka.prototype.Fd=function(){if(!this.Wg)this.Wg=o,this.Gd()};Ka.prototype.Gd=function(){this.li&&La.apply(p,this.li)};function La(a){for(var c=0,b=arguments.length;c<b;++c){var d=arguments[c],e=ea(d);e=="array"||e=="object"&&typeof d.length=="number"?La.apply(p,d):d&&typeof d.Fd=="function"&&d.Fd()}};function Ma(a,c){this.type=a;this.currentTarget=this.target=c}A(Ma,Ka);Ma.prototype.Gd=function(){delete this.type;delete this.target;delete this.currentTarget};Ma.prototype.rg=s;Ma.prototype.kj=o;function Na(a){Na[" "](a);return a}Na[" "]=da;function Oa(a,c){a&&this.vb(a,c)}A(Oa,Ma);x=Oa.prototype;x.target=p;x.relatedTarget=p;x.offsetX=0;x.offsetY=0;x.clientX=0;x.clientY=0;x.screenX=0;x.screenY=0;x.button=0;x.keyCode=0;x.charCode=0;x.ctrlKey=s;x.altKey=s;x.shiftKey=s;x.metaKey=s;x.gj=s;x.Xg=p;
x.vb=function(a,c){var b=this.type=a.type;Ma.call(this,b);this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(ra){var e;a:{try{Na(d.nodeName);e=o;break a}catch(g){}e=s}e||(d=p)}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==k?a.offsetX:a.layerX;this.offsetY=a.offsetY!==k?a.offsetY:a.layerY;this.clientX=a.clientX!==k?a.clientX:a.pageX;this.clientY=a.clientY!==k?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.gj=ua?a.metaKey:a.ctrlKey;this.state=a.state;this.Xg=a;delete this.kj;delete this.rg};x.Gd=function(){Oa.vh.Gd.call(this);this.relatedTarget=this.currentTarget=this.target=this.Xg=p};function Pa(){}var Qa=0;x=Pa.prototype;x.key=0;x.$d=s;x.Og=s;x.vb=function(a,c,b,d,e,g){if(ea(a)=="function")this.ah=o;else if(a&&a.handleEvent&&ea(a.handleEvent)=="function")this.ah=s;else throw Error("Invalid listener argument");this.ye=a;this.uh=c;this.src=b;this.type=d;this.capture=!!e;this.Zg=g;this.Og=s;this.key=++Qa;this.$d=s};x.handleEvent=function(a){return this.ah?this.ye.call(this.Zg||this.src,a):this.ye.handleEvent.call(this.ye,a)};var Ra,Sa=(Ra="ScriptEngine"in y&&y.ScriptEngine()=="JScript")?y.ScriptEngineMajorVersion()+"."+y.ScriptEngineMinorVersion()+"."+y.ScriptEngineBuildVersion():"0";function Ta(a,c){this.nh=c;this.kd=[];if(a>this.nh)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.kd.push(this.Ib())}A(Ta,Ka);Ta.prototype.gd=p;Ta.prototype.Vg=p;function Ua(a){return a.kd.length?a.kd.pop():a.Ib()}function Va(a,c){a.kd.length<a.nh?a.kd.push(c):Wa(a,c)}Ta.prototype.Ib=function(){return this.gd?this.gd():{}};
function Wa(a,c){if(a.Vg)a.Vg(c);else{var b=ea(c);if(b=="object"||b=="array"||b=="function")if(ea(c.Fd)=="function")c.Fd();else for(var d in c)delete c[d]}}Ta.prototype.Gd=function(){Ta.vh.Gd.call(this);for(var a=this.kd;a.length;)Wa(this,a.pop());delete this.kd};var Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb;
(function(){function a(){return{Kc:0,Zd:0}}function c(){return[]}function b(){function a(b){b=f.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new Pa}function e(){return new Oa}var g=Ra&&!(ha(Sa,"5.7")>=0),f;bb=function(a){f=a};if(g){Xa=function(){return Ua(h)};Ya=function(a){Va(h,a)};Za=function(){return Ua(i)};$a=function(a){Va(i,a)};ab=function(){return Ua(j)};cb=function(){Va(j,b())};db=function(){return Ua(l)};eb=function(a){Va(l,a)};fb=function(){return Ua(m)};gb=function(a){Va(m,
a)};var h=new Ta(0,600);h.gd=a;var i=new Ta(0,600);i.gd=c;var j=new Ta(0,600);j.gd=b;var l=new Ta(0,600);l.gd=d;var m=new Ta(0,600);m.gd=e}else Xa=a,Ya=da,Za=c,$a=da,ab=b,cb=da,db=d,eb=da,fb=e,gb=da})();var hb={},C={},ib={},jb={};
function kb(a,c,b,d,e){if(c)if(ea(c)=="array")for(var g=0;g<c.length;g++)kb(a,c[g],b,d,e);else{var d=!!d,f=C;c in f||(f[c]=Xa());f=f[c];d in f||(f[d]=Xa(),f.Kc++);var f=f[d],h=a[fa]||(a[fa]=++ga),i;f.Zd++;if(f[h]){i=f[h];for(g=0;g<i.length;g++)if(f=i[g],f.ye==b&&f.Zg==e){if(f.$d)break;return}}else i=f[h]=Za(),f.Kc++;g=ab();g.src=a;f=db();f.vb(b,g,a,c,d,e);b=f.key;g.key=b;i.push(f);hb[b]=f;ib[h]||(ib[h]=Za());ib[h].push(f);a.addEventListener?(a==y||!a.ki)&&a.addEventListener(c,g,d):a.attachEvent(c in
jb?jb[c]:jb[c]="on"+c,g)}else throw Error("Invalid event type");}function lb(a,c,b,d){if(!d.ff&&d.qh){for(var e=0,g=0;e<d.length;e++)if(d[e].$d){var f=d[e].uh;f.src=p;cb(f);eb(d[e])}else e!=g&&(d[g]=d[e]),g++;d.length=g;d.qh=s;g==0&&($a(d),delete C[a][c][b],C[a][c].Kc--,C[a][c].Kc==0&&(Ya(C[a][c]),delete C[a][c],C[a].Kc--),C[a].Kc==0&&(Ya(C[a]),delete C[a]))}}
function mb(a,c,b,d,e){var g=1,c=c[fa]||(c[fa]=++ga);if(a[c]){a.Zd--;a=a[c];a.ff?a.ff++:a.ff=1;try{for(var f=a.length,h=0;h<f;h++){var i=a[h];i&&!i.$d&&(g&=nb(i,e)!==s)}}finally{a.ff--,lb(b,d,c,a)}}return Boolean(g)}
function nb(a,c){var b=a.handleEvent(c);if(a.Og){var d=a.key;if(hb[d]){var e=hb[d];if(!e.$d){var g=e.src,f=e.type,h=e.uh,i=e.capture;g.removeEventListener?(g==y||!g.ki)&&g.removeEventListener(f,h,i):g.detachEvent&&g.detachEvent(f in jb?jb[f]:jb[f]="on"+f,h);g=g[fa]||(g[fa]=++ga);h=C[f][i][g];if(ib[g]){var j=ib[g];Ja(j,e);j.length==0&&delete ib[g]}e.$d=o;h.qh=o;lb(f,i,g,h);delete hb[d]}}}return b}
bb(function(a,c){if(!hb[a])return o;var b=hb[a],d=b.type,e=C;if(!(d in e))return o;var e=e[d],g,f;Ea===k&&(Ea=qa&&!y.addEventListener);if(Ea){var h;if(!(h=c))a:{h="window.event".split(".");for(var i=y;g=h.shift();)if(i[g]!=p)i=i[g];else{h=p;break a}h=i}g=h;h=o in e;i=s in e;if(h){if(g.keyCode<0||g.returnValue!=k)return o;a:{var j=s;if(g.keyCode==0)try{g.keyCode=-1;break a}catch(l){j=o}if(j||g.returnValue==k)g.returnValue=o}}j=fb();j.vb(g,this);g=o;try{if(h){for(var m=Za(),n=j.currentTarget;n;n=n.parentNode)m.push(n);
f=e[o];f.Zd=f.Kc;for(var q=m.length-1;!j.rg&&q>=0&&f.Zd;q--)j.currentTarget=m[q],g&=mb(f,m[q],d,o,j);if(i){f=e[s];f.Zd=f.Kc;for(q=0;!j.rg&&q<m.length&&f.Zd;q++)j.currentTarget=m[q],g&=mb(f,m[q],d,s,j)}}else g=nb(b,j)}finally{if(m)m.length=0,$a(m);j.Fd();gb(j)}return g}d=new Oa(c,this);try{g=nb(b,d)}finally{d.Fd()}return g});var ob={61:187,59:186};qa||sa&&(Ca["525"]||(Ca["525"]=ha(va,"525")>=0));function pb(a){this.id=qb++;this.name=a;this.controls={};this.vg={};this.Qg=[];this.tf=this.Ve=p}function rb(a,c){var b=0,d=sb==tb&&ub==vb&&wb==xb,e;for(e in yb){var g=d&&yb[e].Bh;b++;var f=zb(e,sb,ub,wb);a.Ve==p&&a.controls[f]!=p&&(!g||a.controls[f].ni)&&a.controls[f].execute(c)}if(b==1&&a.Ve!=p)a.tf!=p&&clearTimeout(a.tf),a.tf=setTimeout(function(){D(a,a.Ve,f);a.Ve=p;a.tf=p},100)}
function D(a,c,b,d,e,g){var f=b;typeof b=="number"&&(f=zb(b,d,e,g));b=[];d=a.controls[f];e=a.vg[c.name];if(d!=p)if(e!=p)a.controls[e]=d,a.vg[d.name]=e,b.push(new Ab(e,d));else throw"The specified key is already in use for a different function.";else e!=p&&delete a.controls[e];a.controls[f]=c;a.vg[c.name]=f;b.push(new Ab(f,c));for(c=0;c<a.Qg.length;c++)f=a.Qg[c],f.Bj.apply(f.ye,b||[],Bb(a))}function Bb(a){var c=[],b;for(b in a.controls)c.push(new Ab(b,a.controls[b]));return c}
var qb=0,yb={},sb=s,tb={},ub=s,vb={},wb=s,xb={};function Cb(a){var c=a.uj,c=ra&&a.keyCode in ob?ob[a.keyCode]:a.keyCode;return{keyCode:c,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey}}function zb(a,c,b,d){var e=Fa[a];e==p&&(e="KEY["+a+"]");return(c?"Ctrl + ":"")+(b?"Alt + ":"")+(d?"Shift + ":"")+e.toUpperCase()}kb(document,"keydown",function(a){a=Cb(a);a.keyCode!=16&&a.keyCode!=17&&a.keyCode!=18&&yb[a.keyCode]==p&&(yb[a.keyCode]={Bh:s});sb=a.ctrlKey;ub=a.altKey;wb=a.shiftKey});
kb(document,"keyup",function(a){a=Cb(a);delete yb[a.keyCode];sb=a.ctrlKey;ub=a.altKey;wb=a.shiftKey});kb(document,"blur",function(){yb={};xb=wb=vb=ub=tb=sb=s});function Ab(a,c){this.key=this.key=a;this.action=this.action=c};function F(a,c){this.x=a;this.y=c}x=F.prototype;x.R=function(){this.y=this.x=0};x.j=function(a,c){this.x=a;this.y=c};x.m=function(a){this.x=a.x;this.y=a.y};x.Eb=function(){return new F(-this.x,-this.y)};x.Dg=function(){this.x=-this.x;this.y=-this.y};x.ba=function(){return new F(this.x,this.y)};x.Ob=function(a){this.x+=a.x;this.y+=a.y};x.Lf=function(a){this.x-=a.x;this.y-=a.y};x.kc=function(a){this.x*=a;this.y*=a};function Db(a){return Math.sqrt(Eb(a))}function Eb(a){return a.x*a.x+a.y*a.y}
function Fb(a){var c=Db(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)};var Gb={},Hb=0;function Ib(){Hb--}function Jb(a){if(a.wg===k||a.wg===p)a.wg={};return a.wg};function Kb(){this.pf=this.cg=this.Kd=this.Qi=this.Nd=1;var a=this;this.Vi={ri:{clear:function(){a.qc.clearRect(0,0,a.qc.canvas.width,a.qc.canvas.height)}}};this.gh=0}var Lb,Mb,Nb,Ob,Pb,Qb;
(function(a){a.prototype.Ic=function(a,b){return"rgba("+((a&16711680)>>16)+","+((a&65280)>>8)+","+(a&255)+","+b+")"};a.prototype.Rh=function(){var a=Rb;a===k&&(a=0);this.gh=a};a.prototype.Th=function(a){this.qc=a};a.prototype.Ph=function(a){a===k&&(a=0);this.Nd=a};a.prototype.Sh=function(){var a=1;a===k&&(a=0);this.Qi=a;this.qc.Mj=a};a.prototype.Qh=function(){var a=0.3;a===k&&(a=0);this.cg=a};a.prototype.Fh=function(a,b){var d=this.qc,e=this.Nd;d.beginPath();d.strokeStyle=this.Ic(Sb(b),this.Kd);d.moveTo(a[0].x*
e,a[0].y*e);for(var g=1;g<4;g++)d.lineTo(a[g].x*e,a[g].y*e);d.lineTo(a[0].x*e,a[0].y*e);d.closePath();d.stroke()};a.prototype.Hh=function(a,b,d){if(b){var e=this.qc,g=this.Nd;e.beginPath();e.strokeStyle=this.Ic(Sb(d),this.Kd);e.fillStyle=this.Ic(Sb(d),this.cg);e.moveTo(a[0].x*g,a[0].y*g);for(d=1;d<b;d++)e.lineTo(a[d].x*g,a[d].y*g);e.lineTo(a[0].x*g,a[0].y*g);e.closePath();e.fill();e.stroke()}};a.prototype.Gh=function(a,b,d,e){if(b){var g=this.qc,f=this.Nd,h=a.x*f,i=a.y*f;g.moveTo(0,0);g.beginPath();
g.strokeStyle=this.Ic(Sb(e),this.Kd);g.fillStyle=this.Ic(Sb(e),this.cg);g.arc(h,i,b*f,0,Math.PI*2,o);g.moveTo(h,i);g.lineTo((a.x+d.x*b)*f,(a.y+d.y*b)*f);g.closePath();g.fill();g.stroke()}};a.prototype.Hc=function(a,b,d){var e=this.qc,g=this.Nd;e.strokeStyle=this.Ic(Sb(d),this.Kd);e.beginPath();e.moveTo(a.x*g,a.y*g);e.lineTo(b.x*g,b.y*g);e.closePath();e.stroke()};a.prototype.Ih=function(){var a=Tb,b=this.qc,d=this.Nd;b.beginPath();b.strokeStyle=this.Ic(16711680,this.Kd);b.moveTo(a.position.x*d,a.position.y*
d);b.lineTo((a.position.x+this.pf*a.d.a.x)*d,(a.position.y+this.pf*a.d.a.y)*d);b.strokeStyle=this.Ic(65280,this.Kd);b.moveTo(a.position.x*d,a.position.y*d);b.lineTo((a.position.x+this.pf*a.d.b.x)*d,(a.position.y+this.pf*a.d.b.y)*d);b.closePath();b.stroke()};Lb=1;Mb=2;Nb=4;Ob=8;Pb=16;Qb=32})(Kb);function Ub(a,c,b,d){if(Gb[a]==p)Hb++,Gb[a]=new Image,Gb[a].onload=Ib,Gb[a].src=a;this.url=a;this.rh=c||new F(0,0);this.vf=b||new F(1,1);this.yh=d||new F(1,1);this.nb=new F(1,1)};function Vb(){this.lowerBound=new F(0,0);this.upperBound=new F(0,0)}function Wb(a){return new F((a.lowerBound.x+a.upperBound.x)/2,(a.lowerBound.y+a.upperBound.y)/2)}function Xb(a,c){var b;return b=(b=(b=(b=o&&a.lowerBound.x<=c.lowerBound.x)&&a.lowerBound.y<=c.lowerBound.y)&&c.upperBound.x<=a.upperBound.x)&&c.upperBound.y<=a.upperBound.y}
Vb.prototype.Dd=function(a){return a.lowerBound.x-this.upperBound.x>0?s:a.lowerBound.y-this.upperBound.y>0?s:this.lowerBound.x-a.upperBound.x>0?s:this.lowerBound.y-a.upperBound.y>0?s:o};function Yb(a,c,b){a.lowerBound.x=Math.min(c.lowerBound.x,b.lowerBound.x);a.lowerBound.y=Math.min(c.lowerBound.y,b.lowerBound.y);a.upperBound.x=Math.max(c.upperBound.x,b.upperBound.x);a.upperBound.y=Math.max(c.upperBound.y,b.upperBound.y)};function Zb(a,c,b,d,e){this.mc={};this.ta=a;this.Cb=d;this.Cc=new F(d.x/b,d.y/b);this.scale=b;this.ya=new F(0,0);this.df=new F(-1,-1);this.Af=new Vb;this.Af.upperBound=this.Cc.ba();this.Af.upperBound.kc(1.25);$b(this,new F(0,0));a=document.getElementById(c);this.hd=document.createElement("span");if(e)a.innerHTML='<div style="width: '+this.Cb.x+"px; height: "+this.Cb.y/2+'px; background-color: #000; opacity: 0.15; position: absolute;"></div><div style="width: '+this.Cb.x/2+"px; height: "+this.Cb.y+
'px; background-color: #FFF; opacity: 0.15; position: absolute;"></div>',this.hd.innerHTML='<canvas id="'+c+'__DEBUG" class="debugViewport"></canvas>';this.hd.className="viewportContainer";this.hd.style.width=this.Cb.x+"px";this.hd.style.height=this.Cb.y+"px";this.display=document.createElement("span");this.display.className="viewport";this.hd.appendChild(this.display);a.appendChild(this.hd);this.Zf=document.createElement("div");this.Zf=ac(this,"Loading, please wait.");bc(this.Zf);this.sh=ac(this,
"Paused");e?(this.ab=document.getElementById(c+"__DEBUG"),this.ab.width=this.ta.o.Xa.x*b,this.ab.height=this.ta.o.Xa.y*b,this.ab.style.marginRight="-"+this.ab.width+"px",this.ab.style.marginBottom="-"+this.ab.height+"px",c=new Kb,c.Th(this.ab.getContext("2d")),c.Ph(b),c.Qh(),c.Sh(),c.Rh(),this.ta.o.ia.Ma=c):this.ab=p}
function ac(a,c){var b=document.createElement("div");b.style.fontSize="40px";b.style.textAlign="center";b.style.verticalAlign="middle";b.style.backgroundColor="rgba(255,255,255,0.5)";b.style.color="black";b.style.position="relative";b.style.display="none";b.style.zIndex=100+cc;b.innerHTML=c;b.style.width=a.Cb.x+"px";b.style.height=a.Cb.y+"px";a.hd.appendChild(b);return b}function bc(a){if(a.style.display=="none")a.style.display="table-cell"}
function dc(a){if(a.style.display!="none")a.style.display="none"}function $b(a,c){a.ya.x=c.x;a.ya.y=c.y;if(a.ya.x<a.Cc.x/2)a.ya.x=a.Cc.x/2;else if(a.ya.x>a.ta.o.Xa.x-a.Cc.x/2)a.ya.x=a.ta.o.Xa.x-a.Cc.x/2;if(a.ya.y<a.Cc.y/2)a.ya.y=a.Cc.y/2;else if(a.ya.y>a.ta.o.Xa.y-a.Cc.y/2)a.ya.y=a.ta.o.Xa.y-a.Cc.y/2}
function ec(a,c){if(a.display==p)a.display={},a.display.L=new Vb,a.qi=function(a){var c=this.body?this.body.e.position:this.position.ba();return this.display.sf==0?c:new F(c.x+(a.x-c.x)*this.display.sf,c.y+(a.y-c.y)*this.display.sf)},a.pi=function(){return this.body?this.body.Tb():this.Ya},a.display.sf=0,a.display.Ch=0;a.display.size=c.ba()}function G(a,c,b){a.display.wf=new Ub(c,b)}var cc=100,Rb=0|Nb|Mb|Lb,fc=0;var gc=function(){var a=window.Lj||window.Oj||window.Ej||window.Ij||window.Fj||function(a){window.setTimeout(a,1E3/60)};return function(){a.apply(window,arguments)}}();function hc(){this.re=1;this.Ie=65535;this.md=0}hc.prototype.ba=function(){var a=new hc;a.re=this.re;a.Ie=this.Ie;a.md=this.md;return a};function ic(){this.filter=new hc;this.shape=p;this.ub=0.2;this.te=this.Bc=0;this.filter.re=1;this.filter.Ie=65535;this.filter.md=0;this.cf=s};function jc(){this.a=new F(0,0);this.b=new F(0,0);this.Ue()}function kc(a){var c=new jc;c.j(a);return c}x=jc.prototype;x.j=function(a){var c=Math.cos(a),a=Math.sin(a);this.a.j(c,a);this.b.j(-a,c)};x.ba=function(){var a=new jc;a.Bd(this);return a};x.Bd=function(a){this.a.m(a.a);this.b.m(a.b)};x.Bf=function(a){this.a.Ob(a.a);this.b.Ob(a.b)};x.Ue=function(){this.a.j(1,0);this.b.j(0,1)};x.R=function(){this.a.j(0,0);this.b.j(0,0)};x.Tb=function(){return Math.atan2(this.a.y,this.a.x)};
x.ne=function(a,c,b){var d=this.a.x*this.b.y-this.b.x*this.a.y;d!==0&&(d=1/d);a.x=d*(this.b.y*c-this.b.x*b);a.y=d*(this.a.x*b-this.a.y*c);return a};function lc(a,c){return a.x*c.x+a.y*c.y}function mc(a,c){return a.x*c.y-a.y*c.x}function nc(a){return new F(1*a.y,-1*a.x)}function oc(a,c){return new F(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)}function pc(a,c){return new F(lc(c,a.a),lc(c,a.b))}function H(a,c){var b=oc(a.d,c);b.x+=a.position.x;b.y+=a.position.y;return b}function qc(a,c){var b=I(c,a.position),d=b.x*a.d.a.x+b.y*a.d.a.y;b.y=b.x*a.d.b.x+b.y*a.d.b.y;b.x=d;return b}function I(a,c){return new F(a.x-c.x,a.y-c.y)}
function K(a,c,b){return a<c?c:a>b?b:a};function L(a){if(!a)throw"Assertion Failed";}var rc=2/180*Math.PI,sc=8/180*Math.PI,tc=0.5*Math.PI,uc=tc*tc,vc=2/180*Math.PI;function wc(){}wc.prototype.j=function(a){this.Ja.m(a.Ja);this.Db.m(a.Db);this.Ha.m(a.Ha);this.n=a.n;this.ra=a.ra;this.sa=a.sa};function xc(){this.T=new wc;this.ga=new wc;this.ib=new wc;this.r=[this.T,this.ga,this.ib]}function yc(a){return a.z==1?0:a.z==2?Db(I(a.T.Ha,a.ga.Ha)):a.z==3?mc(I(a.ga.Ha,a.T.Ha),I(a.ib.Ha,a.T.Ha)):(L(s),0)};function zc(a,c,b){var d=new xc,e=b.zc,g=b.xf,f=b.Ac,h=b.yf;L(0<=c.Ed&&c.Ed<=3);var i,j;d.z=c.Ed;for(var l=d.r,m=0;m<d.z;m++){var n=l[m];n.ra=c.ra[m];n.sa=c.sa[m];i=M(e,n.ra);j=M(f,n.sa);n.Ja=H(g,i);n.Db=H(h,j);n.Ha=I(n.Db,n.Ja);n.n=0}if(d.z>1&&(i=c.aj,j=yc(d),j<0.5*i||2*i<j||j<Number.MIN_VALUE))d.z=0;if(d.z==0)n=l[0],n.ra=0,n.sa=0,i=M(e,0),j=M(f,0),n.Ja=H(g,i),n.Db=H(h,j),n.Ha=I(n.Db,n.Ja),d.z=1;(d.z<1||d.z>3)&&L(s);for(e=0;e<20;){g=[];for(f=0;f<d.z;f++)g[f]={},g[f].ra=d.r[f].ra,g[f].sa=d.r[f].sa;
if(d.z==2)f=d,h=f.T.Ha,l=f.ga.Ha,i=I(l,h),h=-(h.x*i.x+h.y*i.y),h<=0?(f.T.n=1,f.z=1):(l=l.x*i.x+l.y*i.y,l<=0?(f.ga.n=1,f.z=1,f.T.j(f.ga)):(i=1/(l+h),f.T.n=l*i,f.ga.n=h*i,f.z=2));else if(d.z==3){var f=d,q=f.T.Ha,t=f.ga.Ha,r=f.ib.Ha,v=I(t,q),h=lc(t,v),l=-lc(q,v),w=I(r,q);i=lc(r,w);j=-lc(q,w);n=I(r,t);m=lc(r,n);n=-lc(t,n);w=mc(v,w);v=w*mc(t,r);r=w*mc(r,q);q=w*mc(q,t);l<=0&&j<=0?(f.T.n=1,f.z=1):h>0&&l>0&&q<=0?(i=1/(h+l),f.T.n=h*i,f.ga.n=l*i,f.z=2):i>0&&j>0&&r<=0?(h=1/(i+j),f.T.n=i*h,f.ib.n=j*h,f.z=2,f.ga.j(f.ib)):
h<=0&&n<=0?(f.ga.n=1,f.z=1,f.T.j(f.ga)):i<=0&&m<=0?(f.ib.n=1,f.z=1,f.T.j(f.ib)):m>0&&n>0&&v<=0?(h=1/(m+n),f.ga.n=m*h,f.ib.n=n*h,f.z=2,f.T.j(f.ib)):(h=1/(v+r+q),f.T.n=v*h,f.ga.n=r*h,f.ib.n=q*h,f.z=3)}if(d.z==3)break;d.z==1?f=d.T.Ha.Eb():d.z==2?(f=I(d.ga.Ha,d.T.Ha),f=mc(f,d.T.Ha.Eb())>0?new F(-1*f.y,1*f.x):nc(f)):(L(s),f=new F(0,0));if(Eb(f)<Ac)break;d.r[d.z].ra=b.zc.Te(pc(b.xf.d,f.Eb()));d.r[d.z].Ja=H(b.xf,M(b.zc,d.r[d.z].ra));d.r[d.z].sa=b.Ac.Te(pc(b.yf.d,f));d.r[d.z].Db=H(b.yf,M(b.Ac,d.r[d.z].sa));
d.r[d.z].Ha=I(d.r[d.z].Db,d.r[d.z].Ja);e++;h=s;for(f=0;f<g.length;f++)if(d.r[d.z].ra==g[f].ra&&d.r[d.z].sa==g[f].sa){h=o;break}if(h)break;d.z++}e=a.xc;g=a.yc;d.z==1?(e.m(d.T.Ja),g.m(d.T.Db)):d.z==2?(e.x=d.T.n*d.T.Ja.x+d.ga.n*d.ga.Ja.x,e.y=d.T.n*d.T.Ja.y+d.ga.n*d.ga.Ja.y,g.x=d.T.n*d.T.Db.x+d.ga.n*d.ga.Db.x,g.y=d.T.n*d.T.Db.y+d.ga.n*d.ga.Db.y):d.z==3?(g.x=e.x=d.T.n*d.T.Ja.x+d.ga.n*d.ga.Ja.x+d.ib.n*d.ib.Ja.x,g.y=e.y=d.T.n*d.T.Ja.y+d.ga.n*d.ga.Ja.y+d.ib.n*d.ib.Ja.y):L(s);a.jd=Db(I(a.xc,a.yc));c.aj=yc(d);
c.Ed=d.z;e=d.r;for(g=0;g<d.z;g++)c.ra[g]=e[g].ra,c.sa[g]=e[g].sa;if(b.Ah)c=b.zc.M,b=b.Ac.M,a.jd>c+b&&a.jd>Number.MIN_VALUE?(a.jd-=c+b,d=I(a.yc,a.xc),Fb(d),a.xc.x+=c*d.x,a.xc.y+=c*d.y,a.yc.x-=b*d.x,a.yc.y-=b*d.y):(b=new F(0,0),b.x=0.5*(a.xc.x+a.yc.x),b.y=0.5*(a.xc.y+a.yc.y),a.xc.x=a.yc.x=b.x,a.xc.y=a.yc.y=b.y,a.jd=0)};function Bc(){};function Cc(){this.xc=new F(0,0);this.yc=new F(0,0);this.jd=0};function Dc(){this.ra=[0,0,0];this.sa=[0,0,0]};function Ec(){}Ec.prototype.j=function(a){a.Jf(this)};Ec.prototype.Te=function(a){for(var c=0,b=this.r[0].x*a.x+this.r[0].y*a.y,d=1;d<this.z;d++){var e=this.r[d].x*a.x+this.r[d].y*a.y;e>b&&(c=d,b=e)}return c};Ec.prototype.fe=function(a){return this.r[this.Te(a)]};Ec.prototype.Bg=aa("z");function M(a,c){c===k&&(c=0);L(0<=c&&c<a.z);return a.r[c]};function Fc(){this.M=0.005}x=Fc.prototype;x.ba=ba(p);x.j=function(a){this.M=a.M};x.ce=u();x.Cf=u();x.Jf=function(){L(s)};function Gc(){this.Xc=0;this.fd=new F(0,0);this.ge=0};function Hc(a,c){this.position=new F(0,0);this.d=new jc;a&&this.position.m(a);c&&this.d.Bd(c)}Hc.prototype.X=function(a,c){this.position.m(a);this.d.Bd(c)};Hc.prototype.Ue=function(){this.position.R();this.d.Ue()};Hc.prototype.j=function(a){this.position.m(a.position);this.d.Bd(a.d)};Hc.prototype.Tb=function(){return Math.atan2(this.d.a.y,this.d.a.x)};function N(){this.M=0.005;this.zb=new F(0,0);this.r=[];this.ma=[]}A(N,Fc);x=N.prototype;x.Ff=ba("b2PolygonShape");x.ba=function(){var a=new N;a.j(this);return a};x.j=function(a){Fc.prototype.j.call(this,a);if(a instanceof N){this.zb.m(a.zb);this.ea=a.ea;Ic(this,this.ea);for(var c=0;c<this.ea;c++)this.r[c].m(a.r[c]),this.ma[c].m(a.ma[c])}};function Jc(a,c){Kc(a,c)}
function Kc(a,c){var b=c.length;L(2<=b);a.ea=b;Ic(a,b);for(b=b=0;b<a.ea;b++)a.r[b].m(c[b]);for(b=0;b<a.ea;++b){var d=I(a.r[b+1<a.ea?b+1:0],a.r[b]);L(Eb(d)>Number.MIN_VALUE);a.ma[b].m(nc(d));Fb(a.ma[b])}b=a.r;d=a.ea;d===k&&(d=0);for(var e=new F(0,0),g=0,f=1/3,h=0;h<d;++h){var i=b[h],j=h+1<d?b[h+1]:b[0],l=0.5*((i.x-0)*(j.y-0)-(i.y-0)*(j.x-0));g+=l;e.x+=l*f*(0+i.x+j.x);e.y+=l*f*(0+i.y+j.y)}e.x*=1/g;e.y*=1/g;a.zb=e}
function Lc(a,c,b){a.ea=4;Ic(a,4);a.r[0].j(-c,-b);a.r[1].j(c,-b);a.r[2].j(c,b);a.r[3].j(-c,b);a.ma[0].j(0,-1);a.ma[1].j(1,0);a.ma[2].j(0,1);a.ma[3].j(-1,0);a.zb.R()}
x.ce=function(a,c){for(var b=c.d,d=this.r[0],e=c.position.x+(b.a.x*d.x+b.b.x*d.y),g=c.position.y+(b.a.y*d.x+b.b.y*d.y),f=e,h=g,i=1;i<this.ea;++i)var d=this.r[i],j=c.position.x+(b.a.x*d.x+b.b.x*d.y),d=c.position.y+(b.a.y*d.x+b.b.y*d.y),e=e<j?e:j,g=g<d?g:d,f=f>j?f:j,h=h>d?h:d;a.lowerBound.x=e-this.M;a.lowerBound.y=g-this.M;a.upperBound.x=f+this.M;a.upperBound.y=h+this.M};
x.Cf=function(a,c){c===k&&(c=0);if(this.ea==2)a.fd.x=0.5*(this.r[0].x+this.r[1].x),a.fd.y=0.5*(this.r[0].y+this.r[1].y),a.Xc=0,a.ge=0;else{for(var b=0,d=0,e=0,g=0,f=1/3,h=0;h<this.ea;++h){var i=this.r[h],j=h+1<this.ea?this.r[h+1]:this.r[0],l=i.x-0,m=i.y-0,n=j.x-0,q=j.y-0,t=l*q-m*n,r=0.5*t;e+=r;b+=r*f*(0+i.x+j.x);d+=r*f*(0+i.y+j.y);i=l;g+=t*(f*(0.25*(i*i+n*i+n*n)+(0*i+0*n))+0+(f*(0.25*(m*m+q*m+q*q)+(0*m+0*q))+0))}a.Xc=c*e;b*=1/e;d*=1/e;a.fd.j(b,d);a.ge=c*g}};
x.Jf=function(a){a.r=this.r;a.z=this.ea;a.M=this.M};x.Bg=aa("ea");x.Te=function(a){for(var c=0,b=this.r[0].x*a.x+this.r[0].y*a.y,d=1;d<this.ea;++d){var e=this.r[d].x*a.x+this.r[d].y*a.y;e>b&&(c=d,b=e)}return c};x.fe=function(a){for(var c=0,b=this.r[0].x*a.x+this.r[0].y*a.y,d=1;d<this.ea;++d){var e=this.r[d].x*a.x+this.r[d].y*a.y;e>b&&(c=d,b=e)}return this.r[c]};function Ic(a,c){a.r=[];a.ma=[];for(var b=a.r.length;b<c;b++)a.r[b]=new F(0,0),a.ma[b]=new F(0,0)}new jc;function Mc(){}Mc.prototype.Wb=function(a,c){var b=a.dg.ba(),d=c.dg.ba();return b.md==d.md&&b.md!=0?b.md>0:(b.Ie&d.re)!=0&&(b.re&d.Ie)!=0};var Nc=new Mc;function Oc(){};function Q(a){this.Ua=new Oc;this.Va=new Oc;this.Ee=new F(0,0);this.Fe=new F(0,0);L(a.V!=a.Y);this.C=a.type;this.w=this.Aa=p;this.F=a.V;this.J=a.Y;this.eh=a.Rf}x=Q.prototype;x.Rb=ba(p);x.Sb=ba(p);x.ic=function(){return this.F.ic()&&this.J.ic()};x.Ub=u();x.Hb=u();x.Ef=u();x.Gb=ba(s);function Pc(a){Q.call(this,a);this.bc=new F(0,0);this.cc=new F(0,0);this.A=new F(0,0);this.B=new F(0,0);this.$=new F(0,0);this.aa=new F(0,0);this.eb=this.F.Wa.gg;this.bc.x=a.$e.x-this.eb.e.position.x;this.bc.y=a.$e.y-this.eb.e.position.y;this.cc.x=a.af.x-this.eb.e.position.x;this.cc.y=a.af.y-this.eb.e.position.y;this.A.m(a.Sa);this.B.m(a.Ta);this.na=a.Yc;this.Ld=a.Xf+this.na*a.Yf;this.lh=Math.min(a.oh,this.Ld-this.na*Qc);this.mh=Math.min(a.ph,(this.Ld-Qc)/this.na);this.uc=this.tc=this.i=0}A(Pc,Q);
x=Pc.prototype;x.Rb=function(){return R(this.F,this.A)};x.Sb=function(){return R(this.J,this.B)};function Rc(a){var c=a.eb.e.position.ba();c.Ob(a.bc);return c}function Sc(a){var c=a.eb.e.position.ba();c.Ob(a.cc);return c}
x.Ub=function(a){var c=this.F,b=this.J,d;d=c.e.d;var e=this.A.x-c.c.p.x,g=this.A.y-c.c.p.y,f=d.a.x*e+d.b.x*g,g=d.a.y*e+d.b.y*g,e=f;d=b.e.d;var h=this.B.x-b.c.p.x,i=this.B.y-b.c.p.y,f=d.a.x*h+d.b.x*i,i=d.a.y*h+d.b.y*i,h=f;d=b.c.g.x+h;var f=b.c.g.y+i,j=this.eb.e.position.x+this.cc.x,l=this.eb.e.position.y+this.cc.y;this.$.j(c.c.g.x+e-(this.eb.e.position.x+this.bc.x),c.c.g.y+g-(this.eb.e.position.y+this.bc.y));this.aa.j(d-j,f-l);d=Db(this.$);f=Db(this.aa);d>0.005?this.$.kc(1/d):this.$.R();f>0.005?this.aa.kc(1/
f):this.aa.R();this.Ld-d-this.na*f>0?this.i=this.mg=0:this.mg=2;d<this.lh?this.tc=this.hg=0:this.hg=2;f<this.mh?this.uc=this.ig=0:this.ig=2;d=e*this.$.y-g*this.$.x;f=h*this.aa.y-i*this.aa.x;this.Ce=c.l+c.t*d*d;this.De=b.l+b.t*f*f;this.mf=this.Ce+this.na*this.na*this.De;this.Ce=1/this.Ce;this.De=1/this.De;this.mf=1/this.mf;a.hc?(this.i*=a.Ra,this.tc*=a.Ra,this.uc*=a.Ra,a=(-this.i-this.tc)*this.$.x,d=(-this.i-this.tc)*this.$.y,f=(-this.na*this.i-this.uc)*this.aa.x,j=(-this.na*this.i-this.uc)*this.aa.y,
c.h.x+=c.l*a,c.h.y+=c.l*d,c.s+=c.t*(e*d-g*a),b.h.x+=b.l*f,b.h.y+=b.l*j,b.s+=b.t*(h*j-i*f)):this.uc=this.tc=this.i=0};
x.Hb=function(){var a=this.F,c=this.J,b;b=a.e.d;var d=this.A.x-a.c.p.x,e=this.A.y-a.c.p.y,g=b.a.x*d+b.b.x*e,e=b.a.y*d+b.b.y*e,d=g;b=c.e.d;var f=this.B.x-c.c.p.x,h=this.B.y-c.c.p.y,g=b.a.x*f+b.b.x*h,h=b.a.y*f+b.b.y*h,f=g,i=g=b=0,j=0;b=j=b=j=i=g=b=0;if(this.mg==2)b=a.h.x+-a.s*e,g=a.h.y+a.s*d,i=c.h.x+-c.s*h,j=c.h.y+c.s*f,b=-(this.$.x*b+this.$.y*g)-this.na*(this.aa.x*i+this.aa.y*j),j=this.mf*-b,b=this.i,this.i=Math.max(0,this.i+j),j=this.i-b,b=-j*this.$.x,g=-j*this.$.y,i=-this.na*j*this.aa.x,j=-this.na*
j*this.aa.y,a.h.x+=a.l*b,a.h.y+=a.l*g,a.s+=a.t*(d*g-e*b),c.h.x+=c.l*i,c.h.y+=c.l*j,c.s+=c.t*(f*j-h*i);if(this.hg==2)b=a.h.x+-a.s*e,g=a.h.y+a.s*d,b=-(this.$.x*b+this.$.y*g),j=-this.Ce*b,b=this.tc,this.tc=Math.max(0,this.tc+j),j=this.tc-b,b=-j*this.$.x,g=-j*this.$.y,a.h.x+=a.l*b,a.h.y+=a.l*g,a.s+=a.t*(d*g-e*b);if(this.ig==2)i=c.h.x+-c.s*h,j=c.h.y+c.s*f,b=-(this.aa.x*i+this.aa.y*j),j=-this.De*b,b=this.uc,this.uc=Math.max(0,this.uc+j),j=this.uc-b,i=-j*this.aa.x,j=-j*this.aa.y,c.h.x+=c.l*i,c.h.y+=c.l*
j,c.s+=c.t*(f*j-h*i)};
x.Gb=function(){var a=this.F,c=this.J,b,d=this.eb.e.position.x+this.bc.x,e=this.eb.e.position.y+this.bc.y,g=this.eb.e.position.x+this.cc.x,f=this.eb.e.position.y+this.cc.y,h=0,i=0,j=0,l=0,m=b=0,n=0,q=0,t=m=q=b=m=b=0;if(this.mg==2)b=a.e.d,h=this.A.x-a.c.p.x,i=this.A.y-a.c.p.y,m=b.a.x*h+b.b.x*i,i=b.a.y*h+b.b.y*i,h=m,b=c.e.d,j=this.B.x-c.c.p.x,l=this.B.y-c.c.p.y,m=b.a.x*j+b.b.x*l,l=b.a.y*j+b.b.y*l,j=m,b=a.c.g.x+h,m=a.c.g.y+i,n=c.c.g.x+j,q=c.c.g.y+l,this.$.j(b-d,m-e),this.aa.j(n-g,q-f),b=Db(this.$),m=
Db(this.aa),b>0.005?this.$.kc(1/b):this.$.R(),m>0.005?this.aa.kc(1/m):this.aa.R(),b=this.Ld-b-this.na*m,t=Math.max(t,-b),b=K(b+0.005,-0.2,0),q=-this.mf*b,b=-q*this.$.x,m=-q*this.$.y,n=-this.na*q*this.aa.x,q=-this.na*q*this.aa.y,a.c.g.x+=a.l*b,a.c.g.y+=a.l*m,a.c.n+=a.t*(h*m-i*b),c.c.g.x+=c.l*n,c.c.g.y+=c.l*q,c.c.n+=c.t*(j*q-l*n),S(a),S(c);if(this.hg==2)b=a.e.d,h=this.A.x-a.c.p.x,i=this.A.y-a.c.p.y,m=b.a.x*h+b.b.x*i,i=b.a.y*h+b.b.y*i,h=m,b=a.c.g.x+h,m=a.c.g.y+i,this.$.j(b-d,m-e),b=Db(this.$),b>0.005?
(this.$.x*=1/b,this.$.y*=1/b):this.$.R(),b=this.lh-b,t=Math.max(t,-b),b=K(b+0.005,-0.2,0),q=-this.Ce*b,b=-q*this.$.x,m=-q*this.$.y,a.c.g.x+=a.l*b,a.c.g.y+=a.l*m,a.c.n+=a.t*(h*m-i*b),S(a);if(this.ig==2)b=c.e.d,j=this.B.x-c.c.p.x,l=this.B.y-c.c.p.y,m=b.a.x*j+b.b.x*l,l=b.a.y*j+b.b.y*l,j=m,n=c.c.g.x+j,q=c.c.g.y+l,this.aa.j(n-g,q-f),m=Db(this.aa),m>0.005?(this.aa.x*=1/m,this.aa.y*=1/m):this.aa.R(),b=this.mh-m,t=Math.max(t,-b),b=K(b+0.005,-0.2,0),q=-this.De*b,n=-q*this.aa.x,q=-q*this.aa.y,c.c.g.x+=c.l*
n,c.c.g.y+=c.l*q,c.c.n+=c.t*(j*q-l*n),S(c);return t<0.005};var Qc=1;function Tc(){this.Jj=p;this.Kj=0};var Uc=!(Object.prototype.defineProperty instanceof Function)&&Object.prototype.__defineGetter__ instanceof Function&&Object.prototype.__defineSetter__ instanceof Function?function(a,c,b){b.get instanceof Function&&a.__defineGetter__(c,b.get);b.set instanceof Function&&a.__defineSetter__(c,b.set)}:Object.defineProperty;function Vc(a,c){return function(){c.apply(a,arguments)}};function Wc(){}Uc(Wc.prototype,"referenceEdge",{enumerable:s,configurable:o,get:aa("Pf")});Uc(Wc.prototype,"referenceEdge",{enumerable:s,configurable:o,set:function(a){a===k&&(a=0);this.Pf=a;this.Jc.Qa=this.Jc.Qa&4294967040|this.Pf&255}});Uc(Wc.prototype,"incidentEdge",{enumerable:s,configurable:o,get:aa("Nf")});Uc(Wc.prototype,"incidentEdge",{enumerable:s,configurable:o,set:function(a){a===k&&(a=0);this.Nf=a;this.Jc.Qa=this.Jc.Qa&4294902015|this.Nf<<8&65280}});
Uc(Wc.prototype,"incidentVertex",{enumerable:s,configurable:o,get:aa("Of")});Uc(Wc.prototype,"incidentVertex",{enumerable:s,configurable:o,set:function(a){a===k&&(a=0);this.Of=a;this.Jc.Qa=this.Jc.Qa&4278255615|this.Of<<16&16711680}});Uc(Wc.prototype,"flip",{enumerable:s,configurable:o,get:aa("Mf")});Uc(Wc.prototype,"flip",{enumerable:s,configurable:o,set:function(a){a===k&&(a=0);this.Mf=a;this.Jc.Qa=this.Jc.Qa&16777215|this.Mf<<24&4278190080}});function Xc(){this.tb=new Wc;this.tb.Jc=this;this.Qa=0}function Yc(a,c){a.Qa=c;a.tb.Pf=a.Qa&255;a.tb.Nf=(a.Qa&65280)>>8&255;a.tb.Of=(a.Qa&16711680)>>16&255;a.tb.Mf=(a.Qa&4278190080)>>24&255}Xc.prototype.j=function(a){Yc(this,a.Qa)};Xc.prototype.ba=function(){var a=new Xc;a.j(this);return a};function Zc(){this.ob=new F(0,0);this.id=new Xc}Zc.prototype.j=function(a){this.ob.m(a.ob);this.id.j(a.id)};function $c(){this.K=new F(0,0);this.sc=new Xc;this.constructor===$c&&this.If()}$c.prototype.If=function(){this.K.R();this.wd=this.td=0;Yc(this.sc,0)};$c.prototype.j=function(a){this.K.m(a.K);this.td=a.td;this.wd=a.wd;this.sc.j(a.sc)};function ad(){this.pa=0;if(this.constructor===ad){this.H=[];for(var a=0;a<2;a++)this.H[a]=new $c;this.Ga=new F(0,0);this.K=new F(0,0)}}ad.prototype.If=function(){for(var a=0;a<2;a++)this.H[a].If();this.Ga.R();this.K.R();this.pa=this.C=0};ad.prototype.j=function(a){this.pa=a.pa;for(var c=0;c<2;c++)this.H[c].j(a.H[c]);this.Ga.m(a.Ga);this.K.m(a.K);this.C=a.C};ad.prototype.ba=function(){var a=new ad;a.j(this);return a};function bd(a,c,b,d){var e=0,g=c[0].ob,f=c[1].ob,h=b.x*g.x+b.y*g.y-d,b=b.x*f.x+b.y*f.y-d;h<=0&&a[e++].j(c[0]);b<=0&&a[e++].j(c[1]);if(h*b<0)b=h/(h-b),d=a[e].ob,d.x=g.x+b*(f.x-g.x),d.y=g.y+b*(f.y-g.y),a[e].id=h>0?c[0].id:c[1].id,e++;return e}
function cd(a,c,b,d,e){b===k&&(b=0);for(var g=a.r,f=a.ma,a=d.r,h=c.d.a.x*f[b].x+c.d.b.x*f[b].y,f=c.d.a.y*f[b].x+c.d.b.y*f[b].y,i=e.d.a.x*h+e.d.a.y*f,j=e.d.b.x*h+e.d.b.y*f,l=0,m=Number.MAX_VALUE,n=0;n<d.ea;++n){var q=a[n].x*i+a[n].y*j;q<m&&(m=q,l=n)}return(e.position.x+(e.d.a.x*a[l].x+e.d.b.x*a[l].y)-(c.position.x+(c.d.a.x*g[b].x+c.d.b.x*g[b].y)))*h+(e.position.y+(e.d.a.y*a[l].x+e.d.b.y*a[l].y)-(c.position.y+(c.d.a.y*g[b].x+c.d.b.y*g[b].y)))*f}
function dd(a,c,b,d,e){var g=c.ma,f=e.position.x+(e.d.a.x*d.zb.x+e.d.b.x*d.zb.y),h=e.position.y+(e.d.a.y*d.zb.x+e.d.b.y*d.zb.y);f-=b.position.x+(b.d.a.x*c.zb.x+b.d.b.x*c.zb.y);h-=b.position.y+(b.d.a.y*c.zb.x+b.d.b.y*c.zb.y);for(var i=f*b.d.a.x+h*b.d.a.y,h=f*b.d.b.x+h*b.d.b.y,f=0,j=-Number.MAX_VALUE,l=0;l<c.ea;++l){var m=g[l].x*i+g[l].y*h;m>j&&(j=m,f=l)}g=cd(c,b,f,d,e);i=f-1;i<0&&(i=c.ea-1);h=cd(c,b,i,d,e);j=f+1;j>=c.ea&&(j=0);var l=cd(c,b,j,d,e),n=m=0,q=0;if(h>g&&h>l)q=-1,m=i,n=h;else if(l>g)q=1,
m=j,n=l;else return a[0]=f,g;for(;;)if(q==-1?(f=m-1,f<0&&(f=c.ea-1)):(f=m+1,f>=c.ea&&(f=0)),g=cd(c,b,f,d,e),g>n)m=f,n=g;else break;a[0]=m;return n}var ed=[new Zc,new Zc],fd=[new Zc,new Zc],gd=[new Zc,new Zc],hd=[0],id=[0],jd=new F(0,0),kd=new F(0,0),ld=new F(0,0),md=new F(0,0),nd=new F(0,0),od=new F(0,0),pd=new F(0,0),qd=new F(0,0);function rd(){this.K=new F(0,0);this.D=new F(0,0)}
rd.prototype.X=function(a,c,b,d,e){this.Vc=c;this.Wc=d;var g=a.Ed;L(0<g&&g<3);var f,h,i=h=f=0,j=0,d=c=0,l,m,i=0;g==1?(this.C=sd,g=M(this.Vc,a.ra[0]),a=M(this.Wc,a.sa[0]),m=g,l=b.d,f=b.position.x+(l.a.x*m.x+l.b.x*m.y),h=b.position.y+(l.a.y*m.x+l.b.y*m.y),m=a,l=e.d,i=e.position.x+(l.a.x*m.x+l.b.x*m.y),j=e.position.y+(l.a.y*m.x+l.b.y*m.y),this.D.x=i-f,this.D.y=j-h,Fb(this.D)):(a.sa[0]==a.sa[1]?(this.C=td,c=M(this.Vc,a.ra[0]),d=M(this.Vc,a.ra[1]),a=M(this.Wc,a.sa[0]),this.K.x=0.5*(c.x+d.x),this.K.y=0.5*
(c.y+d.y),this.D=nc(I(d,c)),Fb(this.D),m=this.D,l=b.d,c=l.a.x*m.x+l.b.x*m.y,d=l.a.y*m.x+l.b.y*m.y,m=this.K,l=b.d,f=b.position.x+(l.a.x*m.x+l.b.x*m.y),h=b.position.y+(l.a.y*m.x+l.b.y*m.y),m=a,l=e.d,i=e.position.x+(l.a.x*m.x+l.b.x*m.y),j=e.position.y+(l.a.y*m.x+l.b.y*m.y),i=(i-f)*c+(j-h)*d):a.ra[0]==a.ra[0]?(this.C=ud,f=M(this.Wc,a.sa[0]),h=M(this.Wc,a.sa[1]),g=M(this.Vc,a.ra[0]),this.K.x=0.5*(f.x+h.x),this.K.y=0.5*(f.y+h.y),this.D=nc(I(h,f)),Fb(this.D),m=this.D,l=e.d,c=l.a.x*m.x+l.b.x*m.y,d=l.a.y*
m.x+l.b.y*m.y,m=this.K,l=e.d,i=e.position.x+(l.a.x*m.x+l.b.x*m.y),j=e.position.y+(l.a.y*m.x+l.b.y*m.y),m=g,l=b.d,f=b.position.x+(l.a.x*m.x+l.b.x*m.y),h=b.position.y+(l.a.y*m.x+l.b.y*m.y),i=(f-i)*c+(h-j)*d):(c=M(this.Vc,a.ra[0]),d=M(this.Vc,a.ra[1]),f=M(this.Wc,a.sa[0]),h=M(this.Wc,a.sa[1]),i=oc(b.d,I(d,c)),j=oc(e.d,I(h,f)),e=i.x*i.x+i.y*i.y,b=j.x*j.x+j.y*j.y,g=I(j,i),a=i.x*g.x+i.y*g.y,g=j.x*g.x+j.y*g.y,j=i.x*j.x+i.y*j.y,l=e*b-j*j,i=0,l!=0&&(i=K((j*g-a*b)/l,0,1)),(j*i+g)/b<0&&(i=K((j-a)/e,0,1)),g=
new F(0,0),g.x=c.x+i*(d.x-c.x),g.y=c.y+i*(d.y-c.y),a=new F(0,0),a.x=f.x+i*(h.x-f.x),a.y=f.y+i*(h.y-f.y),i==0||i==1?(this.C=ud,this.D=nc(I(h,f)),Fb(this.D),this.K=a):(this.C=td,this.D=nc(I(d,c)),this.K=g)),i<0&&this.D.Dg())};
rd.prototype.Qb=function(a,c){var b,d,e=0;switch(this.C){case sd:b=pc(a.d,this.D);d=pc(c.d,this.D.Eb());b=this.Vc.fe(b);d=this.Wc.fe(d);b=H(a,b);d=H(c,d);e=(d.x-b.x)*this.D.x+(d.y-b.y)*this.D.y;break;case td:e=oc(a.d,this.D);b=H(a,this.K);d=pc(c.d,e.Eb());d=this.Wc.fe(d);d=H(c,d);e=(d.x-b.x)*e.x+(d.y-b.y)*e.y;break;case ud:e=oc(c.d,this.D);d=H(c,this.K);b=pc(a.d,e.Eb());b=this.Vc.fe(b);b=H(a,b);e=(b.x-d.x)*e.x+(b.y-d.y)*e.y;break;default:L(s)}return e};var sd=1,td=2,ud=4;var vd=0,wd=0,xd=0,yd=0,zd=0,Ad=new Dc,Bd=new Bc,Cd=new Hc,Dd=new Hc,Ed=new rd,Fd=new Cc;function Gd(){this.p=new F(0,0);this.Da=new F(0,0);this.g=new F(0,0)}Gd.prototype.j=function(a){this.p.m(a.p);this.Da.m(a.Da);this.g.m(a.g);this.rb=a.rb;this.n=a.n;this.Ca=a.Ca};Gd.prototype.ba=function(){var a=new Gd;a.p.m(this.p);a.Da.m(this.Da);a.g.m(this.g);a.rb=this.rb;a.n=this.n;a.Ca=this.Ca;return a};
Gd.prototype.jb=function(a,c){c===k&&(c=0);a.position.x=(1-c)*this.Da.x+c*this.g.x;a.position.y=(1-c)*this.Da.y+c*this.g.y;a.d.j((1-c)*this.rb+c*this.n);var b=a.d;a.position.x-=b.a.x*this.p.x+b.b.x*this.p.y;a.position.y-=b.a.y*this.p.x+b.b.y*this.p.y};Gd.prototype.Ec=function(a){a===k&&(a=0);if(this.Ca<a&&1-this.Ca>Number.MIN_VALUE){var c=(a-this.Ca)/(1-this.Ca);this.Da.x=(1-c)*this.Da.x+c*this.g.x;this.Da.y=(1-c)*this.Da.y+c*this.g.y;this.rb=(1-c)*this.rb+c*this.n;this.Ca=a}};function Hd(){};function Id(){this.position=new F(0,0);this.Ci=new F(0,0);this.Wh=this.Bi=this.Xh=this.Ya=0;this.Yh=this.Vh=o;this.bi=this.Mc=s;this.type=T;this.Uh=o;this.ui=1}var T=0;function Jd(a,c){this.gb=new Hd;this.hb=new Hd;this.lb=new ad;this.Ge=new ad;this.Sf=this.yd=s;var b=a.u,d=c.u;if(b.C!=2||(b.ac&Kd)==Kd||d.C!=2||(d.ac&Kd)==Kd)this.Sf=o;this.uf=s;if(a.jc()||c.jc())this.uf=o;this.Ye=s;this.Aa=this.w=p;this.G=a;this.N=c;this.enabled=o}function Ld(a,c){var b=a.N.u,d=a.G.la,e=a.N.la;c.X(a.lb,a.G.u.jb(),d.M,b.jb(),e.M)}Jd.prototype.jc=aa("uf");
function Md(a,c){var b=a.Ge;a.Ge=a.lb;a.lb=b;a.enabled=o;var d=s,b=a.yd,e=a.G.u,g=a.N.u,f=a.G.Oc.Dd(a.N.Oc);if(a.uf){if(f){var d=a.G.la,e=e.jb(),f=a.N.la,h=g.jb(),g=new Bc;g.zc=new Ec;g.zc.j(d);g.Ac=new Ec;g.Ac.j(f);g.xf=e;g.yf=h;g.Ah=o;e=new Dc;e.Ed=0;d=new Cc;zc(d,e,g);d=d.jd<10*Number.MIN_VALUE}a.lb.pa=0}else{a.Sf=e.C!=2||(e.ac&Kd)==Kd||g.C!=2||(g.ac&Kd)==Kd?o:s;if(f){a.Qb();d=a.lb.pa>0;for(f=0;f<a.lb.pa;f++){h=a.lb.H[f];h.td=0;for(var i=h.wd=0;i<a.Ge.pa;i++){var j=a.Ge.H[i];if(j.sc.Qa==h.sc.Qa){h.td=
j.td;h.wd=j.wd;break}}}}else a.lb.pa=0;d!=b&&(Nd(e,o),Nd(g,o))}a.yd=d;!b&&d&&c.be(a);b&&!d&&c.zd(a);a.uf||c.me(a,a.Ge)}Jd.prototype.Qb=u();var Od=new function(){this.zc=new Ec;this.Ac=new Ec;this.wh=new Gd;this.xh=new Gd};function Pd(a,c){Jd.call(this,a,c)}A(Pd,Jd);Pd.prototype.Qb=function(){var a=this.lb,c=this.G.la,b=this.G.u.e,d=this.N.la,e=this.N.u.e;a.pa=0;var g=e.position.x+(e.d.a.x*d.da.x+e.d.b.x*d.da.y)-(b.position.x+(b.d.a.x*c.da.x+b.d.b.x*c.da.y)),b=e.position.y+(e.d.a.y*d.da.x+e.d.b.y*d.da.y)-(b.position.y+(b.d.a.y*c.da.x+b.d.b.y*c.da.y)),e=c.M+d.M;if(!(g*g+b*b>e*e))a.C=1,a.K.m(c.da),a.Ga.R(),a.pa=1,a.H[0].K.m(d.da),Yc(a.H[0].sc,0)};function Qd(a,c){Jd.call(this,a,c)}A(Qd,Jd);Qd.prototype.Qb=u();function Rd(a){this.M=0.005;this.M=a;this.da=new F(0,0)}A(Rd,Fc);x=Rd.prototype;x.Ff=ba("b2CircleShape");x.ba=function(){var a=new Rd(this.M);a.j(this);return a};x.j=function(a){Fc.prototype.j.call(this,a);a instanceof Rd&&this.da.m(a.da)};x.ce=function(a,c){var b=c.d,d=c.position.x+(b.a.x*this.da.x+b.b.x*this.da.y),b=c.position.y+(b.a.y*this.da.x+b.b.y*this.da.y);a.lowerBound.j(d-this.M,b-this.M);a.upperBound.j(d+this.M,b+this.M)};
x.Cf=function(a,c){a.Xc=c*Math.PI*this.M*this.M;a.fd.m(this.da);a.ge=a.Xc*(0.5*this.M*this.M+(this.da.x*this.da.x+this.da.y*this.da.y))};x.Jf=function(a){a.r=[this.da];a.z=1;a.M=this.M};function Sd(a,c){L(a.la instanceof N);L(c.la instanceof Rd);Jd.call(this,a,c)}A(Sd,Jd);
Sd.prototype.Qb=function(){a:{var a=this.lb,c=this.G.la,b=this.G.u.e,d=this.N.la,e=this.N.u.e;a.pa=0;for(var g=e.position.x+(e.d.a.x*d.da.x+e.d.b.x*d.da.y)-b.position.x,f=e.position.y+(e.d.a.y*d.da.x+e.d.b.y*d.da.y)-b.position.y,e=g*b.d.a.x+f*b.d.a.y,b=g*b.d.b.x+f*b.d.b.y,g=0,f=-Number.MAX_VALUE,h=c.M+d.M,i=0;i<c.ea;++i){var j=c.ma[i].x*(e-c.r[i].x)+c.ma[i].y*(b-c.r[i].y);if(j>h)break a;j>f&&(f=j,g=i)}j=g+1;j>=c.ea&&(j=0);var i=c.r[g],l=c.r[j];if(f<Number.MIN_VALUE)a.pa=1,a.C=2,a.Ga.m(c.ma[g]),a.K.x=
0.5*(i.x+l.x),a.K.y=0.5*(i.y+l.y);else if((e-i.x)*(l.x-i.x)+(b-i.y)*(l.y-i.y)<=0){if((e-i.x)*(e-i.x)+(b-i.y)*(b-i.y)>h*h)break a;a.pa=1;a.C=2;a.Ga.x=e-i.x;a.Ga.y=b-i.y;Fb(a.Ga);a.K.m(i)}else if((e-l.x)*(i.x-l.x)+(b-l.y)*(i.y-l.y)<=0){if((e-l.x)*(e-l.x)+(b-l.y)*(b-l.y)>h*h)break a;a.pa=1;a.C=2;a.Ga.x=e-l.x;a.Ga.y=b-l.y;Fb(a.Ga);a.K.m(l)}else{j=0.5*(i.x+l.x);i=0.5*(i.y+l.y);f=(e-j)*c.ma[g].x+(b-i)*c.ma[g].y;if(f>h)break a;a.pa=1;a.C=2;a.Ga.x=c.ma[g].x;a.Ga.y=c.ma[g].y;Fb(a.Ga);a.K.j(j,i)}a.H[0].K.m(d.da);
Yc(a.H[0].sc,0)}};function Td(a,c){L(a.la instanceof N);L(s);Jd.call(this,a,c)}A(Td,Jd);Td.prototype.Qb=u();function Ud(a,c){Jd.call(this,a,c)}A(Ud,Jd);
Ud.prototype.Qb=function(){var a=this.lb,c=this.G.la,b=this.G.u.e,d=this.N.la,e=this.N.u.e;a.pa=0;var g=c.M+d.M;hd[0]=0;var f=dd(hd,c,b,d,e);if(!(f>g)){id[0]=0;var h=dd(id,d,e,c,b);if(!(h>g)){var i=c,j=d,l=b,m=e,n=hd[0],q=0;a.C=2;if(h>0.98*f+0.001)i=d,j=c,l=e,m=b,n=id[0],a.C=4,q=1;c=n;b=m;c===k&&(c=0);for(var d=l.d.a.x*i.ma[c].x+l.d.b.x*i.ma[c].y,e=l.d.a.y*i.ma[c].x+l.d.b.y*i.ma[c].y,f=b.d.a.x*d+b.d.a.y*e,e=b.d.b.x*d+b.d.b.y*e,d=f,f=0,h=Number.MAX_VALUE,t=0;t<j.ea;t++){var r=d*j.ma[t].x+e*j.ma[t].y;
r<h&&(h=r,f=t)}d=f+1;d>=j.ea&&(d=0);ed[0].ob.x=b.position.x+(b.d.a.x*j.r[f].x+b.d.b.x*j.r[f].y);ed[0].ob.y=b.position.y+(b.d.a.y*j.r[f].x+b.d.b.y*j.r[f].y);ed[0].id.tb.ij=c;ed[0].id.tb.si=f;ed[0].id.tb.ti=0;ed[1].ob.x=b.position.x+(b.d.a.x*j.r[d].x+b.d.b.x*j.r[d].y);ed[1].ob.y=b.position.y+(b.d.a.y*j.r[d].x+b.d.b.y*j.r[d].y);ed[1].id.tb.ij=c;ed[1].id.tb.si=d;ed[1].id.tb.ti=1;c=i.r[n];i=n+1<i.ea?i.r[n+1]:i.r[0];jd.j(i.x-c.x,i.y-c.y);Fb(jd);kd.x=jd.y;kd.y=-jd.x;ld.j(0.5*(c.x+i.x),0.5*(c.y+i.y));nd.x=
l.d.a.x*jd.x+l.d.b.x*jd.y;nd.y=l.d.a.y*jd.x+l.d.b.y*jd.y;od.x=-nd.x;od.y=-nd.y;md.x=nd.y;md.y=-nd.x;pd.x=l.position.x+(l.d.a.x*c.x+l.d.b.x*c.y);pd.y=l.position.y+(l.d.a.y*c.x+l.d.b.y*c.y);qd.x=l.position.x+(l.d.a.x*i.x+l.d.b.x*i.y);qd.y=l.position.y+(l.d.a.y*i.x+l.d.b.y*i.y);if(!(bd(fd,ed,od,-nd.x*pd.x-nd.y*pd.y+g)<2)&&!(bd(gd,fd,nd,nd.x*qd.x+nd.y*qd.y+g)<2)){a.Ga.m(kd);a.K.m(ld);l=md.x*pd.x+md.y*pd.y;for(n=i=0;n<2;++n)if(md.x*gd[n].ob.x+md.y*gd[n].ob.y-l<=g)c=gd[n].ob.x-m.position.x,j=gd[n].ob.y-
m.position.y,a.H[i].K.x=c*m.d.a.x+j*m.d.a.y,a.H[i].K.y=c*m.d.b.x+j*m.d.b.y,a.H[i].sc.j(gd[n].id),a.H[i].sc.tb.Aj=q,i++;a.pa=i}}}};function Vd(){this.Nb=[];Wd(this,Pd,"b2CircleShape","b2CircleShape");Wd(this,Sd,"b2PolygonShape","b2CircleShape");Wd(this,Ud,"b2PolygonShape","b2PolygonShape");Wd(this,Qd,"b2EdgeShape","b2CircleShape");Wd(this,Td,"b2PolygonShape","b2EdgeShape")}function Wd(a,c,b,d){a.Nb[b]=a.Nb[b]||[];a.Nb[b][d]=new Tc;a.Nb[b][d].Tg=c;a.Nb[b][d].th=o;if(b!=d)a.Nb[d]=a.Nb[d]||[],a.Nb[d][b]=new Tc,a.Nb[d][b].Tg=c,a.Nb[d][b].th=s}
Vd.prototype.Pb=function(a,c){var b=this.Nb[a.la.Ff()][c.la.Ff()],d=b.Tg;return d!=p?b.th?new d(a,c):new d(c,a):p};Vd.prototype.Gc=function(a){a.lb.pa>0&&(Nd(a.G.u,o),Nd(a.N.u,o))};function Xd(a,c){this.ue=a;this.ve=c};function Yd(a){this.L=new Vb;this.parent=this.lc=this.Za=p;if(typeof a!="undefined")this.Ze=a};function Zd(){this.fc=p;this.Ni=this.Dj=0}x=Zd.prototype;x.de=function(a,c){var b=new Yd(c);b.L.lowerBound.x=a.lowerBound.x-0.1;b.L.lowerBound.y=a.lowerBound.y-0.1;b.L.upperBound.x=a.upperBound.x+0.1;b.L.upperBound.y=a.upperBound.y+0.1;$d(this,b);return b};x.ee=function(a){ae(this,a)};
x.Gf=function(a,c,b){L(a.Za===p);if(Xb(a.L,c))return s;ae(this,a);var d=0.1+2*Math.abs(b.x),b=0.1+2*Math.abs(b.y);a.L.lowerBound.x=c.lowerBound.x-d;a.L.lowerBound.y=c.lowerBound.y-b;a.L.upperBound.x=c.upperBound.x+d;a.L.upperBound.y=c.upperBound.y+b;$d(this,a);return o};x.Ad=function(a){return a.L};x.Hf=function(a,c){if(this.fc!==p){var b=[];for(b.push(this.fc);b.length>0;){var d=b.pop();if(d.L.Dd(c))if(d.Za===p){if(!a(d.Ze))break}else b.push(d.Za),b.push(d.lc)}}};
function $d(a,c){a.Ni++;if(a.fc===p)a.fc=c,a.fc.parent=p;else{var b;b=Wb(c.L);for(var d=a.fc;d.Za!==p;)var e=d.Za,d=d.lc,d=Math.abs((e.L.lowerBound.x+e.L.upperBound.x)/2-b.x)+Math.abs((e.L.lowerBound.y+e.L.upperBound.y)/2-b.y)<Math.abs((d.L.lowerBound.x+d.L.upperBound.x)/2-b.x)+Math.abs((d.L.lowerBound.y+d.L.upperBound.y)/2-b.y)?e:d;b=d;e=b.parent;d=new Yd;d.parent=e;Yb(d.L,c.L,b.L);if(e){b.parent.Za==b?e.Za=d:e.lc=d;d.Za=b;d.lc=c;b.parent=d;for(c.parent=d;e;){if(Xb(e.L,d.L))break;Yb(e.L,e.Za.L,e.lc.L);
d=e;e=e.parent}}else d.Za=b,d.lc=c,b.parent=d,c.parent=d,a.fc=d}}function ae(a,c){if(c==a.fc)a.fc=p;else{var b=c.parent,d=b.parent,e;e=b.Za==c?b.lc:b.Za;if(d){d.Za==b?d.Za=e:d.lc=e;for(e.parent=d;d;){b=d.L;e=d;var g=new Vb;Yb(g,d.Za.L,d.lc.L);e.L=g;if(Xb(b,d.L))break;d=d.parent}}else a.fc=e,e.parent=p}};function be(){this.vc=new Zd;this.Pd=[]}x=be.prototype;x.de=function(a,c){var b=this.vc.de(a,c);this.Pd.push(b);return b};x.ee=function(a){Ja(this.Pd,a);this.vc.ee(a)};x.Gf=function(a,c,b){this.vc.Gf(a,c,b)&&this.Pd.push(a)};x.Dd=function(a,c){return this.vc.Ad(a).Dd(this.vc.Ad(c))};x.Ad=function(a){return this.vc.Ad(a)};
function ce(a,c){for(var b=[],d=0;d<a.Pd.length;d++){var e=a.Pd[d];a.vc.Hf(function(a){a!=e.Ze&&b.push(new Xd(e.Ze,a));return o},a.vc.Ad(e))}a.Pd=[];for(d=0;d<b.length;){var g=b[d];c(g.ue,g.ve);for(d++;d<b.length;){var f=b[d];if(!(f.ue==g.ue&&f.ve==g.ve)&&!(f.ue==g.ve&&f.ve==g.ue))break;d++}}}x.Hf=function(a,c){this.vc.Hf(a,c)};function de(){}de.prototype.be=u();de.prototype.zd=u();de.prototype.me=u();de.prototype.ke=u();var ee=new de;function fe(a){this.Wa=a;this.Mb=0;this.bg=Nc;this.Md=ee;this.fh=new Vd;this.nd=new be}
fe.prototype.Dh=function(a,c){var b=a.u,d=c.u;if(b!=d&&d.Wb(b)&&this.bg.Wb(a,c)){for(d=d.W;d;){if(d.ha==b){var e=d.Fa.G,g=d.Fa.N;if(e==a&&g==c)return;if(e==c&&g==a)return}d=d.next}e=this.fh.Pb(a,c);a=e.G;c=e.N;b=a.u;d=c.u;e.Aa=p;e.w=this.Wa.W;if(this.Wa.W!=p)this.Wa.W.Aa=e;this.Wa.W=e;e.gb.Fa=e;e.gb.ha=d;e.gb.oa=p;e.gb.next=b.W;if(b.W!=p)b.W.oa=e.gb;b.W=e.gb;e.hb.Fa=e;e.hb.ha=b;e.hb.oa=p;e.hb.next=d.W;if(d.W!=p)d.W.oa=e.hb;d.W=e.hb;this.Mb++}};function ge(a){ce(a.nd,Vc(a,a.Dh))}
fe.prototype.Gc=function(a){var c=a.G.u,b=a.N.u;a.yd&&this.Md.zd(a);if(a.Aa)a.Aa.w=a.w;if(a.w)a.w.Aa=a.Aa;if(a==this.Wa.W)this.Wa.W=a.w;if(a.gb.oa)a.gb.oa.next=a.gb.next;if(a.gb.next)a.gb.next.oa=a.gb.oa;if(a.gb==c.W)c.W=a.gb.next;if(a.hb.oa)a.hb.oa.next=a.hb.next;if(a.hb.next)a.hb.next.oa=a.hb.oa;if(a.hb==b.W)b.W=a.hb.next;this.fh.Gc(a);this.Mb--};new function(){this.position=new F(0,0);this.Nj=new F(0,0);this.wc=new F(0,0);this.id=new Xc};function he(a,c,b){this.Lg=255*K(a,0,1);this.Kg=255*K(c,0,1);this.Jg=255*K(b,0,1)}he.prototype.j=function(a,c,b){this.Lg=255*K(a,0,1);this.Kg=255*K(c,0,1);this.Jg=255*K(b,0,1)};function Sb(a){return a.Lg<<16|a.Kg<<8|a.Jg};var Ac=Number.MIN_VALUE*Number.MIN_VALUE;function ie(){this.O=new F(0,0);this.H=[];for(var a=this.pa=0;a<2;a++)this.H[a]=new F(0,0)}
ie.prototype.X=function(a,c,b,d,e){if(a.pa!=0){var g=0,f,h,i=0,j=0,l=0,m=0,n=0;f=0;switch(a.C){case 1:h=c.d;f=a.K;g=c.position.x+h.a.x*f.x+h.b.x*f.y;c=c.position.y+h.a.y*f.x+h.b.y*f.y;h=d.d;f=a.H[0].K;a=d.position.x+h.a.x*f.x+h.b.x*f.y;d=d.position.y+h.a.y*f.x+h.b.y*f.y;f=a-g;h=d-c;i=f*f+h*h;i>Ac?(i=Math.sqrt(i),this.O.x=f/i,this.O.y=h/i):(this.O.x=1,this.O.y=0);f=c+b*this.O.y;d-=e*this.O.y;this.H[0].x=0.5*(g+b*this.O.x+(a-e*this.O.x));this.H[0].y=0.5*(f+d);break;case 2:h=c.d;f=a.Ga;i=h.a.x*f.x+h.b.x*
f.y;j=h.a.y*f.x+h.b.y*f.y;h=c.d;f=a.K;l=c.position.x+h.a.x*f.x+h.b.x*f.y;m=c.position.y+h.a.y*f.x+h.b.y*f.y;this.O.x=i;this.O.y=j;for(g=0;g<a.pa;g++)h=d.d,f=a.H[g].K,n=d.position.x+h.a.x*f.x+h.b.x*f.y,f=d.position.y+h.a.y*f.x+h.b.y*f.y,this.H[g].x=n+0.5*(b-(n-l)*i-(f-m)*j-e)*i,this.H[g].y=f+0.5*(b-(n-l)*i-(f-m)*j-e)*j;break;case 4:h=d.d;f=a.Ga;i=h.a.x*f.x+h.b.x*f.y;j=h.a.y*f.x+h.b.y*f.y;h=d.d;f=a.K;l=d.position.x+h.a.x*f.x+h.b.x*f.y;m=d.position.y+h.a.y*f.x+h.b.y*f.y;this.O.x=-i;this.O.y=-j;for(g=
0;g<a.pa;g++)h=c.d,f=a.H[g].K,n=c.position.x+h.a.x*f.x+h.b.x*f.y,f=c.position.y+h.a.y*f.x+h.b.y*f.y,this.H[g].x=n+0.5*(e-(n-l)*i-(f-m)*j-b)*i,this.H[g].y=f+0.5*(e-(n-l)*i-(f-m)*j-b)*j}}};function je(){}je.prototype.j=function(a){this.Z=a.Z;this.wb=a.wb;this.Yd=a.Yd;this.ae=a.ae;this.hc=a.hc};function ke(){this.Zb=new F(0,0);this.P=new F(0,0);this.Q=new F(0,0)};function le(){this.ef=new F(0,0);this.Zb=new F(0,0);this.wc=new F(0,0);this.Xd=new jc;this.Fb=new jc;this.Pa=[];for(var a=0;a<2;a++)this.Pa[a]=new ke};function me(){this.O=new F(0,0);this.nf=[];this.H=[];for(var a=0;a<2;a++)this.H[a]=new F(0,0)}
me.prototype.X=function(a){L(a.mb>0);var c=0,b=0,d=0,e=0,g=0;switch(a.type){case 1:var f=a.V.e.d,d=a.Zb,c=a.V.e.position.x+(f.a.x*d.x+f.b.x*d.y),b=a.V.e.position.y+(f.a.y*d.x+f.b.y*d.y),f=a.Y.e.d,d=a.Pa[0].Zb,e=a.Y.e.position.x+(f.a.x*d.x+f.b.x*d.y),f=a.Y.e.position.y+(f.a.y*d.x+f.b.y*d.y),d=e-c,g=f-b,h=d*d+g*g;h>Ac?(h=Math.sqrt(h),this.O.x=d/h,this.O.y=g/h):(this.O.x=1,this.O.y=0);this.H[0].x=0.5*(c+e);this.H[0].y=0.5*(b+f);this.nf[0]=d*this.O.x+g*this.O.y-a.ug;break;case 2:f=a.V.e.d;d=a.ef;this.O.x=
f.a.x*d.x+f.b.x*d.y;this.O.y=f.a.y*d.x+f.b.y*d.y;f=a.V.e.d;d=a.Zb;e=a.V.e.position.x+(f.a.x*d.x+f.b.x*d.y);g=a.V.e.position.y+(f.a.y*d.x+f.b.y*d.y);f=a.Y.e.d;for(c=0;c<a.mb;c++)d=a.Pa[c].Zb,b=a.Y.e.position.x+(f.a.x*d.x+f.b.x*d.y),d=a.Y.e.position.y+(f.a.y*d.x+f.b.y*d.y),this.nf[c]=(b-e)*this.O.x+(d-g)*this.O.y-a.ug,this.H[c].x=b,this.H[c].y=d;break;case 4:f=a.Y.e.d;d=a.ef;this.O.x=f.a.x*d.x+f.b.x*d.y;this.O.y=f.a.y*d.x+f.b.y*d.y;f=a.Y.e.d;d=a.Zb;e=a.Y.e.position.x+(f.a.x*d.x+f.b.x*d.y);g=a.Y.e.position.y+
(f.a.y*d.x+f.b.y*d.y);f=a.V.e.d;for(c=0;c<a.mb;c++)d=a.Pa[c].Zb,b=a.V.e.position.x+(f.a.x*d.x+f.b.x*d.y),d=a.V.e.position.y+(f.a.y*d.x+f.b.y*d.y),this.nf[c]=(b-e)*this.O.x+(d-g)*this.O.y-a.ug,this.H[c].j(b,d);this.O.x*=-1;this.O.y*=-1}};function ne(){this.Wi=new je;this.$b=[]}x=ne.prototype;
x.X=function(a,c,b){b===k&&(b=0);var d;this.Wi.j(a);a=0;for(this.ze=b;this.$b.length<this.ze;)this.$b[this.$b.length]=new le;for(a=0;a<b;++a){d=c[a];var e=d.G,g=d.N,f=e.la.M,h=g.la.M,i=e.u,j=g.u,l=d.lb,m;d=e.fg;var n=g.fg;d===k&&(d=0);n===k&&(n=0);m=Math.sqrt(d*n);var q,e=e.lg,g=g.lg;e===k&&(e=0);g===k&&(g=0);q=e>g?e:g;var n=i.h.x,t=i.h.y,r=j.h.x,v=j.h.y,w=i.s,O=j.s;L(l.pa>0);oe.X(l,i.e,f,j.e,h);e=oe.O.x;d=oe.O.y;g=this.$b[a];g.V=i;g.Y=j;g.Yi=l;g.wc.x=e;g.wc.y=d;g.mb=l.pa;g.ub=m;g.Bc=q;g.ef.x=l.Ga.x;
g.ef.y=l.Ga.y;g.Zb.x=l.K.x;g.Zb.y=l.K.y;g.ug=f+h;g.type=l.C;for(f=0;f<g.mb;++f){m=l.H[f];h=g.Pa[f];h.Ba=m.td;h.Dc=m.wd;h.Zb.m(m.K);m=h.P.x=oe.H[f].x-i.c.g.x;q=h.P.y=oe.H[f].y-i.c.g.y;var J=h.Q.x=oe.H[f].x-j.c.g.x,P=h.Q.y=oe.H[f].y-j.c.g.y,z=m*d-q*e,E=J*d-P*e;z*=z;E*=E;h.Xd=1/(i.l+j.l+i.t*z+j.t*E);var Z=i.q*i.l+j.q*j.l;Z+=i.q*i.t*z+j.q*j.t*E;h.mi=1/Z;E=d;Z=-e;z=m*Z-q*E;E=J*Z-P*E;z*=z;E*=E;h.mj=1/(i.l+j.l+i.t*z+j.t*E);h.zf=0;m=g.wc.x*(r+-O*P-n- -w*q)+g.wc.y*(v+O*J-t-w*m);m<-1&&(h.zf+=-g.Bc*m)}if(g.mb==
2)v=g.Pa[0],r=g.Pa[1],l=i.l,i=i.t,n=j.l,j=j.t,t=v.P.x*d-v.P.y*e,v=v.Q.x*d-v.Q.y*e,w=r.P.x*d-r.P.y*e,r=r.Q.x*d-r.Q.y*e,e=l+n+i*t*t+j*v*v,d=l+n+i*w*w+j*r*r,j=l+n+i*t*w+j*v*r,e*e<100*(e*d-j*j)?(g.Fb.a.j(e,j),g.Fb.b.j(j,d),j=g.Fb,g=g.Xd,i=j.a.x*j.b.y-j.b.x*j.a.y,i!==0&&(i=1/i),g.a.x=i*j.b.y,g.b.x=-i*j.b.x,g.a.y=-i*j.a.y,g.b.y=i*j.a.x):g.mb=1}};
x.Ub=function(a){for(var c=0;c<this.ze;++c){var b=this.$b[c],d=b.V,e=b.Y,g=d.l,f=d.t,h=e.l,i=e.t,j=b.wc.x,l=b.wc.y,m=l,n=-j,q=0,t=0;if(a.hc){t=b.mb;for(q=0;q<t;++q){var r=b.Pa[q];r.Ba*=a.Ra;r.Dc*=a.Ra;var v=r.Ba*j+r.Dc*m,w=r.Ba*l+r.Dc*n;d.s-=f*(r.P.x*w-r.P.y*v);d.h.x-=g*v;d.h.y-=g*w;e.s+=i*(r.Q.x*w-r.Q.y*v);e.h.x+=h*v;e.h.y+=h*w}}else{t=b.mb;for(q=0;q<t;++q)d=b.Pa[q],d.Ba=0,d.Dc=0}}};
x.Hb=function(){for(var a=0,c,b=0,d=0,e=0,g=d=d=b=b=0,f=b=b=0,h=b=e=0,i=0,j,l=0;l<this.ze;++l){var e=this.$b[l],m=e.V,n=e.Y,q=m.s,t=n.s,r=m.h,v=n.h,w=m.l,O=m.t,J=n.l,P=n.t,h=e.wc.x,z=i=e.wc.y;j=-h;f=e.ub;for(a=0;a<e.mb;a++)c=e.Pa[a],b=v.x-t*c.Q.y-r.x+q*c.P.y,d=v.y+t*c.Q.x-r.y-q*c.P.x,b=b*z+d*j,b=c.mj*-b,d=f*c.Ba,d=K(c.Dc+b,-d,d),b=d-c.Dc,g=b*z,b*=j,r.x-=w*g,r.y-=w*b,q-=O*(c.P.x*b-c.P.y*g),v.x+=J*g,v.y+=J*b,t+=P*(c.Q.x*b-c.Q.y*g),c.Dc=d;if(e.mb==1)c=e.Pa[0],b=v.x+-t*c.Q.y-r.x- -q*c.P.y,d=v.y+t*c.Q.x-
r.y-q*c.P.x,e=b*h+d*i,b=-c.Xd*(e-c.zf),d=c.Ba+b,d=d>0?d:0,b=d-c.Ba,g=b*h,b*=i,r.x-=w*g,r.y-=w*b,q-=O*(c.P.x*b-c.P.y*g),v.x+=J*g,v.y+=J*b,t+=P*(c.Q.x*b-c.Q.y*g),c.Ba=d;else{c=e.Pa[0];var a=e.Pa[1],b=c.Ba,f=a.Ba,E=(v.x-t*c.Q.y-r.x+q*c.P.y)*h+(v.y+t*c.Q.x-r.y-q*c.P.x)*i,Z=(v.x-t*a.Q.y-r.x+q*a.P.y)*h+(v.y+t*a.Q.x-r.y-q*a.P.x)*i,d=E-c.zf,g=Z-a.zf;j=e.Fb;d-=j.a.x*b+j.b.x*f;for(g-=j.a.y*b+j.b.y*f;;){j=e.Xd;z=-(j.a.x*d+j.b.x*g);j=-(j.a.y*d+j.b.y*g);if(z>=0&&j>=0){b=z-b;f=j-f;e=b*h;b*=i;h*=f;i*=f;r.x-=w*(e+
h);r.y-=w*(b+i);q-=O*(c.P.x*b-c.P.y*e+a.P.x*i-a.P.y*h);v.x+=J*(e+h);v.y+=J*(b+i);t+=P*(c.Q.x*b-c.Q.y*e+a.Q.x*i-a.Q.y*h);c.Ba=z;a.Ba=j;break}z=-c.Xd*d;j=0;Z=e.Fb.a.y*z+g;if(z>=0&&Z>=0){b=z-b;f=j-f;e=b*h;b*=i;h*=f;i*=f;r.x-=w*(e+h);r.y-=w*(b+i);q-=O*(c.P.x*b-c.P.y*e+a.P.x*i-a.P.y*h);v.x+=J*(e+h);v.y+=J*(b+i);t+=P*(c.Q.x*b-c.Q.y*e+a.Q.x*i-a.Q.y*h);c.Ba=z;a.Ba=j;break}z=0;j=-a.Xd*g;E=e.Fb.b.x*j+d;if(j>=0&&E>=0){b=z-b;f=j-f;e=b*h;b*=i;h*=f;i*=f;r.x-=w*(e+h);r.y-=w*(b+i);q-=O*(c.P.x*b-c.P.y*e+a.P.x*i-a.P.y*
h);v.x+=J*(e+h);v.y+=J*(b+i);t+=P*(c.Q.x*b-c.Q.y*e+a.Q.x*i-a.Q.y*h);c.Ba=z;a.Ba=j;break}j=z=0;E=d;Z=g;if(E>=0&&Z>=0){b=z-b;f=j-f;e=b*h;b*=i;h*=f;i*=f;r.x-=w*(e+h);r.y-=w*(b+i);q-=O*(c.P.x*b-c.P.y*e+a.P.x*i-a.P.y*h);v.x+=J*(e+h);v.y+=J*(b+i);t+=P*(c.Q.x*b-c.Q.y*e+a.Q.x*i-a.Q.y*h);c.Ba=z;a.Ba=j;break}break}}m.s=q;n.s=t}};x.Ef=function(){for(var a=0;a<this.ze;++a)for(var c=this.$b[a],b=c.Yi,d=0;d<c.mb;++d){var e=b.H[d],g=c.Pa[d];e.td=g.Ba;e.wd=g.Dc}};
x.Gb=function(a){a===k&&(a=0);for(var c=0,b=0;b<this.ze;b++){var d=this.$b[b],e=d.V,g=d.Y,f=e.q*e.l,h=e.q*e.t,i=g.q*g.l,j=g.q*g.t;pe.X(d);for(var l=pe.O,m=0;m<d.mb;m++){var n=d.Pa[m],q=pe.H[m],t=pe.nf[m],r=q.x-e.c.g.x,v=q.y-e.c.g.y,w=q.x-g.c.g.x,q=q.y-g.c.g.y,c=c<t?c:t,t=-n.mi*K(a*(t+0.005),-0.2,0),n=t*l.x;t*=l.y;e.c.g.x-=f*n;e.c.g.y-=f*t;e.c.n-=h*(r*t-v*n);S(e);g.c.g.x+=i*n;g.c.g.y+=i*t;g.c.n+=j*(w*t-q*n);S(g)}}return c>-0.0075};var oe=new ie,pe=new me;function qe(a,c){this.kh=a;this.od=c;re(this)}function re(a){a.bb=0;a.Mb=0;a.fb=0;a.yb=[];a.pd=[];a.dc=[]}
qe.prototype.ne=function(a,c,b){for(var d=0,e=0,g,d=0;d<this.bb;++d)e=this.yb[d],e.C==2&&(e.h.x+=a.Z*(c.x+e.l*e.Be.x),e.h.y+=a.Z*(c.y+e.l*e.Be.y),e.s+=a.Z*e.t*e.ng,e.h.kc(K(1-a.Z*e.Ri,0,1)),e.s*=K(1-a.Z*e.Fi,0,1));this.od.X(a,this.pd,this.Mb);c=this.od;c.Ub(a);for(d=0;d<this.fb;++d)g=this.dc[d],g.Ub(a);for(d=0;d<a.ae;++d){for(e=0;e<this.fb;++e)g=this.dc[e],g.Hb(a);c.Hb()}for(d=0;d<this.fb;++d)g=this.dc[d],g.Ef();c.Ef();for(d=0;d<this.bb;++d)if(e=this.yb[d],e.C!=T){var f=a.Z*e.h.x,h=a.Z*e.h.y;f*f+
h*h>4&&(Fb(e.h),e.h.x*=2*a.wb,e.h.y*=2*a.wb);f=a.Z*e.s;if(f*f>uc)e.s=e.s<0?-tc*a.wb:tc*a.wb;e.c.Da.m(e.c.g);e.c.rb=e.c.n;e.c.g.x+=a.Z*e.h.x;e.c.g.y+=a.Z*e.h.y;e.c.n+=a.Z*e.s;S(e)}for(d=0;d<a.Yd;++d){f=c.Gb(0.2);h=o;for(e=0;e<this.fb;++e)g=this.dc[e],g=g.Gb(0.2),h=h&&g;if(f&&h)break}se(this,c.$b);if(b){b=Number.MAX_VALUE;c=vc*vc;for(d=0;d<this.bb;++d)if(e=this.yb[d],e.C!=T)!e.ag||e.s*e.s>c||lc(e.h,e.h)>1.0E-4?b=e.of=0:(e.of+=a.Z,b=Math.min(b,e.of));if(b>=0.5)for(d=0;d<this.bb;++d)e=this.yb[d],Nd(e,
s)}};
qe.prototype.Kf=function(a){var c=0,b=0;this.od.X(a,this.pd,this.Mb);for(var d=this.od,c=0;c<this.fb;++c)this.dc[c].Ub(a);for(c=0;c<a.ae;++c){d.Hb();for(b=0;b<this.fb;++b)this.dc[b].Hb(a)}for(c=0;c<this.bb;++c)if(b=this.yb[c],b.C!=T){var e=a.Z*b.h.x,g=a.Z*b.h.y;e*e+g*g>4&&(Fb(b.h),b.h.x*=2*a.wb,b.h.y*=2*a.wb);e=a.Z*b.s;if(e*e>uc)b.s=b.s<0?-tc*a.wb:tc*a.wb;b.c.Da.m(b.c.g);b.c.rb=b.c.n;b.c.g.x+=a.Z*b.h.x;b.c.g.y+=a.Z*b.h.y;b.c.n+=a.Z*b.s;S(b)}for(c=0;c<a.Yd;++c){e=d.Gb(0.75);g=o;for(b=0;b<this.fb;++b)var f=this.dc[b].Gb(0.2),
g=g&&f;if(e&&g)break}se(this,d.$b)};function se(a,c){if(a.kh!=p)for(var b=0;b<a.Mb;++b){for(var d=a.pd[b],e=c[b],g=0;g<e.mb;++g)te.fj[g]=e.Pa[g].Ba,te.lj[g]=e.Pa[g].Dc;a.kh.ke(d,te)}}var te=new function(){this.fj=[];this.lj=[]};function ue(a){Q.call(this,a);this.A=new F(0,0);this.B=new F(0,0);this.va=new F(0,0);this.A.m(a.Sa);this.B.m(a.Ta);this.jh=a.length;this.eg=a.Yg;this.Ii=a.Ug;this.dh=this.rd=this.i=0}A(ue,Q);x=ue.prototype;x.Rb=function(){return R(this.F,this.A)};x.Sb=function(){return R(this.J,this.B)};
x.Ub=function(a){var c,b=0,d=this.F,e=this.J;c=d.e.d;var g=this.A.x-d.c.p.x,f=this.A.y-d.c.p.y,b=c.a.x*g+c.b.x*f,f=c.a.y*g+c.b.y*f,g=b;c=e.e.d;var h=this.B.x-e.c.p.x,i=this.B.y-e.c.p.y,b=c.a.x*h+c.b.x*i,i=c.a.y*h+c.b.y*i,h=b;this.va.x=e.c.g.x+h-d.c.g.x-g;this.va.y=e.c.g.y+i-d.c.g.y-f;b=Math.sqrt(this.va.x*this.va.x+this.va.y*this.va.y);b>0.005?this.va.kc(1/b):this.va.R();c=g*this.va.y-f*this.va.x;var j=h*this.va.y-i*this.va.x;c=d.l+d.t*c*c+e.l+e.t*j*j;this.q=c!=0?1/c:0;if(this.eg>0){b-=this.jh;var j=
2*Math.PI*this.eg,l=this.q*j*j;this.rd=a.Z*(2*this.q*this.Ii*j+a.Z*l);this.rd=this.rd!=0?1/this.rd:0;this.dh=b*a.Z*l*this.rd;this.q=c+this.rd;this.q=this.q!=0?1/this.q:0}a.hc?(this.i*=a.Ra,a=this.i*this.va.x,c=this.i*this.va.y,d.h.x-=d.l*a,d.h.y-=d.l*c,d.s-=d.t*(g*c-f*a),e.h.x+=e.l*a,e.h.y+=e.l*c,e.s+=e.t*(h*c-i*a)):this.i=0};
x.Hb=function(){var a,c=this.F,b=this.J;a=c.e.d;var d=this.A.x-c.c.p.x,e=this.A.y-c.c.p.y,g=a.a.x*d+a.b.x*e,e=a.a.y*d+a.b.y*e,d=g;a=b.e.d;var f=this.B.x-b.c.p.x,h=this.B.y-b.c.p.y,g=a.a.x*f+a.b.x*h,h=a.a.y*f+a.b.y*h,f=g,g=-this.q*(this.va.x*(b.h.x+-b.s*h-(c.h.x+-c.s*e))+this.va.y*(b.h.y+b.s*f-(c.h.y+c.s*d))+this.dh+this.rd*this.i);this.i+=g;a=g*this.va.x;g*=this.va.y;c.h.x-=c.l*a;c.h.y-=c.l*g;c.s-=c.t*(d*g-e*a);b.h.x+=b.l*a;b.h.y+=b.l*g;b.s+=b.t*(f*g-h*a)};
x.Gb=function(){var a;if(this.eg>0)return o;var c=this.F,b=this.J;a=c.e.d;var d=this.A.x-c.c.p.x,e=this.A.y-c.c.p.y,g=a.a.x*d+a.b.x*e,e=a.a.y*d+a.b.y*e,d=g;a=b.e.d;var f=this.B.x-b.c.p.x,h=this.B.y-b.c.p.y,g=a.a.x*f+a.b.x*h,h=a.a.y*f+a.b.y*h,f=g,g=b.c.g.x+f-c.c.g.x-d,i=b.c.g.y+h-c.c.g.y-e;a=Math.sqrt(g*g+i*i);g/=a;i/=a;a-=this.jh;a=K(a,-0.2,0.2);var j=-this.q*a;this.va.j(g,i);g=j*this.va.x;i=j*this.va.y;c.c.g.x-=c.l*g;c.c.g.y-=c.l*i;c.c.n-=c.t*(d*i-e*g);b.c.g.x+=b.l*g;b.c.g.y+=b.l*i;b.c.n+=b.t*(f*
i-h*g);S(c);S(b);return Math.abs(a)<0.005};function ve(){this.dg=new hc;this.Oc=new Vb;this.la=this.w=this.u=p;this.lg=this.fg=this.hf=0}x=ve.prototype;x.jc=aa("Oi");x.Ag=function(a){a===k&&(a=p);a==p&&(a=new Gc);this.la.Cf(a,this.hf);return a};x.Pb=function(a,c,b){this.fg=b.ub;this.lg=b.Bc;this.u=a;this.w=p;this.dg=b.filter.ba();this.Oi=b.cf;this.la=b.shape.ba();this.hf=b.te};x.Gc=function(){this.la=p};x.de=function(a,c){this.la.ce(this.Oc,c);this.Uc=a.de(this.Oc,this)};x.ee=function(a){if(this.Uc!=p)a.ee(this.Uc),this.Uc=p};
function we(a,c,b,d){if(a.Uc){var e=new Vb,g=new Vb;a.la.ce(e,b);a.la.ce(g,d);Yb(a.Oc,e,g);c.Gf(a.Uc,a.Oc,I(d.position,b.position))}};function xe(a,c){this.e=new Hc;this.e.position.m(a.position);this.e.d.j(a.Ya);this.c=new Gd;this.c.p.R();this.c.Ca=1;this.c.rb=this.c.n=a.Ya;this.c.g.x=this.e.d.a.x*this.c.p.x+this.e.d.b.x*this.c.p.y;this.c.g.y=this.e.d.a.y*this.c.p.x+this.e.d.b.y*this.c.p.y;this.c.g.x+=this.e.position.x;this.c.g.y+=this.e.position.y;this.c.Da.m(this.c.g);this.h=a.Ci.ba();this.Be=new F(0,0);this.Be.R();this.ac=0;a.bi&&(this.ac|=Kd);a.Mc&&(this.ac|=ye);this.ag=a.Vh;this.xb=a.Yh;a.Uh&&(this.ac|=ze);this.Wa=c;this.W=
this.gf=this.ka=p;this.Hi=0;this.w=this.Aa=p;this.s=a.Xh;this.Ri=a.Bi;this.Fi=a.Wh;this.of=this.ng=0;this.C=a.type;this.l=this.C==2?this.q=1:this.q=0;this.t=this.pc=0;this.Mi=a.ui;this.rc=p;this.hh=0}function Ae(a,c,b){L(!a.Wa.sd);a.e.d.j(b);a.e.position.m(c);var c=a.e.d,d=a.c.p;a.c.g.x=c.a.x*d.x+c.b.x*d.y;a.c.g.y=c.a.y*d.x+c.b.y*d.y;a.c.g.x+=a.e.position.x;a.c.g.y+=a.e.position.y;a.c.Da.m(a.c.g);a.c.rb=a.c.n=b;b=a.Wa.Ia.nd;for(c=a.rc;c;c=c.w)we(c,b,a.e,a.e);ge(a.Wa.Ia)}x=xe.prototype;x.jb=aa("e");
x.Tb=function(){return this.c.n};function U(a){return a.c.g}function Be(a,c,b){a.C==2&&(a.xb==s&&Nd(a,o),a.h.x+=a.l*c.x,a.h.y+=a.l*c.y,a.s+=a.t*((b.x-a.c.g.x)*c.y-(b.y-a.c.g.y)*c.x))}x.Ag=function(a){a.Xc=this.q;a.ge=this.pc;a.fd.m(this.c.p)};function R(a,c){var b=a.e.d,b=new F(b.a.x*c.x+b.b.x*c.y,b.a.y*c.x+b.b.y*c.y);b.x+=a.e.position.x;b.y+=a.e.position.y;return b}function Nd(a,c){a.xb=c;a.of=0;if(!c)a.h.R(),a.s=0,a.Be.R(),a.ng=0}x.ic=function(){return(this.ac&ze)==ze};
function Ce(a){De.d.j(a.c.rb);var c=De.d,b=a.c.p;De.position.x=a.c.Da.x-(c.a.x*b.x+c.b.x*b.y);De.position.y=a.c.Da.y-(c.a.y*b.x+c.b.y*b.y);b=a.Wa.Ia.nd;for(c=a.rc;c;c=c.w)we(c,b,De,a.e)}function S(a){a.e.d.j(a.c.n);var c=a.e.d,b=a.c.p;a.e.position.x=a.c.g.x-(c.a.x*b.x+c.b.x*b.y);a.e.position.y=a.c.g.y-(c.a.y*b.x+c.b.y*b.y)}x.Wb=function(a){if(this.C!=2&&a.C!=2)return s;for(var c=this.ka;c;c=c.next)if(c.ha==a&&c.Yb.eh==s)return s;return o};
x.Ec=function(a){a===k&&(a=0);this.c.Ec(a);this.c.g.m(this.c.Da);this.c.n=this.c.rb;S(this)};var De=new Hc,Kd=8,ye=16,ze=32;function Ee(){this.sg=[];this.start=this.size=0}function Fe(a,c){a.sg[a.start+a.size]=c;a.size++};function Ge(a,c){this.Ia=new fe(this);this.od=new ne;this.kg=this.sd=s;this.gf=this.ka=this.W=this.cb=this.Ma=this.jf=p;this.Hi=this.fb=this.bb=0;this.Gi=this.Xi=o;this.ag=c;this.Ji=a;this.ih=0;this.gg=He(this,new Id)}var Ie=1-100*Number.MIN_VALUE;function He(a,c){L(!a.sd);var b=new xe(c,a);b.Aa=p;if(b.w=a.cb)a.cb.Aa=b;a.cb=b;a.bb++;return b}
function V(a,c){var b=c.Pb();b.Aa=p;if(b.w=a.ka)a.ka.Aa=b;a.ka=b;a.fb++;b.Ua.Yb=b;b.Ua.ha=b.J;b.Ua.oa=p;if(b.Ua.next=b.F.ka)b.F.ka.oa=b.Ua;b.F.ka=b.Ua;b.Va.Yb=b;b.Va.ha=b.F;b.Va.oa=p;if(b.Va.next=b.J.ka)b.J.ka.oa=b.Va;b.J.ka=b.Va;var d=c.V,e=c.Y;if(!c.Rf)for(e=e.W;e;){if(e.ha==d)e.Fa.Ye=o;e=e.next}return b}
function Je(a,c,b,d){if(a.kg)ge(a.Ia),a.kg=s;a.sd=o;var e=new je;e.Z=c;e.ae=b;e.Yd=d;e.wb=c>0?1/c:0;e.Ra=a.ih*c;e.hc=a.Xi;c=a.Ia;for(b=c.Wa.W;b;){var d=b.G,g=b.N,f=d.u,h=g.u;if(f.xb==s&&h.xb==s)b=b.w;else{if(b.Ye){if(h.Wb(f)==s){d=b;b=d.w;c.Gc(d);continue}if(c.bg.Wb(d,g)==s){d=b;b=d.w;c.Gc(d);continue}b.Ye=s}c.nd.Dd(d.Uc,g.Uc)==s?(d=b,b=d.w,c.Gc(d)):(Md(b,c.Md),b=b.w)}}if(e.Z>0)a.ne(e),a.Gi&&e.Z>0&&a.Kf(e),a.ih=e.wb;a.sd=s}
Ge.prototype.ne=function(a){for(var c=this.gf;c;c=c.w)Je(c,a);for(var c=new qe(this.Ia.Md,this.od),b=this.cb;b;b=b.w)b.fa=s;for(var d=this.W;d;d=d.w)d.fa=s;for(d=this.ka;d;d=d.w)d.fa=s;for(d=this.cb;d;d=d.w)if(!d.fa&&d.xb&&d.ic()&&d.C!=T){re(c);var e=[];e.push(d);for(d.fa=o;e.length>0;){var b=e.pop(),g=c,f=b;f.Pi=g.bb;g.yb[g.bb++]=f;b.xb||Nd(b,o);if(b.C!=T){for(g=b.W;g;g=g.next)if(!g.Fa.fa&&!g.Fa.jc()&&g.Fa.enabled!=s&&g.Fa.yd&&(f=g.Fa,c.pd[c.Mb++]=f,g.Fa.fa=o,!g.ha.fa))e.push(g.ha),g.ha.fa=o;for(b=
b.ka;b;b=b.next)if(!b.Yb.fa&&b.ha.ic()&&(g=b.Yb,c.dc[c.fb++]=g,b.Yb.fa=o,!b.ha.fa))e.push(b.ha),b.ha.fa=o}}c.ne(a,this.Ji,this.ag)}for(b=this.cb;b;b=b.w)b.xb&&b.ic()&&b.C!=T&&Ce(b);ge(this.Ia)};
Ge.prototype.Kf=function(a){for(var c,b,d=new qe(this.Ia.Md,this.od),e=this.cb;e;e=e.w)e.fa=s,e.c.Ca=0;for(b=this.W;b;b=b.w)b.fa=s,b.Sd=p;for(b=this.ka;b;b=b.w)b.fa=s;for(;;){c=p;b=1;for(e=this.W;e;e=e.w)if(!(e.jc()||e.enabled==s||!e.Sf||(e.G.u.C!=2||!e.G.u.xb)&&(e.N.u.C!=2||!e.N.u.xb))){var g=1;if(e.Sd!=p)g=e.Sd;else{if(e.yd)g=1;else{var f=e.G.u.c.Ca;if(e.G.u.c.Ca<e.N.u.c.Ca)f=e.N.u.c.Ca,e.G.u.c.Ec(f);else if(e.N.u.c.Ca<e.G.u.c.Ca)f=e.G.u.c.Ca,e.N.u.c.Ec(f);var g=e,h=e.G.u.c,i=e.N.u.c;Od.zc.j(g.G.la);
Od.Ac.j(g.N.la);Od.wh=h;Od.xh=i;Od.nj=0.005;var j=Od;vd++;var g=j.zc,h=j.Ac,i=j.wh,l=j.xh;L(i.Ca==l.Ca);L(1-i.Ca>Number.MIN_VALUE);var m=g.M+h.M,j=j.nj,n=0,q=0,t=0;Ad.Ed=0;for(Bd.Ah=s;;){i.jb(Cd,n);l.jb(Dd,n);Bd.zc=g;Bd.Ac=h;Bd.xf=Cd;Bd.yf=Dd;zc(Fd,Ad,Bd);if(Fd.jd<=0){n=1;break}Ed.X(Ad,g,Cd,h,Dd);var r=Ed.Qb(Cd,Dd);if(r<=0){n=1;break}q==0&&(t=r>m?Math.max(m-j,0.75*m):Math.max(r-j,0.02*m));if(r-t<0.5*j){if(q==0){n=1;break}break}var v=n,w=n,O=1;i.jb(Cd,O);l.jb(Dd,O);var J=Ed.Qb(Cd,Dd);if(J>=t){n=1;
break}for(var P=0;;){var z=0,z=P&1?w+(t-r)*(O-w)/(J-r):0.5*(w+O);i.jb(Cd,z);l.jb(Dd,z);var E=Ed.Qb(Cd,Dd);if(Math.abs(E-t)<0.025*j){v=z;break}E>t?(w=z,r=E):(O=z,J=E);P++;yd++;if(P==50)break}zd=Math.max(zd,P);if(v<(1+100*Number.MIN_VALUE)*n)break;n=v;q++;wd++;if(q==1E3)break}xd=Math.max(xd,q);g=n;L(0<=g&&g<=1);g>0&&g<1&&(g=(1-g)*f+g)}e.Sd=g}Number.MIN_VALUE<g&&g<b&&(c=e,b=g)}if(c===p||Ie<b)break;Ke.j(c.G.u.c);Le.j(c.N.u.c);c.G.u.Ec(b);c.N.u.Ec(b);Md(c,this.Ia.Md);c.Sd=p;if(c.jc()||c.enabled==s)c.G.u.c.j(Ke),
c.N.u.c.j(Le),S(c.G.u),S(c.N.u);else if(c.yd){e=c.G.u;if(e.C!=2)e=c.N.u;re(d);c=new Ee;Fe(c,e);for(e.fa=o;c.size>0;)if(e=c,f=e.sg[e.start],e.sg[e.start]=p,e.size--,e.start++,e=f,f=d,g=e,g.Pi=f.bb,f.yb[f.bb++]=g,e.xb||Nd(e,o),e.C==2){for(f=e.W;f;f=f.next){if(d.Mb==32)break;if(!f.Fa.fa&&!f.Fa.jc()&&f.Fa.enabled!=s&&f.Fa.yd&&(g=f.Fa,d.pd[d.Mb++]=g,f.Fa.fa=o,!f.ha.fa))f.ha.C!=T&&(f.ha.Ec(b),Nd(f.ha,o),Fe(c,f.ha)),f.ha.fa=o}for(e=e.ka;e;e=e.next)if(d.fb!=32&&!e.Yb.fa&&e.ha.ic()&&(f=e.Yb,d.dc[d.fb++]=f,
e.Yb.fa=o,!e.ha.fa))e.ha.C!=T&&(e.ha.Ec(b),Nd(e.ha,o),Fe(c,e.ha)),e.ha.fa=o}c=new je;c.hc=s;c.Z=(1-b)*a.Z;c.wb=1/c.Z;c.Ra=0;c.ae=a.ae;c.Yd=a.Yd;d.Kf(c);for(b=0;b<d.bb;b++)if(d.yb[b].fa=s,d.yb[b].xb&&d.yb[b].C==2){Ce(d.yb[b]);for(f=d.yb[b].W;f;f=f.next)f.Fa.Sd=p}for(b=0;b<d.Mb;b++)d.pd[b].fa=s,d.pd[b].Sd=p;for(b=0;b<d.fb;b++)d.dc[b].fa=s;ge(this.Ia)}}};
function Me(a,c,b,d){if(c instanceof Rd)a.Ma.Gh(H(b,c.da),c.M,b.d.a,d);else if(c instanceof N){for(var e=0,g=c.Bg(),c=c.r,f=[],e=0;e<g;e++)f[e]=H(b,c[e]);a.Ma.Hh(f,g,d)}}var Tb=new Hc,Ke=new Gd,Le=new Gd,Ne=new he(0.5,0.8,0.8);function Oe(a){this.Fg=Pe++;this.position=a.ba();this.Ya=0;this.yg=[];this.oe=[];this.Re=[];this.le=[];this.body=p}var Pe=0;function Qe(a,c,b){this.tg=[];this.Ea=[];this.Hj=0;this.qg={};this.ta=a;this.Xa=new F(c.x,c.y);this.ia=new Ge(b,o);this.ia.Ia.bg=this;this.ia.Ia.Md=this;this.top=W(this,new F(this.Xa.x+5,5),new F(this.Xa.x/2,-2.5),s,p,{ub:0});this.bottom=W(this,new F(this.Xa.x+5,5),new F(this.Xa.x/2,this.Xa.y+2.5),s,p,{ub:0});this.left=W(this,new F(5,this.Xa.y+5),new F(-2.5,this.Xa.y/2),s,p,{ub:0});this.right=W(this,new F(5,this.Xa.y+5),new F(this.Xa.x+2.5,this.Xa.y/2),s,p,{ub:0})}x=Qe.prototype;
x.update=function(a,c){Je(this.ia,c,Re,Re);for(var b=this.ia.cb;b;b=b.w)b.Be.R(),b.ng=0;b=this.tg;this.tg=[];if(b.length>0)for(var d=0;d<b.length;d++)b[d].call(this)};x.Wb=function(a,c){if(!a.jc()&&!c.jc())for(var b=0;b<this.Ea.length;b++)if(this.Ea[b].Wb&&!this.Ea[b].Wb(a,c))return s;return Mc.prototype.Wb(a,c)};
x.be=function(a){for(var c=a.G,b=c.u,d=b.object,e=a.N,g=e.u,f=g.object,h=0;h<d.oe.length;h++)d.oe[h](a,d,b,c,f,g,e);for(h=0;h<f.oe.length;h++)f.oe[h](a,f,g,e,d,b,c);for(h=0;h<this.Ea.length;h++)if(this.Ea[h].Gg&&this.Ea[h].Gg(a),a.disabled)a.enabled=s;for(h=0;h<d.Re.length;h++)d.Re[h](a,d,b,c,f,g,e);for(h=0;h<f.Re.length;h++)f.Re[h](a,f,g,e,d,b,c);for(h=0;h<this.Ea.length;h++)this.Ea[h].be&&this.Ea[h].be(a)};
x.zd=function(a){for(var c=0;c<this.Ea.length;c++)this.Ea[c].zd&&this.Ea[c].zd(a);a.disabled=s;a.enabled=o};x.me=function(a,c){if(a.disabled)a.enabled=s;for(var b=0;b<this.Ea.length;b++)this.Ea[b].me&&this.Ea[b].me(a,c)};x.ke=function(a,c){for(var b=a.G,d=b.u,e=d.object,g=a.N,f=g.u,h=f.object,i=0;i<e.le.length;i++)e.le[i](a,c,e,d,b,h,f,g);for(i=0;i<h.le.length;i++)h.le[i](a,c,h,f,g,e,d,b);for(i=0;i<this.Ea.length;i++)this.Ea[i].ke&&this.Ea[i].ke(a,c)};
function X(a,c,b,d){d=d||0;a=Se(a,c,b,o);a.display.Ch=-10+d;return a}function W(a,c,b,d,e,g){e=e||{};e.type=T;return Te(a,c,b,d,{xa:e,nc:g})}function Te(a,c,b,d,e){var g=new N;Lc(g,c.x/2,c.y/2);return a.Ib(c,b,d,g,e)}function Ue(a,c,b){var d=new N,e=new F(c.x/2,c.y/2);Kc(d,[new F(0,e.y),new F(-e.x+0.01,e.y-0.01),new F(-e.x,0),new F(-e.x+0.01,-e.y+0.01),new F(0,-e.y),new F(e.x-0.01,-e.y+0.01),new F(e.x,0),new F(e.x-0.01,e.y-0.01)]);return a.Ib(c,b,o,d,{xa:{Mc:o},nc:{Bc:0}})}
function Ve(a,c){a.ia.sd?a.tg.push(c):c.apply(a)}x.Ib=function(a,c,b,d,e){var g=Se(this,a,c,b);Ve(this,function(){var a=e,a=a||{},b=We(a.xa,Xe),i=new Id;i.type=b.type;i.Ya=b.Ya;i.Mc=b.Mc;i.position=c;b=He(this.ia,i);a=Ye(b,d,a);g.body=b;g.Ze=a;b.object=g});return g};function Se(a,c,b,d){b=new Oe(b);a.qg[b.Fg]=b;d!==s&&ec(b,c);return b}
function Ye(a,c,b){var b=b||{},d=We(b.nc,Ze),b=new ic;b.te=d.te;b.ub=d.ub;b.Bc=d.Bc;b.cf=d.cf;b.shape=c;L(!a.Wa.sd);c=new ve;c.Pb(a,a.e,b);a.ac&ze&&c.de(a.Wa.Ia.nd,a.e);c.w=a.rc;a.rc=c;a.hh++;c.u=a;if(c.hf>0&&(a.q=0,a.l=0,a.pc=0,a.t=0,a.c.p.R(),!(a.C==T||a.C==1))){b=new F(0,0);for(d=a.rc;d;d=d.w)if(d.hf!=0){var e=d.Ag();a.q+=e.Xc;b.x+=e.fd.x*e.Xc;b.y+=e.fd.y*e.Xc;a.pc+=e.ge}a.q>0?(a.l=1/a.q,b.x*=a.l,b.y*=a.l):(a.q=1,a.l=1);a.pc>0&&(a.ac&ye)==0?(a.pc-=a.q*(b.x*b.x+b.y*b.y),a.pc*=a.Mi,L(a.pc>0),a.t=
1/a.pc):(a.pc=0,a.t=0);d=a.c.g.ba();a.c.p.m(b);a.c.Da.m(H(a.e,a.c.p));a.c.g.m(a.c.Da);a.h.x+=a.s*-(a.c.g.y-d.y);a.h.y+=a.s*+(a.c.g.x-d.x)}a.Wa.kg=o;return c}
function $e(a,c){Ve(a,function(){if(c.body){var a=this.ia,d=c.body;L(!a.sd);for(var e=d.ka;e;){var g=e,e=e.next;a.jf&&a.jf.xj(g.Yb);var f=a,h=g.Yb,i=h.eh;if(h.Aa)h.Aa.w=h.w;if(h.w)h.w.Aa=h.Aa;if(h==f.ka)f.ka=h.w;var g=h.F,j=h.J;Nd(g,o);Nd(j,o);if(h.Ua.oa)h.Ua.oa.next=h.Ua.next;if(h.Ua.next)h.Ua.next.oa=h.Ua.oa;if(h.Ua==g.ka)g.ka=h.Ua.next;h.Ua.oa=p;h.Ua.next=p;if(h.Va.oa)h.Va.oa.next=h.Va.next;if(h.Va.next)h.Va.next.oa=h.Va.oa;if(h.Va==j.ka)j.ka=h.Va.next;h.Va.oa=p;h.Va.next=p;f.fb--;if(!i)for(f=
j.W;f;){if(f.ha==g)f.Fa.Ye=o;f=f.next}}for(e=d.gf;e;)f=e,e=e.Gj,f.yj.vj(d);for(e=d.W;e;)f=e,e=e.next,a.Ia.Gc(f.Fa);d.W=p;for(e=d.rc;e;)f=e,e=e.w,a.jf&&a.jf.wj(f),f.ee(a.Ia.nd),f.Gc();d.rc=p;d.hh=0;if(d.Aa)d.Aa.w=d.w;if(d.w)d.w.Aa=d.Aa;if(d==a.cb)a.cb=d.w;a.bb--}delete this.qg[c.Fg]})}function af(a,c,b){Ve(a,function(){if(c.body){var a=c.body;Ae(a,b,a.Tb())}else c.position=b.ba()})}var Re=10,Ze={te:0.1,ub:0.6,Bc:0.01,cf:s},Xe={Mc:s,Ya:0,type:2};
function We(a,c){var a=a||{},b={},d;for(d in c)b[d]=a[d]===k||a[d]===p?c[d]:a[d];return b};function bf(a){this.ta=a}function cf(a,c,b,d,e){var g=new F(4,4);ec(c.body,b);G(c,"../external-resources/graphics/urbansquall_tileset/characters/princess_AP.png",d);c.display.wf=new Ub("../external-resources/graphics/urbansquall_tileset/characters/princess_AP.png",d,g,e);c.display.Xb={};c.display.Xb.Cj=e;c.display.Xb.oi=4;c.display.Xb.Nc=0;c.display.Xb.kb={n:df,x:df,y:ef};a=a.ta.Ng;c.yg.push(ff);Ia(a.xg,c)}var df=0,ef=2;
function ff(a,c){var b=this.display.Xb;b.Nc+=c;var d=new F(1,1),e=this.body.h,g=Math.abs(e.x),f=Math.abs(e.y);if(f<0.01||g>=f){if(e.x>0.01){if(b.kb.x=df,b.kb.n!=df)b.kb.n=df,b.Nc=0}else if(e.x<-0.01){if(b.kb.x=1,b.kb.n!=1)b.kb.n=1,b.Nc=0}else b.Nc=0;d.y=b.kb.x==1?4:2}else if(e.y>0.01){b.kb.y=3;if(b.kb.n!=3)b.kb.n=3,b.Nc=0;d.y=3}else{b.kb.y=ef;if(b.kb.n!=ef)b.kb.n=ef,b.Nc=0;d.y=1}d.x=b.Nc==0?1:Math.floor(b.Nc*b.oi);b=this.display.wf;b.nb=d.ba();b.nb.x%=b.vf.x;b.nb.y%=b.vf.y;if(b.nb.x===0)b.nb.x=b.vf.x;
if(b.nb.y===0)b.nb.y=b.vf.y};function gf(){this.xg=[]};function hf(a,c,b,d,e,g,f){this.$c=a;this.paused=s;this.Pe=0;this.Ng=new gf;this.Xb=new bf(this);this.o=new Qe(this,b,d);this.viewport=new Zb(this,c,g,e,f)}function jf(a){if(a.$g===p)a.$g=new Date;var c=new Date-a.$g>=5E3;Hb>0&&!c?setTimeout(function(){jf(a)},50):(c&&alert("It appears to be taking a long time to load the game's images. You may experience some invisible objects until they finish loading, but the game will now start."),a.start())}
hf.prototype.update=function(a,c){if(this.paused)this.Pe=0,bc(this.viewport.sh),this.$c.Qe&&this.$c.Qe(a,c);else{this.$c.Ke&&this.$c.Ke(a,c);for(var b=this.Ng,d=0;d<b.xg.length;d++)for(var e=b.xg[d],g=0;g<e.yg.length;g++)e.yg[g].apply(e,[a,c]);this.Pe+=c;for(b=a-this.Pe;this.Pe>=0.015;)this.Pe-=0.015,b+=0.015,this.$c.hj&&this.$c.hj(b,0.015),this.o.update(b,0.015);this.$c.Je&&this.$c.Je(a,c);dc(this.viewport.sh);b=this.viewport;b.display.style.visibility="hidden";if(b.df.x!=b.ya.x||b.df.y!=b.ya.y){b.df.x=
b.ya.x;b.df.y=b.ya.y;if(b.ab!==p)b.ab.style.left="-"+(b.ya.x*b.scale-b.Cb.x/2)+"px",b.ab.style.top="-"+(b.ya.y*b.scale-b.Cb.y/2)+"px";b.display.style.left="-"+(b.ya.x*b.scale-b.Cb.x/2)+"px";b.display.style.top="-"+(b.ya.y*b.scale-b.Cb.y/2)+"px";d=b.Af;e=b.ya;g=Wb(d);d.lowerBound.Lf(g);d.upperBound.Lf(g);d.lowerBound.Ob(e);d.upperBound.Ob(e)}var d=[],f;for(f in b.mc)d[f]=b.mc[f];f=b.Af;var e=b.ta.o.qg,h;for(h in e){var i=e[h];if(i.display){var j=i.display,l=i.qi(b.ya),m=j.size;j.L.lowerBound.j(l.x-
m.x,l.y-m.y);j.L.upperBound.j(l.x+m.x,l.y+m.y);if(f.Dd(j.L)){if(j.ad==p)j.ad=fc++;delete d[j.ad];if(b.mc[j.ad]==p)b.mc[j.ad]=document.createElement("span"),b.mc[j.ad].className="gameObject",b.mc[j.ad].style.zIndex=100+(j.Ch||0),b.display.appendChild(b.mc[j.ad]);var g=b.mc[j.ad],n=Jb(g),q=b.scale!=n.scale;n.scale=b.scale;var t=l.x-m.x/2;if(q||n.left!=t)n.left=t,g.style.left=t*b.scale+"px";l=l.y-m.y/2;if(q||n.top!=l)n.top=l,g.style.top=l*b.scale+"px";l=m.x;if(q||n.width!=l)n.width=l,g.style.width=l*
b.scale+"px";m=m.y;if(q||n.height!=m)n.height=m,g.style.height=m*b.scale+"px";i=i.pi();if(n.rotation!=i)n.rotation=i,g.style.webkitTransform="rotate("+i+"rad)";if(j.wf!=p){j=j.wf;n=s;i=Jb(g);if(i.Zh!=j.url)i.Zh=j.url,g.style.backgroundImage="url("+j.url+")",g.style.backgroundColor="transparent",n=o;else if(i.$h!=j.nb.x||i.ai!=j.nb.y)n=o;if(n)i.$h=j.nb.x,i.ai=j.nb.y,g.style.backgroundPosition=(j.rh.x+(j.nb.x-1)*j.yh.x)*-1+"px "+(j.rh.y+(j.nb.y-1)*j.yh.y)*-1+"px"}}}}for(var r in d)b.display.removeChild(d[r]),
delete b.mc[r];if(b.ab!==p){b.ab.style.visibility="hidden";h=b.ta.o.ia;if(h.Ma!==p){h.Ma.Vi.ri.clear();r=h.Ma.gh;if(r&Lb){e=new he(0.5,0.5,0.3);g=new he(0.5,0.9,0.5);j=new he(0.5,0.5,0.9);n=new he(0.6,0.6,0.6);i=new he(0.9,0.7,0.7);for(d=h.cb;d;d=d.w)for(f=d.rc;f;f=f.w)q=f.la,d.ic()?d.C==T?Me(h,q,d.e,g):d.C==1?Me(h,q,d.e,j):d.xb?Me(h,q,d.e,i):Me(h,q,d.e,n):Me(h,q,d.e,e)}if(r&Mb)for(d=h.ka;d;d=d.w)f=h,e=d,e instanceof ue?f.Ma.Hc(e.Rb(),e.Sb(),Ne):e instanceof Pc?(f.Ma.Hc(Rc(e),e.Rb(),Ne),f.Ma.Hc(Sc(e),
e.Sb(),Ne),f.Ma.Hc(Rc(e),Sc(e),Ne)):(e.F!=f.gg&&f.Ma.Hc(e.F.e.position,e.Rb(),Ne),f.Ma.Hc(e.Rb(),e.Sb(),Ne),e.J!=f.gg&&f.Ma.Hc(e.J.e.position,e.Sb(),Ne));if(r&Qb)for(d=h.gf;d;d=d.w)d.sj(h.Ma);if(r&Ob){d=new he(0.3,0.9,0.9);for(f=h.Ia.W;f;f=f.w)h.Ma.Hc(Wb(f.G.Oc),Wb(f.N.Oc),d)}if(r&Nb){e=new he(0,0,0.8);for(d=h.cb;d;d=d.w)if(d.ic())for(f=d.rc;f;f=f.w)g=h.Ia.nd.Ad(f.Uc),h.Ma.Fh([new F(g.lowerBound.x,g.lowerBound.y),new F(g.upperBound.x,g.lowerBound.y),new F(g.upperBound.x,g.upperBound.y),new F(g.lowerBound.x,
g.upperBound.y)],e)}if(r&Pb)for(d=h.cb;d;d=d.w)Tb.d=d.e.d,Tb.position=U(d),h.Ma.Ih()}b.ab.style.visibility=""}b.display.style.visibility=""}};hf.prototype.start=function(){dc(this.viewport.Zf);Ia(kf,this);lf||(mf=document.getElementById("fps"),lf=o,nf())};var lf=s,kf=[],of=60,pf=p,mf=p;
function nf(a){a==p&&(a=(new Date).getTime());var c=0;pf!==p?c=(a-pf)/1E3:pf=a;if(c>0){c>0.2&&(c=0.2);if(mf){for(var b=0,d=0,e=0;e<kf.length;e++)b+=kf[e].o.ia.bb,d+=kf[e].o.ia.Ia.Mb;e=1/c;of=of*0.99+e*0.01;mf.innerHTML=Math.round(e)+" FPS<br>"+Math.round(of)+" Rolling FPS<br>"+b+" World Objects<br>"+d+" Active Contacts"}pf=a;for(e=0;e<kf.length;e++)kf[e].update(a,c);for(var g in yb)yb[g].Bh=o;tb=sb;vb=ub;xb=wb}gc(nf,document.body)};function qf(){this.type=0;this.Y=this.V=p;this.Rf=s};function rf(){qf.call(this);this.$e=new F(0,0);this.af=new F(0,0);this.Sa=new F(0,0);this.Ta=new F(0,0);this.type=4;this.$e.j(-1,1);this.af.j(1,1);this.Sa.j(-1,0);this.Ta.j(1,0);this.ph=this.Yf=this.oh=this.Xf=0;this.Yc=1;this.Rf=o}A(rf,qf);
rf.prototype.X=function(a,c,b,d,e,g,f){f===k&&(f=0);this.V=a;this.Y=c;this.$e.m(b);this.af.m(d);this.Sa=qc(this.V.e,e);this.Ta=qc(this.Y.e,g);a=e.x-b.x;b=e.y-b.y;this.Xf=Math.sqrt(a*a+b*b);b=g.x-d.x;d=g.y-d.y;this.Yf=Math.sqrt(b*b+d*d);this.Yc=f;f=this.Xf+this.Yc*this.Yf;this.oh=f-this.Yc*Qc;this.ph=(f-Qc)/this.Yc};rf.prototype.Pb=function(){return new Pc(this)};function Y(a,c,b){this.x=a;this.y=c;this.k=b}x=Y.prototype;x.R=function(){this.k=this.y=this.x=0};x.j=function(a,c,b){this.x=a;this.y=c;this.k=b};x.m=function(a){this.x=a.x;this.y=a.y;this.k=a.k};x.Eb=function(){return new Y(-this.x,-this.y,-this.k)};x.Dg=function(){this.x=-this.x;this.y=-this.y;this.k=-this.k};x.ba=function(){return new Y(this.x,this.y,this.k)};x.Ob=function(a){this.x+=a.x;this.y+=a.y;this.k+=a.k};x.Lf=function(a){this.x-=a.x;this.y-=a.y;this.k-=a.k};
x.kc=function(a){this.x*=a;this.y*=a;this.k*=a};function sf(a,c,b){this.a=new Y(0,0,0);this.b=new Y(0,0,0);this.I=new Y(0,0,0);a&&this.a.m(a);c&&this.b.m(c);b&&this.I.m(b)}x=sf.prototype;x.ba=function(){return new sf(this.a,this.b,this.I)};x.Bd=function(a){this.a.m(a.a);this.b.m(a.b);this.I.m(a.I)};x.Bf=function(a){this.a.x+=a.a.x;this.a.y+=a.a.y;this.a.k+=a.a.k;this.b.x+=a.b.x;this.b.y+=a.b.y;this.b.k+=a.b.k;this.I.x+=a.I.x;this.I.y+=a.I.y;this.I.k+=a.I.k};x.Ue=function(){this.a.j(1,0,0);this.b.j(0,1,0);this.I.j(0,0,1)};
x.R=function(){this.a.j(0,0,0);this.b.j(0,0,0);this.I.j(0,0,0)};function tf(a,c,b,d){var e=a.a.x,g=a.b.x,f=a.a.y,a=a.b.y,h=e*a-g*f;h!=0&&(h=1/h);c.x=h*(a*b-g*d);c.y=h*(e*d-f*b);return c}function uf(a,c,b,d,e){var g=a.a.x,f=a.a.y,h=a.a.k,i=a.b.x,j=a.b.y,l=a.b.k,m=a.I.x,n=a.I.y,a=a.I.k,q=g*(j*a-l*n)+f*(l*m-i*a)+h*(i*n-j*m);q!=0&&(q=1/q);c.x=q*(b*(j*a-l*n)+d*(l*m-i*a)+e*(i*n-j*m));c.y=q*(g*(d*a-e*n)+f*(e*m-b*a)+h*(b*n-d*m));c.k=q*(g*(j*e-l*d)+f*(l*b-i*e)+h*(i*d-j*b));return c};function vf(a){Q.call(this,a);this.A=new F(0,0);this.B=new F(0,0);this.Tc=new F(0,0);this.kf=new F(0,0);this.D=new F(0,0);this.qa=new F(0,0);this.S=new sf;this.i=new Y(0,0,0);this.A.m(a.Sa);this.B.m(a.Ta);this.Tc.m(a.$f);this.kf.x=-this.Tc.y;this.kf.y=this.Tc.x;this.Ui=a.Zc;this.i.R();this.ua=this.ec=0;this.Od=a.bh;this.Td=a.zh;this.Si=a.Zi;this.jg=a.pg;this.qd=a.Xe;this.Ae=a.Uf;this.ca=0;this.D.R();this.qa.R()}A(vf,Q);x=vf.prototype;x.Rb=function(){return R(this.F,this.A)};
x.Sb=function(){return R(this.J,this.B)};function wf(a){var c=a.F,b=a.J,d=R(c,a.A),b=R(b,a.B),a=oc(c.e.d,a.Tc);return a.x*(b.x-d.x)+a.y*(b.y-d.y)}
x.Ub=function(a){var c=this.F,b=this.J,d,e=0;this.Ee.m(c.c.p);this.Fe.m(b.c.p);var g=c.jb();b.jb();d=c.e.d;var f=this.A.x-this.Ee.x,h=this.A.y-this.Ee.y,e=d.a.x*f+d.b.x*h,h=d.a.y*f+d.b.y*h,f=e;d=b.e.d;var i=this.B.x-this.Fe.x,j=this.B.y-this.Fe.y,e=d.a.x*i+d.b.x*j,j=d.a.y*i+d.b.y*j,i=e;d=b.c.g.x+i-c.c.g.x-f;e=b.c.g.y+j-c.c.g.y-h;this.Ab=c.l;this.Bb=b.l;this.Pc=c.t;this.Qc=b.t;this.D.m(oc(g.d,this.Tc));this.Ka=(d+f)*this.D.y-(e+h)*this.D.x;this.La=i*this.D.y-j*this.D.x;this.ec=this.Ab+this.Bb+this.Pc*
this.Ka*this.Ka+this.Qc*this.La*this.La;if(this.ec>Number.MIN_VALUE)this.ec=1/this.ec;this.qa.m(oc(g.d,this.kf));this.Na=(d+f)*this.qa.y-(e+h)*this.qa.x;this.Oa=i*this.qa.y-j*this.qa.x;g=this.Ab;f=this.Bb;h=this.Pc;i=this.Qc;this.S.a.x=g+f+h*this.Na*this.Na+i*this.Oa*this.Oa;this.S.a.y=h*this.Na+i*this.Oa;this.S.a.k=h*this.Na*this.Ka+i*this.Oa*this.La;this.S.b.x=this.S.a.y;this.S.b.y=h+i;this.S.b.k=h*this.Ka+i*this.La;this.S.I.x=this.S.a.k;this.S.I.y=this.S.b.k;this.S.I.k=g+f+h*this.Ka*this.Ka+i*
this.La*this.La;if(this.qd)if(d=this.D.x*d+this.D.y*e,Math.abs(this.Td-this.Od)<0.01)this.ca=3;else if(d<=this.Od){if(this.ca!=1)this.ca=1,this.i.k=0}else if(d>=this.Td){if(this.ca!=2)this.ca=2,this.i.k=0}else this.ca=0,this.i.k=0;else this.ca=0;if(this.Ae==s)this.ua=0;a.hc?(this.i.x*=a.Ra,this.i.y*=a.Ra,this.ua*=a.Ra,a=this.i.x*this.qa.x+(this.ua+this.i.k)*this.D.x,d=this.i.x*this.qa.y+(this.ua+this.i.k)*this.D.y,e=this.i.x*this.Na+this.i.y+(this.ua+this.i.k)*this.Ka,g=this.i.x*this.Oa+this.i.y+
(this.ua+this.i.k)*this.La,c.h.x-=this.Ab*a,c.h.y-=this.Ab*d,c.s-=this.Pc*e,b.h.x+=this.Bb*a,b.h.y+=this.Bb*d,b.s+=this.Qc*g):(this.i.R(),this.ua=0)};
x.Hb=function(a){var c=this.F,b=this.J,d=c.h,e=c.s,g=b.h,f=b.s,h=0,i=0,j=0,l=0;if(this.Ae&&this.ca!=3)l=this.ec*(this.jg-(this.D.x*(g.x-d.x)+this.D.y*(g.y-d.y)+this.La*f-this.Ka*e)),h=this.ua,i=a.Z*this.Si,this.ua=K(this.ua+l,-i,i),l=this.ua-h,h=l*this.D.x,i=l*this.D.y,j=l*this.Ka,l*=this.La,d.x-=this.Ab*h,d.y-=this.Ab*i,e-=this.Pc*j,g.x+=this.Bb*h,g.y+=this.Bb*i,f+=this.Qc*l;i=this.qa.x*(g.x-d.x)+this.qa.y*(g.y-d.y)+this.Oa*f-this.Na*e;j=f-e;if(this.qd&&this.ca!=0){a=this.D.x*(g.x-d.x)+this.D.y*
(g.y-d.y)+this.La*f-this.Ka*e;h=this.i.ba();a=uf(this.S,new Y(0,0,0),-i,-j,-a);this.i.Ob(a);if(this.ca==1)this.i.k=Math.max(this.i.k,0);else if(this.ca==2)this.i.k=Math.min(this.i.k,0);i=tf(this.S,new F(0,0),-i-(this.i.k-h.k)*this.S.I.x,-j-(this.i.k-h.k)*this.S.I.y);i.x+=h.x;i.y+=h.y;this.i.x=i.x;this.i.y=i.y;a.x=this.i.x-h.x;a.y=this.i.y-h.y;a.k=this.i.k-h.k;h=a.x*this.qa.x+a.k*this.D.x;i=a.x*this.qa.y+a.k*this.D.y;j=a.x*this.Na+a.y+a.k*this.Ka;l=a.x*this.Oa+a.y+a.k*this.La}else a=tf(this.S,new F(0,
0),-i,-j),this.i.x+=a.x,this.i.y+=a.y,h=a.x*this.qa.x,i=a.x*this.qa.y,j=a.x*this.Na+a.y,l=a.x*this.Oa+a.y;d.x-=this.Ab*h;d.y-=this.Ab*i;e-=this.Pc*j;g.x+=this.Bb*h;g.y+=this.Bb*i;f+=this.Qc*l;c.h.m(d);c.s=e;b.h.m(g);b.s=f};
x.Gb=function(){var a=this.F,c=this.J,b=a.c.g,d=a.c.n,e=c.c.g,g=c.c.n,f,h=0,i=0,j=0,l=h=f=0,m=0,i=s,n=0,q=kc(d),t=kc(g);f=q;var m=this.A.x-this.Ee.x,r=this.A.y-this.Ee.y,h=f.a.x*m+f.b.x*r,r=f.a.y*m+f.b.y*r,m=h;f=t;t=this.B.x-this.Fe.x;j=this.B.y-this.Fe.y;h=f.a.x*t+f.b.x*j;j=f.a.y*t+f.b.y*j;t=h;f=e.x+t-b.x-m;h=e.y+j-b.y-r;if(this.qd){this.D=oc(q,this.Tc);this.Ka=(f+m)*this.D.y-(h+r)*this.D.x;this.La=t*this.D.y-j*this.D.x;var v=this.D.x*f+this.D.y*h;Math.abs(this.Td-this.Od)<0.01?(n=K(v,-0.2,0.2),
l=Math.abs(v),i=o):v<=this.Od?(n=K(v-this.Od+0.005,-0.2,0),l=this.Od-v,i=o):v>=this.Td&&(n=K(v-this.Td+0.005,0,0.2),l=v-this.Td,i=o)}this.qa=oc(q,this.kf);this.Na=(f+m)*this.qa.y-(h+r)*this.qa.x;this.Oa=t*this.qa.y-j*this.qa.x;q=new Y(0,0,0);r=this.qa.x*f+this.qa.y*h;t=g-d-this.Ui;l=Math.max(l,Math.abs(r));m=Math.abs(t);i?(i=this.Ab,j=this.Bb,f=this.Pc,h=this.Qc,this.S.a.x=i+j+f*this.Na*this.Na+h*this.Oa*this.Oa,this.S.a.y=f*this.Na+h*this.Oa,this.S.a.k=f*this.Na*this.Ka+h*this.Oa*this.La,this.S.b.x=
this.S.a.y,this.S.b.y=f+h,this.S.b.k=f*this.Ka+h*this.La,this.S.I.x=this.S.a.k,this.S.I.y=this.S.b.k,this.S.I.k=i+j+f*this.Ka*this.Ka+h*this.La*this.La,uf(this.S,q,-r,-t,-n)):(i=this.Ab,j=this.Bb,f=this.Pc,h=this.Qc,n=f*this.Na+h*this.Oa,v=f+h,this.S.a.j(i+j+f*this.Na*this.Na+h*this.Oa*this.Oa,n,0),this.S.b.j(n,v,0),n=tf(this.S,new F(0,0),-r,-t),q.x=n.x,q.y=n.y,q.k=0);n=q.x*this.qa.x+q.k*this.D.x;i=q.x*this.qa.y+q.k*this.D.y;r=q.x*this.Na+q.y+q.k*this.Ka;q=q.x*this.Oa+q.y+q.k*this.La;b.x-=this.Ab*
n;b.y-=this.Ab*i;d-=this.Pc*r;e.x+=this.Bb*n;e.y+=this.Bb*i;g+=this.Qc*q;a.c.n=d;c.c.n=g;S(a);S(c);return l<=0.005&&m<=rc};function xf(){qf.call(this);this.Sa=new F(0,0);this.Ta=new F(0,0);this.$f=new F(0,0);this.type=2;this.$f.j(1,0);this.Zc=0;this.Xe=s;this.zh=this.bh=0;this.Uf=s;this.pg=this.Zi=0}A(xf,qf);xf.prototype.X=function(a,c,b,d){this.V=a;this.Y=c;this.Sa=qc(this.V.e,b);this.Ta=qc(this.Y.e,b);this.$f=pc(this.V.e.d,d);this.Zc=this.Y.Tb()-this.V.Tb()};xf.prototype.Pb=function(){return new vf(this)};function yf(a,c,b){this.execute=a;this.name=c;this.ni=b};function $(a){this.ta=a;this.ta.o.Ea.push(this)}
$.prototype.sb=function(a,c){var b=Ue(this.ta.o,a,c);$.xi(b);$.zi(b);$.yi(b);var d=new N,e=new F(a.x/2,a.y/2);Jc(d,[new F(-e.x+0.01,e.y-0.01),new F(-e.x-0.01,0),new F(-e.x+0.01,-e.y+0.01),new F(e.x-0.01,-e.y+0.01),new F(e.x+0.01,0),new F(e.x-0.01,e.y-0.01)]);b.zj=Ye(b.body,d,{nc:{ub:0}});b.wa={};b.wa.rf=new yf(function(){b.f.oc.Ai()},"Move Up",o);b.wa.qf=new yf(u(),"Move Down",o);b.wa.Ud=new yf(function(){b.f.Wd.Ud()},"Move Left",o);b.wa.Vd=new yf(function(){b.f.Wd.Vd()},"Move Right",o);return b};
(function(a){a.qb=0.1;a.rj=new F(0,9.8);a.Fc={Se:new F(0,9.8),Kh:1.5,Eg:8,Oh:1};a.Vb={Eh:1,Jh:2,Mh:4,qj:8,zg:16,Cg:32,Df:64};a.Lh={Nh:1,pj:2,tj:4};a.U={Cd:1,bd:2,pb:4,cd:8};a.Wf=function(c,b){c.f=c.f||{};c.f.type|=a.Vb.Eh;c.f.We={ej:b&a.U.Cd,bj:b&a.U.pb,cj:b&a.U.bd,dj:b&a.U.cd};c.oe.push(function(b,c,g,f,h,i,j){if(!b.disabled)if(b.disabled=o,g=new ie,Ld(b,g),g=g.O,b.G==j&&(g=g.Eb()),!c.f.We.ej&&g.y<-a.qb)b.disabled=s;else if(!c.f.We.bj&&g.y>a.qb)b.disabled=s;else if(!c.f.We.dj&&g.x>a.qb)b.disabled=
s;else if(!c.f.We.cj&&g.x<-a.qb)b.disabled=s})};a.xi=function(c){var b=$.Fc.Eg;c.f=c.f||{};c.f.type|=a.Vb.Jh;c.f.oc={ld:[],speed:b,Ai:function(){var b=c.f.oc.ld;if(b.length>0){var e=c.body.q*c.f.oc.speed*a.Fc.Kh,g=U(c.body),f=c.body.h;f.y=0;var h=c.body;h.C!=T&&h.h.m(f);Be(c.body,new F(0,-e),g);for(f=0;f<b.length;f++)Be(b[f].u,new F(0,e/b.length),g)}}};c.le.push(function(a,b,c,f,h,i,j,l){if(!a.disabled)if(b=new ie,Ld(a,b),b=b.O,a.G==l&&(b=b.Eb()),b.y>0.5){if(!(Ha(c.f.oc.ld,l)>=0))Ia(c.f.oc.ld,l),
a.xd=a.xd||[],Ia(a.xd,c)}else Ha(c.f.oc.ld,l)>=0&&(Ja(c.f.oc.ld,l),Ja(a.xd,c))})};a.zi=function(c){var b=$.Fc.Eg,d=$.Fc.Oh;c.f=c.f||{};c.f.type|=a.Vb.Mh;c.f.Wd={Mg:d,speed:b,Vd:function(){var a=c.body.h,a=Math.min(a.x+c.f.Wd.Mg,c.f.Wd.speed)-a.x;a>0&&Be(c.body,new F(c.body.q*a,0),U(c.body))},Ud:function(){var a=c.body.h,a=Math.max(a.x-c.f.Wd.Mg,-c.f.Wd.speed)-a.x;a<0&&Be(c.body,new F(c.body.q*a,0),U(c.body))}}};a.Hd=function(c,b,d,e){c.f=c.f||{};c.f.type|=a.Vb.Df;c.f.v=c.f.v||{};if(d&a.U.Cd)c.f.v.Vf=
o,c.f.v.Ne=c.f.v.Ne||[],c.f.v.Ne.push(b);if(d&a.U.pb)c.f.v.Vf=o,c.f.v.pe=c.f.v.pe||[],c.f.v.pe.push(b);if(d&a.U.bd)c.f.v.Vf=o,c.f.v.we=c.f.v.we||[],c.f.v.we.push(b);if(d&a.U.cd)c.f.v.Vf=o,c.f.v.Le=c.f.v.Le||[],c.f.v.Le.push(b);if(e&a.U.Cd)c.f.v.bf=o,c.f.v.Oe=c.f.v.Oe||[],c.f.v.Oe.push(b);if(e&a.U.pb)c.f.v.bf=o,c.f.v.qe=c.f.v.qe||[],c.f.v.qe.push(b);if(e&a.U.bd)c.f.v.bf=o,c.f.v.xe=c.f.v.xe||[],c.f.v.xe.push(b);if(e&a.U.cd)c.f.v.bf=o,c.f.v.Me=c.f.v.Me||[],c.f.v.Me.push(b)};a.wi=function(c,b){c.f=c.f||
{};c.f.type|=a.Vb.zg;c.f.Tf={jj:b,filter:0}};a.yi=function(c){var b=$.Lh.Nh;c.f=c.f||{};c.f.type|=a.Vb.Cg;c.f.Di={filter:b}};a.prototype.Wb=p;a.prototype.Gg=p;a.prototype.be=function(a){if(!a.disabled){var b=a.G,d=b.u.object,e=a.N,g=e.u.object;d&&g&&(d.f&&this.Hg(a,d,g,e),g.f&&this.Hg(a,g,d,b))}};a.prototype.Hg=function(c,b,d,e){if(b.f.type&a.Vb.Df){var g=new ie;Ld(c,g);g=g.O;c.G==e&&(g=g.Eb());if(g.y<-a.qb&&b.f.v.Ne)for(e=0;e<b.f.v.Ne.length;e++)b.f.v.Ne[e](c);else if(g.y>a.qb&&b.f.v.pe)for(e=0;e<
b.f.v.pe.length;e++)b.f.v.pe[e](c);if(g.x>a.qb&&b.f.v.we)for(e=0;e<b.f.v.we.length;e++)b.f.v.we[e](c);else if(g.x<-a.qb&&b.f.v.Le)for(e=0;e<b.f.v.Le.length;e++)b.f.v.Le[e](c)}b.f.type&a.Vb.zg&&d.f&&d.f.type&a.Vb.Cg&&(b.f.Tf.filter==0||b.f.Tf.filter&d.f.Di.filter)&&af(this.ta.o,d,b.f.Tf.jj)};a.prototype.zd=function(a){if(a.xd){for(var b=0;b<a.xd.length;b++){var d=a.xd[b];Ja(d.f.oc.ld,a.G);Ja(d.f.oc.ld,a.N)}a.xd=p}if(!a.disabled){var b=a.G,d=b.u.object,e=a.N,g=e.u.object;d&&g&&(d.f&&this.Ig(a,d,e),
g.f&&this.Ig(a,g,b))}};a.prototype.Ig=function(c,b,d){if(b.f.type&a.Vb.Df&&b.f.v.bf){var e=new ie;Ld(c,e);e=e.O;c.G==d&&(e=e.Eb());if(e.y<-a.qb&&b.f.v.Oe)for(d=0;d<b.f.v.Oe.length;d++)b.f.v.Oe[d](c);else if(e.y>a.qb&&b.f.v.qe)for(d=0;d<b.f.v.qe.length;d++)b.f.v.qe[d](c);if(e.x>a.qb&&b.f.v.xe)for(d=0;d<b.f.v.xe.length;d++)b.f.v.xe[d](c);else if(e.x<-a.qb&&b.f.v.Me)for(d=0;d<b.f.v.Me.length;d++)b.f.v.Me[d](c)}};a.prototype.me=p;a.prototype.ke=p;a.prototype.$a=function(a,b){return W(this.ta.o,a,b,o)};
a.prototype.Lc=function(c,b,d){c=W(this.ta.o,c,b,o,p,p);if(d===k||d===p)d=a.U.pb|a.U.bd|a.U.cd;a.Wf(c,d);return c};a.prototype.vi=function(c,b){var d=this;a.Hd(c,function(){$e(d.ta.o,c)},b,p)};a.prototype.se=function(c,b){var d,e=W(this.ta.o,c,b,o,p,p);if(d===k||d===p)d=a.U.pb;this.vi(e,d);return e};a.prototype.di=function(c,b,d){c=W(this.ta.o,c,b,o,p,p);a.wi(c,d);return c}})($);function zf(){qf.call(this);this.Sa=new F(0,0);this.Ta=new F(0,0);this.type=3;this.length=1;this.Ug=this.Yg=0}A(zf,qf);zf.prototype.X=function(a,c,b,d){this.V=a;this.Y=c;this.Sa.m(qc(this.V.e,b));this.Ta.m(qc(this.Y.e,d));a=d.x-b.x;b=d.y-b.y;this.length=Math.sqrt(a*a+b*b);this.Ug=this.Yg=0};zf.prototype.Pb=function(){return new ue(this)};function Af(a){Q.call(this,a);this.Rc=new F(0,0);this.Sc=new F(0,0);this.i=new Y(0,0,0);this.q=new sf;this.Rc.m(a.Sa);this.Sc.m(a.Ta);this.He=a.Zc}A(Af,Q);x=Af.prototype;x.Rb=function(){return R(this.F,this.Rc)};x.Sb=function(){return R(this.J,this.Sc)};
x.Ub=function(a){var c,b=0,d=this.F,e=this.J;c=d.e.d;var g=this.Rc.x-d.c.p.x,f=this.Rc.y-d.c.p.y,b=c.a.x*g+c.b.x*f,f=c.a.y*g+c.b.y*f,g=b;c=e.e.d;var h=this.Sc.x-e.c.p.x,i=this.Sc.y-e.c.p.y,b=c.a.x*h+c.b.x*i,i=c.a.y*h+c.b.y*i,h=b;c=d.l;var b=e.l,j=d.t,l=e.t;this.q.a.x=c+b+f*f*j+i*i*l;this.q.b.x=-f*g*j-i*h*l;this.q.I.x=-f*j-i*l;this.q.a.y=this.q.b.x;this.q.b.y=c+b+g*g*j+h*h*l;this.q.I.y=g*j+h*l;this.q.a.k=this.q.I.x;this.q.b.k=this.q.I.y;this.q.I.k=j+l;a.hc?(this.i.x*=a.Ra,this.i.y*=a.Ra,this.i.k*=
a.Ra,d.h.x-=c*this.i.x,d.h.y-=c*this.i.y,d.s-=j*(g*this.i.y-f*this.i.x+this.i.k),e.h.x+=b*this.i.x,e.h.y+=b*this.i.y,e.s+=l*(h*this.i.y-i*this.i.x+this.i.k)):this.i.R()};
x.Hb=function(){var a,c=0,b=this.F,d=this.J,e=b.h,g=b.s,f=d.h,h=d.s,i=b.l,j=d.l,l=b.t,m=d.t;a=b.e.d;var n=this.Rc.x-b.c.p.x,q=this.Rc.y-b.c.p.y,c=a.a.x*n+a.b.x*q,q=a.a.y*n+a.b.y*q,n=c;a=d.e.d;var t=this.Sc.x-d.c.p.x,r=this.Sc.y-d.c.p.y,c=a.a.x*t+a.b.x*r,r=a.a.y*t+a.b.y*r,t=c;a=new Y(0,0,0);uf(this.q,a,-(f.x-h*r-e.x+g*q),-(f.y+h*t-e.y-g*n),-(h-g));this.i.Ob(a);e.x-=i*a.x;e.y-=i*a.y;g-=l*(n*a.y-q*a.x+a.k);f.x+=j*a.x;f.y+=j*a.y;h+=m*(t*a.y-r*a.x+a.k);b.s=g;d.s=h};
x.Gb=function(){var a,c=0,b=this.F,d=this.J;a=b.e.d;var e=this.Rc.x-b.c.p.x,g=this.Rc.y-b.c.p.y,c=a.a.x*e+a.b.x*g,g=a.a.y*e+a.b.y*g,e=c;a=d.e.d;var f=this.Sc.x-d.c.p.x,h=this.Sc.y-d.c.p.y,c=a.a.x*f+a.b.x*h,h=a.a.y*f+a.b.y*h,f=c;a=b.l;var c=d.l,i=b.t,j=d.t,l=d.c.g.x+f-b.c.g.x-e,m=d.c.g.y+h-b.c.g.y-g,n=d.c.n-b.c.n-this.He,q=Math.sqrt(l*l+m*m),t=Math.abs(n);q>0.05&&(i*=1,j*=1);this.q.a.x=a+c+g*g*i+h*h*j;this.q.b.x=-g*e*i-h*f*j;this.q.I.x=-g*i-h*j;this.q.a.y=this.q.b.x;this.q.b.y=a+c+e*e*i+f*f*j;this.q.I.y=
e*i+f*j;this.q.a.k=this.q.I.x;this.q.b.k=this.q.I.y;this.q.I.k=i+j;var r=new Y(0,0,0);uf(this.q,r,-l,-m,-n);b.c.g.x-=a*r.x;b.c.g.y-=a*r.y;b.c.n-=i*(e*r.y-g*r.x+r.k);d.c.g.x+=c*r.x;d.c.g.y+=c*r.y;d.c.n+=j*(f*r.y-h*r.x+r.k);S(b);S(d);return q<=0.005&&t<=rc};function Bf(){qf.call(this);this.Sa=new F(0,0);this.Ta=new F(0,0);this.type=8;this.Zc=0}A(Bf,qf);Bf.prototype.X=function(a,c,b){this.V=a;this.Y=c;this.Sa.m(qc(this.V.e,b));this.Ta.m(qc(this.Y.e,b));this.Zc=this.Y.Tb()-this.V.Tb()};Bf.prototype.Pb=function(){return new Af(this)};function Cf(a){Q.call(this,a);this.Fb=new jc;this.he=new jc;this.ie=new jc;this.je=new jc;this.za=new Y(0,0,0);this.Jb=new F(0,0);this.gc=new F(0,0);this.A=new F(0,0);this.B=new F(0,0);this.i=new Y(0,0,0);this.q=new sf;this.A.m(a.Sa);this.B.m(a.Ta);this.He=a.Zc;this.i.R();this.ua=0;this.lf=a.Ei;this.og=a.oj;this.Ti=a.$i;this.jg=a.pg;this.qd=a.Xe;this.Ae=a.Uf;this.ca=0}A(Cf,Q);x=Cf.prototype;x.Rb=function(){return R(this.F,this.A)};x.Sb=function(){return R(this.J,this.B)};
function Df(a){return a.J.c.n-a.F.c.n-a.He}
x.Ub=function(a){var c=this.F,b=this.J,d,e=0;d=c.e.d;var g=this.A.x-c.c.p.x,f=this.A.y-c.c.p.y,e=d.a.x*g+d.b.x*f,f=d.a.y*g+d.b.y*f,g=e;d=b.e.d;var h=this.B.x-b.c.p.x,i=this.B.y-b.c.p.y,e=d.a.x*h+d.b.x*i,i=d.a.y*h+d.b.y*i,h=e;d=c.l;var e=b.l,j=c.t,l=b.t;this.q.a.x=d+e+f*f*j+i*i*l;this.q.b.x=-f*g*j-i*h*l;this.q.I.x=-f*j-i*l;this.q.a.y=this.q.b.x;this.q.b.y=d+e+g*g*j+h*h*l;this.q.I.y=g*j+h*l;this.q.a.k=this.q.I.x;this.q.b.k=this.q.I.y;this.q.I.k=j+l;this.ec=1/(j+l);if(!this.Ae)this.ua=0;if(this.qd){var m=
b.c.n-c.c.n-this.He;if(Math.abs(this.og-this.lf)<2*rc)this.ca=3;else if(m<=this.lf){if(this.ca!=1)this.i.k=0;this.ca=1}else if(m>=this.og){if(this.ca!=2)this.i.k=0;this.ca=2}else this.ca=0,this.i.k=0}else this.ca=0;a.hc?(this.i.x*=a.Ra,this.i.y*=a.Ra,this.ua*=a.Ra,a=this.i.x,m=this.i.y,c.h.x-=d*a,c.h.y-=d*m,c.s-=j*(g*m-f*a+this.ua+this.i.k),b.h.x+=e*a,b.h.y+=e*m,b.s+=l*(h*m-i*a+this.ua+this.i.k)):(this.i.R(),this.ua=0)};
x.Hb=function(a){var c=this.F,b=this.J,d=0,e=d=0,g=0,f=0,h=0,i=c.h,j=c.s,l=b.h,m=b.s,n=c.l,q=b.l,t=c.t,r=b.t;if(this.Ae&&this.ca!=3)e=this.ec*-(m-j-this.jg),g=this.ua,f=a.Z*this.Ti,this.ua=K(this.ua+e,-f,f),e=this.ua-g,j-=t*e,m+=r*e;if(this.qd&&this.ca!=0){var a=c.e.d,e=this.A.x-c.c.p.x,g=this.A.y-c.c.p.y,d=a.a.x*e+a.b.x*g,g=a.a.y*e+a.b.y*g,e=d,a=b.e.d,f=this.B.x-b.c.p.x,h=this.B.y-b.c.p.y,d=a.a.x*f+a.b.x*h,h=a.a.y*f+a.b.y*h,f=d,a=l.x+-m*h-i.x- -j*g,v=l.y+m*f-i.y-j*e;uf(this.q,this.za,-a,-v,-(m-j));
if(this.ca==3)this.i.Ob(this.za);else if(this.ca==1){if(d=this.i.k+this.za.k,d<0)tf(this.q,this.gc,-a,-v),this.za.x=this.gc.x,this.za.y=this.gc.y,this.za.k=-this.i.k,this.i.x+=this.gc.x,this.i.y+=this.gc.y,this.i.k=0}else if(this.ca==2&&(d=this.i.k+this.za.k,d>0))tf(this.q,this.gc,-a,-v),this.za.x=this.gc.x,this.za.y=this.gc.y,this.za.k=-this.i.k,this.i.x+=this.gc.x,this.i.y+=this.gc.y,this.i.k=0;i.x-=n*this.za.x;i.y-=n*this.za.y;j-=t*(e*this.za.y-g*this.za.x+this.za.k);l.x+=q*this.za.x;l.y+=q*this.za.y;
m+=r*(f*this.za.y-h*this.za.x+this.za.k)}else a=c.e.d,e=this.A.x-c.c.p.x,g=this.A.y-c.c.p.y,d=a.a.x*e+a.b.x*g,g=a.a.y*e+a.b.y*g,e=d,a=b.e.d,f=this.B.x-b.c.p.x,h=this.B.y-b.c.p.y,d=a.a.x*f+a.b.x*h,h=a.a.y*f+a.b.y*h,f=d,tf(this.q,this.Jb,-(l.x+-m*h-i.x- -j*g),-(l.y+m*f-i.y-j*e)),this.i.x+=this.Jb.x,this.i.y+=this.Jb.y,i.x-=n*this.Jb.x,i.y-=n*this.Jb.y,j-=t*(e*this.Jb.y-g*this.Jb.x),l.x+=q*this.Jb.x,l.y+=q*this.Jb.y,m+=r*(f*this.Jb.y-h*this.Jb.x);c.h.m(i);c.s=j;b.h.m(l);b.s=m};
x.Gb=function(){var a=0,c,b=this.F,d=this.J,e=0,g=c=0,f=0,h=0;if(this.qd&&this.ca!=0){var a=d.c.n-b.c.n-this.He,i=0;this.ca==3?(a=K(a-this.lf,-sc,sc),i=-this.ec*a,e=Math.abs(a)):this.ca==1?(a-=this.lf,e=-a,a=K(a+rc,-sc,0),i=-this.ec*a):this.ca==2&&(a-=this.og,e=a,a=K(a-rc,0,sc),i=-this.ec*a);b.c.n-=b.t*i;d.c.n+=d.t*i;S(b);S(d)}c=b.e.d;i=this.A.x-b.c.p.x;a=this.A.y-b.c.p.y;g=c.a.x*i+c.b.x*a;a=c.a.y*i+c.b.y*a;i=g;c=d.e.d;var j=this.B.x-d.c.p.x,l=this.B.y-d.c.p.y,g=c.a.x*j+c.b.x*l,l=c.a.y*j+c.b.y*l,
j=g,f=d.c.g.x+j-b.c.g.x-i,h=d.c.g.y+l-b.c.g.y-a,m=f*f+h*h;c=Math.sqrt(m);var g=b.l,n=d.l,q=b.t,t=d.t;m>0.05*0.05&&(m=1/(g+n),f=m*-f,h=m*-h,b.c.g.x-=0.5*g*f,b.c.g.y-=0.5*g*h,d.c.g.x+=0.5*n*f,d.c.g.y+=0.5*n*h,f=d.c.g.x+j-b.c.g.x-i,h=d.c.g.y+l-b.c.g.y-a);this.he.a.x=g+n;this.he.b.x=0;this.he.a.y=0;this.he.b.y=g+n;this.ie.a.x=q*a*a;this.ie.b.x=-q*i*a;this.ie.a.y=-q*i*a;this.ie.b.y=q*i*i;this.je.a.x=t*l*l;this.je.b.x=-t*j*l;this.je.a.y=-t*j*l;this.je.b.y=t*j*j;this.Fb.Bd(this.he);this.Fb.Bf(this.ie);this.Fb.Bf(this.je);
this.Fb.ne(Ef,-f,-h);f=Ef.x;h=Ef.y;b.c.g.x-=b.l*f;b.c.g.y-=b.l*h;b.c.n-=b.t*(i*h-a*f);d.c.g.x+=d.l*f;d.c.g.y+=d.l*h;d.c.n+=d.t*(j*h-l*f);S(b);S(d);return c<=0.005&&e<=rc};var Ef=new F(0,0);function Ff(){qf.call(this);this.Sa=new F(0,0);this.Ta=new F(0,0);this.type=1;this.Sa.R();this.Ta.R();this.pg=this.$i=this.oj=this.Ei=this.Zc=0;this.Uf=this.Xe=s}A(Ff,qf);Ff.prototype.X=function(a,c,b){this.V=a;this.Y=c;this.Sa=qc(this.V.e,b);this.Ta=qc(this.Y.e,b);this.Zc=this.Y.Tb()-this.V.Tb()};Ff.prototype.Pb=function(){return new Cf(this)};function Gf(){this.Kb=new F(0,0);this.Lb=new F(0,0)}Gf.prototype.R=function(){this.Kb.R();this.dd=0;this.Lb.R();this.ed=0};Gf.prototype.j=function(a,c,b,d){c===k&&(c=0);d===k&&(d=0);this.Kb.m(a);this.dd=c;this.Lb.m(b);this.ed=d};function Hf(a){Q.call(this,a);this.bc=new F(0,0);this.cc=new F(0,0);this.A=new F(0,0);this.B=new F(0,0);this.ja=new Gf;var c=a.Id.C,b=a.Jd.C;this.Rd=this.vd=this.Qd=this.ud=p;var d=0,e=0;this.Ki=a.Id.F;this.F=a.Id.J;c==1?(this.ud=a.Id,this.bc.m(this.ud.A),this.A.m(this.ud.B),d=Df(this.ud)):(this.Qd=a.Id,this.bc.m(this.Qd.A),this.A.m(this.Qd.B),d=wf(this.Qd));this.Li=a.Jd.F;this.J=a.Jd.J;b==1?(this.vd=a.Jd,this.cc.m(this.vd.A),this.B.m(this.vd.B),e=Df(this.vd)):(this.Rd=a.Jd,this.cc.m(this.Rd.A),this.B.m(this.Rd.B),
e=wf(this.Rd));this.na=a.Yc;this.Ld=d+this.na*e;this.i=0}A(Hf,Q);x=Hf.prototype;x.Rb=function(){return R(this.F,this.A)};x.Sb=function(){return R(this.J,this.B)};
x.Ub=function(a){var c=this.Ki,b=this.Li,d=this.F,e=this.J,g=0,f=0,h=0,i=0,j=h=0,l=0;this.ja.R();this.ud?(this.ja.dd=-1,l+=d.t):(c=c.e.d,f=this.Qd.Tc,g=c.a.x*f.x+c.b.x*f.y,f=c.a.y*f.x+c.b.y*f.y,c=d.e.d,h=this.A.x-d.c.p.x,i=this.A.y-d.c.p.y,j=c.a.x*h+c.b.x*i,i=c.a.y*h+c.b.y*i,h=j*f-i*g,this.ja.Kb.j(-g,-f),this.ja.dd=-h,l+=d.l+d.t*h*h);this.vd?(this.ja.ed=-this.na,l+=this.na*this.na*e.t):(c=b.e.d,f=this.Rd.Tc,g=c.a.x*f.x+c.b.x*f.y,f=c.a.y*f.x+c.b.y*f.y,c=e.e.d,h=this.B.x-e.c.p.x,i=this.B.y-e.c.p.y,
j=c.a.x*h+c.b.x*i,i=c.a.y*h+c.b.y*i,h=j*f-i*g,this.ja.Lb.j(-this.na*g,-this.na*f),this.ja.ed=-this.na*h,l+=this.na*this.na*(e.l+e.t*h*h));this.q=l>0?1/l:0;a.hc?(d.h.x+=d.l*this.i*this.ja.Kb.x,d.h.y+=d.l*this.i*this.ja.Kb.y,d.s+=d.t*this.i*this.ja.dd,e.h.x+=e.l*this.i*this.ja.Lb.x,e.h.y+=e.l*this.i*this.ja.Lb.y,e.s+=e.t*this.i*this.ja.ed):this.i=0};
x.Hb=function(){var a=this.F,c=this.J,b=this.ja,d=a.h,e=a.s,g=c.h,f=c.s;e===k&&(e=0);f===k&&(f=0);b=-this.q*(b.Kb.x*d.x+b.Kb.y*d.y+b.dd*e+(b.Lb.x*g.x+b.Lb.y*g.y)+b.ed*f);this.i+=b;a.h.x+=a.l*b*this.ja.Kb.x;a.h.y+=a.l*b*this.ja.Kb.y;a.s+=a.t*b*this.ja.dd;c.h.x+=c.l*b*this.ja.Lb.x;c.h.y+=c.l*b*this.ja.Lb.y;c.s+=c.t*b*this.ja.ed};
x.Gb=function(){var a=this.F,c=this.J,b=0,d=0,b=this.ud?Df(this.ud):wf(this.Qd),d=this.vd?Df(this.vd):wf(this.Rd),b=-this.q*(this.Ld-(b+this.na*d));a.c.g.x+=a.l*b*this.ja.Kb.x;a.c.g.y+=a.l*b*this.ja.Kb.y;a.c.n+=a.t*b*this.ja.dd;c.c.g.x+=c.l*b*this.ja.Lb.x;c.c.g.y+=c.l*b*this.ja.Lb.y;c.c.n+=c.t*b*this.ja.ed;S(a);S(c);return o};function If(){qf.call(this);this.type=6;this.Jd=this.Id=p;this.Yc=1}A(If,qf);If.prototype.X=function(a,c,b){this.Id=a;this.V=a.F;this.Jd=c;this.Y=c.F;this.Yc=b};If.prototype.Pb=function(){return new Hf(this)};var Jf={};
(function(a){var c,b=new F(350,30),d=new F(1E3,300),e,g,f,h;a.vb=function(c,e,g){f=new hf(a,c,b,$.Fc.Se,d,20,e);h=new $(f);a.sb(new F(5,b.y-15),g);a.Rg(f,new F(5,b.y));jf(f)};a.sb=function(a,b){var d=new F(0,0),m=new F(21,47),n=new F(m.x/20,m.y/20);c=h.sb(n,a);cf(f.Xb,c,n,d,m);g=new pb("game");D(g,new yf(function(){f.paused=!f.paused},"Pause",s),80,s,s,s);e=new pb("player");D(e,c.wa.rf,b?87:38,s,s,s);D(e,c.wa.Ud,b?65:37,s,s,s);D(e,c.wa.qf,b?83:40,s,s,s);D(e,c.wa.Vd,b?68:39,s,s,s)};a.Rg=function(a,
b){var c=b.ba();c.y-=10;for(var d=new F(2.5,0.1),e=p,f=0;f<30;f++){c.x+=d.x/2;var g;g=f!=0&&f!=29?Te(a.o,d,c,o):W(a.o,d,c,o);if(e!=p){var h=new Ff,v=new F(U(e.body).x+U(g.body).x,U(e.body).y+U(g.body).y);v.kc(0.5);h.X(e.body,g.body,v);V(a.o.ia,h)}e=g;c.x+=d.x/2;c.x+=0.5}};a.Qe=function(a,b){rb(g,b)};a.Ke=function(a,b){rb(g,b);rb(e,b)};a.Je=function(){$b(f.viewport,U(c.body))}})(Jf);ca("bridge.init",Jf.vb);var Kf={};
(function(a){var c,b=new F(350,30),d=new F(600,300),e,g,f,h,i=new F(0,454),j=new F(178,326),l=new F(2,124),m=new F(354,54),n=new F(0,58),q=new F(290,54),t=new F(178,326),r=new F(0,0),v=new F(32,84),w=new F(354,54),O=new F(0,90),J=new F(0,0),P=new F(2,158),z=new F(158,388),E=new F(190,388),Z=new F(158,356),Nf=new F(190,356),Of=new F(158,356),Pf=new F(190,356),Qf=new F(55,380),Rf=new F(10,396),Sf=new F(466,168),Tf=new F(452,136),Uf=new F(466,104),Vf=new F(300,424),Wf=new F(300,352),Xf=new F(364,424),
Yf=new F(364,384),Zf=new F(332,352),$f=new F(332,320),ag=new F(396,352),bg=new F(396,320),cg=new F(364,352),dg=new F(362,264),eg=new F(160,64);a.vb=function(c,e,g){f=new hf(a,c,b,$.Fc.Se,d,20,e);h=new $(f);c=new F(5,b.y-7);a.sb(c,g);a.Sg(f,h,new F(0,b.y),c);g=X(f.o,new F(d.x/20,d.y/20),new F(0,0),-1);G(g,"graphics/sky.png");g.display.sf=1;jf(f)};a.sb=function(a,b){var d=new F(0,0),i=new F(21,47),j=new F(i.x/20,i.y/20);c=h.sb(j,a);cf(f.Xb,c,j,d,i);g=new pb("game");D(g,new yf(function(){f.paused=!f.paused},
"Pause",s),80,s,s,s);e=new pb("player");D(e,c.wa.rf,b?87:38,s,s,s);D(e,c.wa.Ud,b?65:37,s,s,s);D(e,c.wa.qf,b?83:40,s,s,s);D(e,c.wa.Vd,b?68:39,s,s,s)};a.Sg=function(b,c,d,e){for(var f=new F(1.6,1.6),g=new F(d.x-f.x/2,d.y-f.y/2),d=["                                                                                                                                                                                                                    ".split(""),"                                                                                                                                                                                                                    ".split(""),
"                                                                                                                                                                                                      o             ".split(""),"                                                                                                                                                                                                     F|             ".split(""),"                                                                                   G                                                                                                                  |             ".split(""),
"                      O                                                         ########   ###O              M           ###    #OO#                                                        ==        |             ".split(""),"                                                                                                                                                                                           ===        |             ".split(""),"                                                                               G                                                                                                          ====        |     $       ".split(""),
"                                                                1                                                                                                                        =====        |    ^^^      ".split(""),"                O   #M#O#                     <>         {}                  #M#              @     #*    O  O  O     #          ##      =  =          ==  =            ###O#           ======        |    R+L      ".split(""),"                                      <>      []         []                                                                             ==  ==        ===  ==                          =======        |   ^r&l^     ".split(""),
"                            <>        []      []         []                                                                            ===  ===      ====  ===     {}              <> ========        |   ++u++     ".split(""),"                     G      []        [] G    []     G G []                                    G G        T                G G G G    ====  ====    =====  ====    []        G G   []=========        =   ++8++     ".split(""),"---------------------------------------------------------------------  ---------------   ----------------------------------------------------------------  ---------------------------------------------------------".split(""),
"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".split("")],g=new F(g.x,g.y-f.y*(d.length-1)),h=0;h<d.length;h++)for(var i=0;i<d[h].length;i++)a.fi(b,c,d[h][i],new F(i,h),g,f,e)};a.fi=function(a,b,c,d,e,f,g){var h=p,B=p;switch(c){case " ":break;case "-":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=i;break;case "=":h=b.$a(f,new F(e.x+d.x*
f.x,e.y+d.y*f.y));B=l;break;case "O":h=b.se(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));$.Hd(h,function(){var c=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));G(c,"graphics/smbsheet.gif",q);c=X(a.o,f,new F(e.x+d.x*f.x,e.y+(d.y-1)*f.y));G(c,"graphics/smbsheet.gif",n)},$.U.pb);B=m;break;case "@":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));h.Pg=8;h.Qf=0;$.Hd(h,function(){h.Qf++;var c=X(a.o,f,new F(e.x+d.x*f.x,e.y+(d.y-h.Qf/h.Pg)*f.y));G(c,"graphics/smbsheet.gif",n);h.Qf==h.Pg&&($e(a.o,h),c=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*
f.y)),G(c,"graphics/smbsheet.gif",q))},$.U.pb);B=t;break;case "#":h=b.se(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=j;break;case "1":h=b.se(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));$.Wf(h,$.U.Cd|$.U.bd|$.U.cd);$.Hd(h,function(){var c=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));G(c,"graphics/smbsheet.gif",q);c=X(a.o,f,new F(e.x+d.x*f.x,e.y+(d.y-1)*f.y));G(c,"graphics/smbsheet.gif",P)},$.U.pb);B=J;break;case "*":h=b.se(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));$.Wf(h,$.U.Cd|$.U.bd|$.U.cd);$.Hd(h,function(){var c=b.$a(f,new F(e.x+
d.x*f.x,e.y+d.y*f.y));G(c,"graphics/smbsheet.gif",q);c=X(a.o,f,new F(e.x+d.x*f.x,e.y+(d.y-1)*f.y));G(c,"graphics/smbsheet.gif",v)},$.U.pb);B=r;break;case "M":h=b.se(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));$.Hd(h,function(){var c=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));G(c,"graphics/smbsheet.gif",q);c=X(a.o,f,new F(e.x+d.x*f.x,e.y+(d.y-1)*f.y));G(c,"graphics/smbsheet.gif",O)},$.U.pb);B=w;break;case "[":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=z;break;case "]":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=
E;break;case "<":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=Z;break;case ">":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=Nf;break;case "{":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=Of;break;case "}":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=Pf;break;case "T":h=X(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=Qf;break;case "G":h=X(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=Rf;break;case "|":h=X(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=Sf;break;case "F":h=X(a.o,f,new F(e.x+d.x*f.x+f.x/2,e.y+d.y*f.y),1);B=Tf;
break;case "o":h=X(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=Uf;break;case "+":h=X(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=Vf;break;case "^":h=X(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=Wf;break;case "8":h=X(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=Xf;break;case "u":h=X(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=Yf;break;case "R":h=X(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=$f;break;case "r":h=X(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=Zf;break;case "L":h=X(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=bg;break;
case "l":h=X(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=ag;break;case "&":h=X(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));B=cg;break;case "$":h=X(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y+f.y/4));B=dg;break;case "x":h=b.di(f,new F(e.x+d.x*f.x,e.y+d.y*f.y),g);B=eg;break;default:throw"Invalid type: "+c;}h!==p&&"graphics/smbsheet.gif"!==p&&B!==p&&G(h,"graphics/smbsheet.gif",B)};a.Qe=function(a,b){rb(g,b)};a.Ke=function(a,b){rb(g,b);rb(e,b)};a.Je=function(){$b(f.viewport,U(c.body))}})(Kf);ca("mario.init",Kf.vb);var Lf={};
(function(a){var c,b=new F(3500,100),d=new F(1024,600),e,g,f,h;a.vb=function(c,e,g){f=new hf(a,c,b,$.Fc.Se,d,20,e);h=new $(f);c=new F(5,b.y-7-24);a.sb(c,g);Kf.Sg(f,h,new F(0,b.y),c);g=0;g++;Jf.Rg(f,new F(15,b.y-(3.2+g*24)));a.gi(++g);a.ii(++g);a.hi(g);a.ei();jf(f)};a.sb=function(a,b){var d=new F(0,0),m=new F(21,47),n=new F(m.x/20,m.y/20);c=h.sb(n,a);cf(f.Xb,c,n,d,m);g=new pb("game");D(g,new yf(function(){f.paused=!f.paused},"Pause",s),80,s,s,s);e=new pb("player");D(e,c.wa.rf,b?87:38,s,s,s);D(e,c.wa.Ud,
b?65:37,s,s,s);D(e,c.wa.qf,b?83:40,s,s,s);D(e,c.wa.Vd,b?68:39,s,s,s)};a.hi=function(a){for(var c=new F(3,0.25),d=0;d<a;d++){for(var e=3.2+d*24,f=6;f<=24;f+=6)h.Lc(c,new F(4,b.y-f-e)),h.Lc(c,new F(10,b.y-f-e));h.Lc(new F(b.x-15,0.25),new F((b.x-15)/2+15,b.y-e-24))}h.Lc(new F(1,1),new F(12,b.y-3.2-3.5),$.U.bd);h.Lc(new F(1,1),new F(15,b.y-3.2-3.5),$.U.cd);h.Lc(new F(1,1),new F(18,b.y-3.2-3.5),$.U.Cd);h.Lc(new F(1,1),new F(21,b.y-3.2-3.5),$.U.pb);a=h.Lc(new F(1,1),new F(24,b.y-3.2-3.5),$.U.pb).body;
Ae(a,a.e.position,Math.PI/2)};a.ii=function(a){for(var a=new F(17,b.y-(3.2+a*24)),c=-Math.PI/4,d=(0-c)/20;c<=0;c+=d)a.x+=1.5,W(f.o,new F(3,0.3),new F(a.x,a.y-1.5),o,{Ya:c},p),a.x+=3.5};a.gi=function(a){for(var a=new F(17,b.y-(3.2+a*24)),c=0;c<1;c++){var d=new Ff,e=new Bf;a.x+=5;var g={Ya:Math.random()*Math.PI},h=a.y-7.5,t=W(f.o,new F(0.01,0.01),new F(a.x,h),s,{xa:g}),r=Te(f.o,new F(10,1),new F(a.x,h),o,{xa:g});G(r,"graphics/spinner.png");g.Ya+=Math.PI/2;g=Te(f.o,new F(10,1),new F(a.x,h),o,{xa:g});
G(g,"graphics/spinner.png");d.X(t.body,r.body,U(t.body));V(f.o.ia,d);d.X(t.body,g.body,U(t.body));V(f.o.ia,d);e.X(r.body,g.body,U(r.body));V(f.o.ia,e);a.x+=7}for(c=0;c<1;c++)g={Mc:o},d=new zf,a.x+=2,h=a.y-6,r=Te(f.o,new F(3,0.2),new F(a.x+0.1,h+2),o,{xa:g}),e=Te(f.o,new F(3,0.2),new F(a.x+0.1,h-2),o,{xa:g}),t=Te(f.o,new F(0.2,3),new F(a.x-2,h+0.1),o,{xa:g}),g=Te(f.o,new F(0.2,3),new F(a.x+2,h+0.1),o,{xa:g}),d.X(r.body,e.body,U(r.body),U(e.body)),V(f.o.ia,d),d.X(r.body,t.body,U(r.body),U(t.body)),
V(f.o.ia,d),d.X(r.body,g.body,U(r.body),U(g.body)),V(f.o.ia,d),d.X(e.body,t.body,U(e.body),U(t.body)),V(f.o.ia,d),d.X(e.body,g.body,U(e.body),U(g.body)),V(f.o.ia,d),d.X(t.body,g.body,U(t.body),U(g.body)),V(f.o.ia,d),a.x+=4;for(c=0;c<3;c++)h=a.y-9,g={Mc:o},d=new rf,a.x+=1.5,t=Te(f.o,new F(3,0.3),new F(a.x+1.5,h),o,{xa:g}),a.x+=6,g=Te(f.o,new F(3,0.3),new F(a.x+1.5,h),o,{xa:g}),h=U(t.body).ba(),h.y-=3,X(f.o,new F(0.3,0.3),h),r=U(g.body).ba(),r.y-=3,X(f.o,new F(0.3,0.3),r),d.X(t.body,g.body,h,r,U(t.body),
U(g.body),(c+1)/2),V(f.o.ia,d),a.x+=3.5;for(c=0;c<2;c++){var d=new If,v=new Ff;new xf;g={Ya:0};a.x+=2;for(var e=p,w=0;w<2;w++)h=a.y-(w+1)*4,t=W(f.o,new F(0.01,0.01),new F(a.x,h),s,{xa:g}),r=Te(f.o,new F(4,0.2),new F(a.x,h),o,{xa:g}),v.X(t.body,r.body,U(t.body)),h=V(f.o.ia,v),e!==p&&(d.X(h,e,w),V(f.o.ia,d)),e=h;h=a.y-12;t=W(f.o,new F(0.01,0.01),new F(a.x,h),s,{xa:g});r=Te(f.o,new F(0.4,0.2),new F(a.x,h),o,{xa:g});g=new xf;g.X(t.body,r.body,U(t.body),new F(Math.random(),Math.random()));g.Xe=o;g.bh=
-1;g.zh=1;h=V(f.o.ia,g);d.X(h,e,0.5);V(f.o.ia,d);a.x+=4}};a.ei=function(){for(var a={type:2,Mc:s},c={Bc:1.25},d=new Rd(0.25),e=new F(0.5,0.5),g=0;g<250;g++){var h=g*5%(b.x-10),h=new F(h+g%20/20+4.5,15+g%20);f.o.Ib(e,h,o,d,{xa:a,nc:c})}d=new N;Lc(d,0.25,0.25);for(g=0;g<250;g++)h=g*5%(b.x-10),h=new F(h+(g+5)%20/20+4.5,15+(g+5)%20),a.Ya=g%17/17,f.o.Ib(e,h,o,d,{xa:a,nc:c});d=new N;Kc(d,[new F(-0.5,-0.5),new F(0.5,-0.5),new F(-0.5,0.5)]);for(g=0;g<250;g++)h=g*5%(b.x-10),h=new F(h+(g+10)%20/20+4.5,15+(g+
10)%20),a.Ya=g%22/22,f.o.Ib(e,h,o,d,{xa:a,nc:c});d=new N;Kc(d,[new F(-Math.random()*0.5,-Math.random()*0.5),new F(Math.random()*0.5,-Math.random()*0.5),new F(Math.random()*0.5,Math.random()*0.5),new F(-Math.random()*0.5,Math.random()*0.5)]);for(g=0;g<250;g++)h=g*5%(b.x-10),h=new F(h+(g+15)%20/20+4.5,15+(g+15)%20),a.Ya=g%35/35,f.o.Ib(e,h,o,d,{xa:a,nc:c});d=new N;Kc(d,[new F(-0.5,-0.5),new F(0,-0.5),new F(0.5,0),new F(0.5,0.5),new F(0,0.3)]);for(g=0;g<250;g++)h=g*5%(b.x-10),h=new F(h+(g+15)%20/20+4.5,
15+(g+15)%20),a.Ya=g%35/35,f.o.Ib(e,h,o,d,{xa:a,nc:c})};a.Qe=function(a,b){rb(g,b)};a.Ke=function(a,b){rb(g,b);rb(e,b)};a.Je=function(){$b(f.viewport,U(c.body))}})(Lf);ca("test.init",Lf.vb);var Mf={};
(function(a){var c,b=new F(5,10),d=new F(100,200),e,g,f,h;a.vb=function(c,e,g){f=new hf(a,c,b,$.Fc.Se,d,20,e);h=new $(f);c=new F(2,2);a.ji();a.sb(c,g);jf(f)};a.sb=function(a,b){var d=new F(0,0),m=new F(21,47),n=new F(m.x/20,m.y/20);c=h.sb(n,a);cf(f.Xb,c,n,d,m);g=new pb("game");D(g,new yf(function(){f.paused=!f.paused},"Pause",s),80,s,s,s);e=new pb("player");D(e,c.wa.rf,b?87:38,s,s,s);D(e,c.wa.Ud,b?65:37,s,s,s);D(e,c.wa.qf,b?83:40,s,s,s);D(e,c.wa.Vd,b?68:39,s,s,s)};a.ji=function(){h.$a(new F(b.x,0.5),
new F(b.x/2,b.y-0.25));a.ci(new F(b.x,6),new F(0,b.y-0.25))};a.ci=function(a,b){W(f.o,new F(0.25,a.y),new F(b.x+0,b.y-a.y/2),o,p,p);W(f.o,new F(0.25,a.y),new F(b.x+a.x-0.125,b.y-a.y/2),o,p,p);for(var c=new Rd(0.15),d=0,e=0.15;e<a.x-0.15;e+=0.3)for(var g=0;g<a.y/2;g+=0.3){var h=f.o.Ib(new F(0.3,0.3),new F(b.x+e-d++%2*0.15,b.y-g),o,c,{nc:{te:0.1,Bc:0.1,ub:0.1}}),r=Math.random();r<=0.25?G(h,"graphics/ball-red.png"):r<=0.5?G(h,"graphics/ball-green.png"):r<=0.75?G(h,"graphics/ball-yellow.png"):G(h,"graphics/ball-blue.png")}};
a.Qe=function(a,b){rb(g,b)};a.Ke=function(a,b){rb(g,b);rb(e,b)};a.Je=function(){$b(f.viewport,U(c.body))}})(Mf);ca("pit.init",Mf.vb);})();
