var i=void 0,q=null;function r(){return function(){}}function s(a){return function(){return this[a]}}function aa(a){return function(){return a}}var x,z=this;function ba(a,c){var b=a.split("."),d=z;!(b[0]in d)&&d.execScript&&d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)!b.length&&c!==i?d[e]=c:d=d[e]?d[e]:d[e]={}}function ca(){}
function da(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if(b=="[object Window]")return"object";if(b=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(b=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}var ea="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),fa=0;function A(a,c){function b(){}b.prototype=c.prototype;a.vg=c.prototype;a.prototype=new b;a.prototype.constructor=a};function ga(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;b==0&&g<f;g++){var h=d[g]||"",j=e[g]||"",k=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var o=k.exec(h)||["","",""],p=n.exec(j)||["","",""];if(o[0].length==0&&p[0].length==0)break;b=ha(o[1].length==0?0:parseInt(o[1],10),p[1].length==0?0:parseInt(p[1],10))||ha(o[2].length==0,p[2].length==0)||ha(o[2],p[2])}while(b==
0)}return b}function ha(a,c){if(a<c)return-1;else if(a>c)return 1;return 0};var ia,ja,ka,la;function ma(){return z.navigator?z.navigator.userAgent:q}la=ka=ja=ia=!1;var na;if(na=ma()){var oa=z.navigator;ia=na.indexOf("Opera")==0;ja=!ia&&na.indexOf("MSIE")!=-1;ka=!ia&&na.indexOf("WebKit")!=-1;la=!ia&&!ka&&oa.product=="Gecko"}var pa=ja,qa=la,ra=ka,sa=z.navigator,ta=(sa&&sa.platform||"").indexOf("Mac")!=-1,ua;
a:{var va="",wa;if(ia&&z.opera)var xa=z.opera.version,va=typeof xa=="function"?xa():xa;else if(qa?wa=/rv\:([^\);]+)(\)|;)/:pa?wa=/MSIE\s+([^\);]+)(\)|;)/:ra&&(wa=/WebKit\/(\S+)/),wa)var ya=wa.exec(ma()),va=ya?ya[1]:"";if(pa){var za,Aa=z.document;za=Aa?Aa.documentMode:i;if(za>parseFloat(va)){ua=String(za);break a}}ua=va}var Ba={},Ca={};var Da,Ea={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",
96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};var Fa=Array.prototype,Ga=Fa.indexOf?function(a,c,b){return Fa.indexOf.call(a,c,b)}:function(a,c,b){b=b==q?0:b<0?Math.max(0,a.length+b):b;if(typeof a=="string")return typeof c!="string"||c.length!=1?-1:a.indexOf(c,b);for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1};pa&&(Ca[9]||(Ca[9]=pa&&document.documentMode&&document.documentMode>=9));pa&&(Ba["8"]||(Ba["8"]=ga(ua,"8")>=0));function Ha(){}Ha.prototype.$f=!1;Ha.prototype.Yc=function(){if(!this.$f)this.$f=!0,this.Zc()};Ha.prototype.Zc=function(){this.qh&&Ia.apply(q,this.qh)};function Ia(a){for(var c=0,b=arguments.length;c<b;++c){var d=arguments[c],e=da(d);e=="array"||e=="object"&&typeof d.length=="number"?Ia.apply(q,d):d&&typeof d.Yc=="function"&&d.Yc()}};function Ja(a,c){this.type=a;this.currentTarget=this.target=c}A(Ja,Ha);Ja.prototype.Zc=function(){delete this.type;delete this.target;delete this.currentTarget};Ja.prototype.xf=!1;Ja.prototype.oi=!0;function Ka(a){Ka[" "](a);return a}Ka[" "]=ca;function La(a,c){a&&this.zb(a,c)}A(La,Ja);x=La.prototype;x.target=q;x.relatedTarget=q;x.offsetX=0;x.offsetY=0;x.clientX=0;x.clientY=0;x.screenX=0;x.screenY=0;x.button=0;x.keyCode=0;x.charCode=0;x.ctrlKey=!1;x.altKey=!1;x.shiftKey=!1;x.metaKey=!1;x.ki=!1;x.ag=q;
x.zb=function(a,c){var b=this.type=a.type;Ja.call(this,b);this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(qa){var e;a:{try{Ka(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=q)}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.ki=ta?a.metaKey:a.ctrlKey;this.state=a.state;this.ag=a;delete this.oi;delete this.xf};x.Zc=function(){La.vg.Zc.call(this);this.relatedTarget=this.currentTarget=this.target=this.ag=q};function Ma(){}var Na=0;x=Ma.prototype;x.key=0;x.od=!1;x.Vf=!1;x.zb=function(a,c,b,d,e,f){if(da(a)=="function")this.dg=!0;else if(a&&a.handleEvent&&da(a.handleEvent)=="function")this.dg=!1;else throw Error("Invalid listener argument");this.Nd=a;this.sg=c;this.src=b;this.type=d;this.capture=!!e;this.bg=f;this.Vf=!1;this.key=++Na;this.od=!1};x.handleEvent=function(a){return this.dg?this.Nd.call(this.bg||this.src,a):this.Nd.handleEvent.call(this.Nd,a)};var Oa,Pa=(Oa="ScriptEngine"in z&&z.ScriptEngine()=="JScript")?z.ScriptEngineMajorVersion()+"."+z.ScriptEngineMinorVersion()+"."+z.ScriptEngineBuildVersion():"0";function Qa(a,c){this.og=c;this.Fc=[];if(a>this.og)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.Fc.push(this.tb())}A(Qa,Ha);x=Qa.prototype;x.Dc=q;x.Zf=q;x.getObject=function(){return this.Fc.length?this.Fc.pop():this.tb()};function Ra(a,c){a.Fc.length<a.og?a.Fc.push(c):Sa(a,c)}x.tb=function(){return this.Dc?this.Dc():{}};
function Sa(a,c){if(a.Zf)a.Zf(c);else{var b=da(c);if(b=="object"||b=="array"||b=="function")if(da(c.Yc)=="function")c.Yc();else for(var d in c)delete c[d]}}x.Zc=function(){Qa.vg.Zc.call(this);for(var a=this.Fc;a.length;)Sa(this,a.pop());delete this.Fc};var Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb;
(function(){function a(){return{hc:0,nd:0}}function c(){return[]}function b(){function a(b){b=g.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new Ma}function e(){return new La}var f=Oa&&!(ga(Pa,"5.7")>=0),g;Ya=function(a){g=a};if(f){Ta=function(){return h.getObject()};Ua=function(a){Ra(h,a)};Va=function(){return j.getObject()};Wa=function(a){Ra(j,a)};Xa=function(){return k.getObject()};Za=function(){Ra(k,b())};$a=function(){return n.getObject()};ab=function(a){Ra(n,a)};bb=function(){return o.getObject()};
cb=function(a){Ra(o,a)};var h=new Qa(0,600);h.Dc=a;var j=new Qa(0,600);j.Dc=c;var k=new Qa(0,600);k.Dc=b;var n=new Qa(0,600);n.Dc=d;var o=new Qa(0,600);o.Dc=e}else Ta=a,Ua=ca,Va=c,Wa=ca,Xa=b,Za=ca,$a=d,ab=ca,bb=e,cb=ca})();var db={},D={},eb={},fb={};
function gb(a,c,b,d,e){if(c)if(da(c)=="array")for(var f=0;f<c.length;f++)gb(a,c[f],b,d,e);else{var d=!!d,g=D;c in g||(g[c]=Ta());g=g[c];d in g||(g[d]=Ta(),g.hc++);var g=g[d],h=a[ea]||(a[ea]=++fa),j;g.nd++;if(g[h]){j=g[h];for(f=0;f<j.length;f++)if(g=j[f],g.Nd==b&&g.bg==e){if(g.od)break;return}}else j=g[h]=Va(),g.hc++;f=Xa();f.src=a;g=$a();g.zb(b,f,a,c,d,e);b=g.key;f.key=b;j.push(g);db[b]=g;eb[h]||(eb[h]=Va());eb[h].push(g);a.addEventListener?(a==z||!a.ph)&&a.addEventListener(c,f,d):a.attachEvent(c in
fb?fb[c]:fb[c]="on"+c,f)}else throw Error("Invalid event type");}function hb(a,c,b,d){if(!d.ke&&d.pg){for(var e=0,f=0;e<d.length;e++)if(d[e].od){var g=d[e].sg;g.src=q;Za(g);ab(d[e])}else e!=f&&(d[f]=d[e]),f++;d.length=f;d.pg=!1;f==0&&(Wa(d),delete D[a][c][b],D[a][c].hc--,D[a][c].hc==0&&(Ua(D[a][c]),delete D[a][c],D[a].hc--),D[a].hc==0&&(Ua(D[a]),delete D[a]))}}
function ib(a,c,b,d,e){var f=1,c=c[ea]||(c[ea]=++fa);if(a[c]){a.nd--;a=a[c];a.ke?a.ke++:a.ke=1;try{for(var g=a.length,h=0;h<g;h++){var j=a[h];j&&!j.od&&(f&=jb(j,e)!==!1)}}finally{a.ke--,hb(b,d,c,a)}}return Boolean(f)}
function jb(a,c){var b=a.handleEvent(c);if(a.Vf){var d=a.key;if(db[d]){var e=db[d];if(!e.od){var f=e.src,g=e.type,h=e.sg,j=e.capture;f.removeEventListener?(f==z||!f.ph)&&f.removeEventListener(g,h,j):f.detachEvent&&f.detachEvent(g in fb?fb[g]:fb[g]="on"+g,h);f=f[ea]||(f[ea]=++fa);h=D[g][j][f];if(eb[f]){var k=eb[f],n=Ga(k,e);n>=0&&Fa.splice.call(k,n,1);k.length==0&&delete eb[f]}e.od=!0;h.pg=!0;hb(g,j,f,h);delete db[d]}}}return b}
Ya(function(a,c){if(!db[a])return!0;var b=db[a],d=b.type,e=D;if(!(d in e))return!0;var e=e[d],f,g;Da===i&&(Da=pa&&!z.addEventListener);if(Da){var h;if(!(h=c))a:{h="window.event".split(".");for(var j=z;f=h.shift();)if(j[f]!=q)j=j[f];else{h=q;break a}h=j}f=h;h=!0 in e;j=!1 in e;if(h){if(f.keyCode<0||f.returnValue!=i)return!0;a:{var k=!1;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(n){k=!0}if(k||f.returnValue==i)f.returnValue=!0}}k=bb();k.zb(f,this);f=!0;try{if(h){for(var o=Va(),p=k.currentTarget;p;p=
p.parentNode)o.push(p);g=e[!0];g.nd=g.hc;for(var t=o.length-1;!k.xf&&t>=0&&g.nd;t--)k.currentTarget=o[t],f&=ib(g,o[t],d,!0,k);if(j){g=e[!1];g.nd=g.hc;for(t=0;!k.xf&&t<o.length&&g.nd;t++)k.currentTarget=o[t],f&=ib(g,o[t],d,!1,k)}}else f=jb(b,k)}finally{if(o)o.length=0,Wa(o);k.Yc();cb(k)}return f}d=new La(c,this);try{f=jb(b,d)}finally{d.Yc()}return f});var kb={61:187,59:186};pa||ra&&(Ba["525"]||(Ba["525"]=ga(ua,"525")>=0));function lb(a){this.id=mb++;this.name=a;this.controls={};this.Bf={};this.Yf=[];this.xe=this.ee=q}function nb(a,c){var b=0,d=ob==pb&&qb==rb&&sb==tb,e;for(e in ub){var f=d&&ub[e].Bg;b++;var g=vb(e,ob,qb,sb);a.ee==q&&a.controls[g]!=q&&(!f||a.controls[g].uh)&&a.controls[g].execute(c)}if(b==1&&a.ee!=q)a.xe!=q&&clearTimeout(a.xe),a.xe=setTimeout(function(){E(a,a.ee,g);a.ee=q;a.xe=q},100)}
function E(a,c,b,d,e,f){var g=b;typeof b=="number"&&(g=vb(b,d,e,f));b=[];d=a.controls[g];e=a.Bf[c.name];if(d!=q)if(e!=q)a.controls[e]=d,a.Bf[d.name]=e,b.push(new wb(e,d));else throw"The specified key is already in use for a different function.";else e!=q&&delete a.controls[e];a.controls[g]=c;a.Bf[c.name]=g;b.push(new wb(g,c));for(c=0;c<a.Yf.length;c++)g=a.Yf[c],g.Li.apply(g.Nd,b||[],xb(a))}function xb(a){var c=[],b;for(b in a.controls)c.push(new wb(b,a.controls[b]));return c}
var mb=0,ub={},ob=!1,pb={},qb=!1,rb={},sb=!1,tb={};function yb(a){var c=a.Ci,c=qa&&a.keyCode in kb?kb[a.keyCode]:a.keyCode;return{keyCode:c,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey}}function vb(a,c,b,d){var e=Ea[a];e==q&&(e="KEY["+a+"]");return(c?"Ctrl + ":"")+(b?"Alt + ":"")+(d?"Shift + ":"")+e.toUpperCase()}gb(document,"keydown",function(a){a=yb(a);a.keyCode!=16&&a.keyCode!=17&&a.keyCode!=18&&ub[a.keyCode]==q&&(ub[a.keyCode]={Bg:!1});ob=a.ctrlKey;qb=a.altKey;sb=a.shiftKey});
gb(document,"keyup",function(a){a=yb(a);delete ub[a.keyCode];ob=a.ctrlKey;qb=a.altKey;sb=a.shiftKey});gb(document,"blur",function(){ub={};tb=sb=rb=qb=pb=ob=!1});function wb(a,c){this.key=this.key=a;this.action=this.action=c};function F(a,c){this.x=a;this.y=c}x=F.prototype;x.ba=function(){this.y=this.x=0};x.i=function(a,c){this.x=a;this.y=c};x.l=function(a){this.x=a.x;this.y=a.y};x.wc=function(){return new F(-this.x,-this.y)};x.Lf=function(){this.x=-this.x;this.y=-this.y};x.ka=function(){return new F(this.x,this.y)};x.rd=function(a){this.x+=a.x;this.y+=a.y};x.Kf=function(a){this.x*=a;this.y*=a};function zb(a){return a.x*a.x+a.y*a.y}function G(a){var c=Math.sqrt(zb(a));c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)};function Ab(){this.a=new F(0,0);this.b=new F(0,0);this.de()}x=Ab.prototype;x.i=function(a){var c=Math.cos(a),a=Math.sin(a);this.a.i(c,a);this.b.i(-a,c)};x.ka=function(){var a=new Ab;a.Sc(this);return a};x.Sc=function(a){this.a.l(a.a);this.b.l(a.b)};x.He=function(a){this.a.rd(a.a);this.b.rd(a.b)};x.de=function(){this.a.i(1,0);this.b.i(0,1)};x.ba=function(){this.a.i(0,0);this.b.i(0,0)};x.Kb=function(){return Math.atan2(this.a.y,this.a.x)};
x.Fd=function(a,c,b){var d=this.a.x*this.b.y-this.b.x*this.a.y;d!==0&&(d=1/d);a.x=d*(this.b.y*c-this.b.x*b);a.y=d*(this.a.x*b-this.a.y*c);return a};function Bb(a,c){return a.x*c.x+a.y*c.y}function Cb(a,c){return a.x*c.y-a.y*c.x}function Db(a){return new F(1*a.y,-1*a.x)}function Eb(a,c){return new F(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)}function Fb(a,c){return new F(Bb(c,a.a),Bb(c,a.b))}function I(a,c){var b=Eb(a.d,c);b.x+=a.position.x;b.y+=a.position.y;return b}function Gb(a,c){var b=J(c,a.position),d=b.x*a.d.a.x+b.y*a.d.a.y;b.y=b.x*a.d.b.x+b.y*a.d.b.y;b.x=d;return b}function J(a,c){return new F(a.x-c.x,a.y-c.y)}
function K(a,c,b){return a<c?c:a>b?b:a};function L(a){if(!a)throw"Assertion Failed";}var Hb=2/180*Math.PI,Ib=8/180*Math.PI,Jb=0.5*Math.PI,Kb=Jb*Jb,Lb=2/180*Math.PI;function Mb(){}Mb.prototype.i=function(a){this.Aa.l(a.Aa);this.qb.l(a.qb);this.ta.l(a.ta);this.k=a.k;this.fa=a.fa;this.ga=a.ga};function Nb(){var a=N;if(a.t==1)return a.M.ta.wc();else if(a.t==2){var c=J(a.W.ta,a.M.ta);return Cb(c,a.M.ta.wc())>0?new F(-1*c.y,1*c.x):Db(c)}else return L(!1),new F(0,0)}function Ob(a){return a.t==1?0:a.t==2?Math.sqrt(zb(J(a.M.ta,a.W.ta))):a.t==3?Cb(J(a.W.ta,a.M.ta),J(a.Wa.ta,a.M.ta)):(L(!1),0)};function Pb(a,c,b){var d=b.bb,e=b.De,f=b.cb,g=b.Ee,h=N;L(0<=c.count&&c.count<=3);var j,k;h.t=c.count;for(var n=h.j,o=0;o<h.t;o++){var p=n[o];p.fa=c.fa[o];p.ga=c.ga[o];j=O(d,p.fa);k=O(f,p.ga);p.Aa=I(e,j);p.qb=I(g,k);p.ta=J(p.qb,p.Aa);p.k=0}if(h.t>1&&(j=c.bi,k=Ob(h),k<0.5*j||2*j<k||k<Number.MIN_VALUE))h.t=0;if(h.t==0)p=n[0],p.fa=0,p.ga=0,j=O(d,0),k=O(f,0),p.Aa=I(e,j),p.qb=I(g,k),p.ta=J(p.qb,p.Aa),h.t=1;(N.t<1||N.t>3)&&L(!1);for(d=0;d<20;){e=[];for(f=0;f<N.t;f++)e[f]={},e[f].fa=N.j[f].fa,e[f].ga=N.j[f].ga;
if(N.t==2)f=N,g=f.M.ta,h=f.W.ta,n=J(h,g),g=-(g.x*n.x+g.y*n.y),g<=0?(f.M.k=1,f.t=1):(h=h.x*n.x+h.y*n.y,h<=0?(f.W.k=1,f.t=1,f.M.i(f.W)):(n=1/(h+g),f.M.k=h*n,f.W.k=g*n,f.t=2));else if(N.t==3){var f=N,p=f.M.ta,t=f.W.ta,v=f.Wa.ta,u=J(t,p),g=Bb(t,u),h=-Bb(p,u),w=J(v,p),n=Bb(v,w);j=-Bb(p,w);o=J(v,t);k=Bb(v,o);o=-Bb(t,o);w=Cb(u,w);u=w*Cb(t,v);v=w*Cb(v,p);p=w*Cb(p,t);h<=0&&j<=0?(f.M.k=1,f.t=1):g>0&&h>0&&p<=0?(n=1/(g+h),f.M.k=g*n,f.W.k=h*n,f.t=2):n>0&&j>0&&v<=0?(g=1/(n+j),f.M.k=n*g,f.Wa.k=j*g,f.t=2,f.W.i(f.Wa)):
g<=0&&o<=0?(f.W.k=1,f.t=1,f.M.i(f.W)):n<=0&&k<=0?(f.Wa.k=1,f.t=1,f.M.i(f.Wa)):k>0&&o>0&&u<=0?(g=1/(k+o),f.W.k=k*g,f.Wa.k=o*g,f.t=2,f.M.i(f.Wa)):(g=1/(u+v+p),f.M.k=u*g,f.W.k=v*g,f.Wa.k=p*g,f.t=3)}if(N.t==3)break;f=Nb();if(zb(f)<Qb)break;N.j[N.t].fa=b.bb.ce(Fb(b.De.d,f.wc()));N.j[N.t].Aa=I(b.De,O(b.bb,N.j[N.t].fa));N.j[N.t].ga=b.cb.ce(Fb(b.Ee.d,f));N.j[N.t].qb=I(b.Ee,O(b.cb,N.j[N.t].ga));N.j[N.t].ta=J(N.j[N.t].qb,N.j[N.t].Aa);d++;g=!1;for(f=0;f<e.length;f++)if(N.j[N.t].fa==e[f].fa&&N.j[N.t].ga==e[f].ga){g=
!0;break}if(g)break;N.t++}e=a.$b;f=a.ac;g=N;g.t==1?(e.l(g.M.Aa),f.l(g.M.qb)):g.t==2?(e.x=g.M.k*g.M.Aa.x+g.W.k*g.W.Aa.x,e.y=g.M.k*g.M.Aa.y+g.W.k*g.W.Aa.y,f.x=g.M.k*g.M.qb.x+g.W.k*g.W.qb.x,f.y=g.M.k*g.M.qb.y+g.W.k*g.W.qb.y):g.t==3?(f.x=e.x=g.M.k*g.M.Aa.x+g.W.k*g.W.Aa.x+g.Wa.k*g.Wa.Aa.x,f.y=e.y=g.M.k*g.M.Aa.y+g.W.k*g.W.Aa.y+g.Wa.k*g.Wa.Aa.y):L(!1);a.$c=Math.sqrt(zb(J(a.$b,a.ac)));a.Ni=d;d=N;c.bi=Ob(d);c.count=d.t;e=d.j;for(f=0;f<d.t;f++)c.fa[f]=e[f].fa,c.ga[f]=e[f].ga;if(b.zg)c=b.bb.L,b=b.cb.L,a.$c>
c+b&&a.$c>Number.MIN_VALUE?(a.$c-=c+b,d=J(a.ac,a.$b),G(d),a.$b.x+=c*d.x,a.$b.y+=c*d.y,a.ac.x-=b*d.x,a.ac.y-=b*d.y):(b=new F(0,0),b.x=0.5*(a.$b.x+a.ac.x),b.y=0.5*(a.$b.y+a.ac.y),a.$b.x=a.ac.x=b.x,a.$b.y=a.ac.y=b.y,a.$c=0)}var N=new function(){this.M=new Mb;this.W=new Mb;this.Wa=new Mb;this.j=[this.M,this.W,this.Wa]};function Rb(){};function Sb(){this.$b=new F(0,0);this.ac=new F(0,0)};function Tb(){this.fa=[0,0,0];this.ga=[0,0,0]};function Ub(){}Ub.prototype.i=function(a){a.Qe(this)};Ub.prototype.ce=function(a){for(var c=0,b=this.j[0].x*a.x+this.j[0].y*a.y,d=1;d<this.t;d++){var e=this.j[d].x*a.x+this.j[d].y*a.y;e>b&&(c=d,b=e)}return c};Ub.prototype.yd=function(a){return this.j[this.ce(a)]};Ub.prototype.If=s("t");function O(a,c){c===i&&(c=0);L(0<=c&&c<a.t);return a.j[c]};var Vb={};function Wb(){this.O=Xb;this.L=0.005}x=Wb.prototype;x.ka=aa(q);x.i=function(a){this.L=a.L};x.J=s("O");x.td=r();x.Ie=r();x.Qe=function(){L(!1)};var Xb=-1;function Yb(){this.pc=0;this.Cc=new F(0,0);this.zd=0};function Zb(a,c){this.position=new F(0,0);this.d=new Ab;a&&this.position.l(a);c&&this.d.Sc(c)}Zb.prototype.ua=function(a,c){this.position.l(a);this.d.Sc(c)};Zb.prototype.de=function(){this.position.ba();this.d.de()};Zb.prototype.i=function(a){this.position.l(a.position);this.d.Sc(a.d)};Zb.prototype.Kb=function(){return Math.atan2(this.d.a.y,this.d.a.x)};function P(){Wb.call(this);this.O=1;this.nb=new F(0,0);this.j=[];this.$=[]}A(P,Wb);x=P.prototype;x.ka=function(){var a=new P;a.i(this);return a};x.i=function(a){Wb.prototype.i.call(this,a);if(a instanceof P){this.nb.l(a.nb);this.V=a.V;$b(this,this.V);for(var c=0;c<this.V;c++)this.j[c].l(a.j[c]),this.$[c].l(a.$[c])}};function ac(a,c){bc(a,c)}
function bc(a,c){var b=c.length;L(2<=b);a.V=b;$b(a,b);for(b=b=0;b<a.V;b++)a.j[b].l(c[b]);for(b=0;b<a.V;++b){var d=J(a.j[b+1<a.V?b+1:0],a.j[b]);L(zb(d)>Number.MIN_VALUE);a.$[b].l(Db(d));G(a.$[b])}b=a.j;d=a.V;d===i&&(d=0);for(var e=new F(0,0),f=0,g=1/3,h=0;h<d;++h){var j=b[h],k=h+1<d?b[h+1]:b[0],n=0.5*((j.x-0)*(k.y-0)-(j.y-0)*(k.x-0));f+=n;e.x+=n*g*(0+j.x+k.x);e.y+=n*g*(0+j.y+k.y)}e.x*=1/f;e.y*=1/f;a.nb=e}
function cc(a,c,b){a.V=4;$b(a,4);a.j[0].i(-c,-b);a.j[1].i(c,-b);a.j[2].i(c,b);a.j[3].i(-c,b);a.$[0].i(0,-1);a.$[1].i(1,0);a.$[2].i(0,1);a.$[3].i(-1,0);a.nb.ba()}
x.td=function(a,c){for(var b=c.d,d=this.j[0],e=c.position.x+(b.a.x*d.x+b.b.x*d.y),f=c.position.y+(b.a.y*d.x+b.b.y*d.y),g=e,h=f,j=1;j<this.V;++j)var d=this.j[j],k=c.position.x+(b.a.x*d.x+b.b.x*d.y),d=c.position.y+(b.a.y*d.x+b.b.y*d.y),e=e<k?e:k,f=f<d?f:d,g=g>k?g:k,h=h>d?h:d;a.lowerBound.x=e-this.L;a.lowerBound.y=f-this.L;a.upperBound.x=g+this.L;a.upperBound.y=h+this.L};
x.Ie=function(a,c){c===i&&(c=0);if(this.V==2)a.Cc.x=0.5*(this.j[0].x+this.j[1].x),a.Cc.y=0.5*(this.j[0].y+this.j[1].y),a.pc=0,a.zd=0;else{for(var b=0,d=0,e=0,f=0,g=1/3,h=0;h<this.V;++h){var j=this.j[h],k=h+1<this.V?this.j[h+1]:this.j[0],n=j.x-0,o=j.y-0,p=k.x-0,t=k.y-0,v=n*t-o*p,u=0.5*v;e+=u;b+=u*g*(0+j.x+k.x);d+=u*g*(0+j.y+k.y);j=n;f+=v*(g*(0.25*(j*j+p*j+p*p)+(0*j+0*p))+0+(g*(0.25*(o*o+t*o+t*t)+(0*o+0*t))+0))}a.pc=c*e;b*=1/e;d*=1/e;a.Cc.i(b,d);a.zd=c*f}};
x.Qe=function(a){a.j=this.j;a.t=this.V;a.L=this.L};x.If=s("V");x.ce=function(a){for(var c=0,b=this.j[0].x*a.x+this.j[0].y*a.y,d=1;d<this.V;++d){var e=this.j[d].x*a.x+this.j[d].y*a.y;e>b&&(c=d,b=e)}return c};x.yd=function(a){for(var c=0,b=this.j[0].x*a.x+this.j[0].y*a.y,d=1;d<this.V;++d){var e=this.j[d].x*a.x+this.j[d].y*a.y;e>b&&(c=d,b=e)}return this.j[c]};function $b(a,c){a.j=[];a.$=[];for(var b=a.j.length;b<c;b++)a.j[b]=new F(0,0),a.$[b]=new F(0,0)}new Ab;var dc={},ec=0;function fc(){ec--}function gc(a){if(a.Cf===i||a.Cf===q)a.Cf={};return a.Cf};function hc(){this.te=this.lf=this.ed=this.Uh=this.gd=1;var a=this;this.Yh={zh:{clear:function(){a.Ub.clearRect(0,0,a.Ub.canvas.width,a.Ub.canvas.height)}}};this.hg=0}var ic,jc,kc,lc,mc,nc;
(function(a){a.prototype.ec=function(a,b){return"rgba("+((a&16711680)>>16)+","+((a&65280)>>8)+","+(a&255)+","+b+")"};a.prototype.Xg=function(){var a=oc;a===i&&(a=0);this.hg=a};a.prototype.Zg=function(a){this.Ub=a};a.prototype.Vg=function(a){a===i&&(a=0);this.gd=a};a.prototype.Yg=function(){var a=1;a===i&&(a=0);this.Uh=a;this.Ub.aj=a};a.prototype.Wg=function(){var a=0.3;a===i&&(a=0);this.lf=a};a.prototype.Jg=function(a,b){var d=this.Ub,e=this.gd;d.beginPath();d.strokeStyle=this.ec(b.color,this.ed);
d.moveTo(a[0].x*e,a[0].y*e);for(var f=1;f<4;f++)d.lineTo(a[f].x*e,a[f].y*e);d.lineTo(a[0].x*e,a[0].y*e);d.closePath();d.stroke()};a.prototype.Lg=function(a,b,d){if(b){var e=this.Ub,f=this.gd;e.beginPath();e.strokeStyle=this.ec(d.color,this.ed);e.fillStyle=this.ec(d.color,this.lf);e.moveTo(a[0].x*f,a[0].y*f);for(d=1;d<b;d++)e.lineTo(a[d].x*f,a[d].y*f);e.lineTo(a[0].x*f,a[0].y*f);e.closePath();e.fill();e.stroke()}};a.prototype.Kg=function(a,b,d,e){if(b){var f=this.Ub,g=this.gd,h=a.x*g,j=a.y*g;f.moveTo(0,
0);f.beginPath();f.strokeStyle=this.ec(e.color,this.ed);f.fillStyle=this.ec(e.color,this.lf);f.arc(h,j,b*g,0,Math.PI*2,!0);f.moveTo(h,j);f.lineTo((a.x+d.x*b)*g,(a.y+d.y*b)*g);f.closePath();f.fill();f.stroke()}};a.prototype.wd=function(a,b,d){var e=this.Ub,f=this.gd;e.strokeStyle=this.ec(d.color,this.ed);e.beginPath();e.moveTo(a.x*f,a.y*f);e.lineTo(b.x*f,b.y*f);e.closePath();e.stroke()};a.prototype.Mg=function(a){var b=this.Ub,d=this.gd;b.beginPath();b.strokeStyle=this.ec(16711680,this.ed);b.moveTo(a.position.x*
d,a.position.y*d);b.lineTo((a.position.x+this.te*a.d.a.x)*d,(a.position.y+this.te*a.d.a.y)*d);b.strokeStyle=this.ec(65280,this.ed);b.moveTo(a.position.x*d,a.position.y*d);b.lineTo((a.position.x+this.te*a.d.b.x)*d,(a.position.y+this.te*a.d.b.y)*d);b.closePath();b.stroke()};ic=1;jc=2;kc=4;lc=8;mc=16;nc=32})(hc);function pc(a,c,b,d){if(dc[a]==q)ec++,dc[a]=new Image,dc[a].onload=fc,dc[a].src=a;this.url=a;this.qg=c||new F(0,0);this.ze=b||new F(1,1);this.yg=d||new F(1,1);this.eb=new F(1,1)};function qc(){this.lowerBound=new F(0,0);this.upperBound=new F(0,0)}function rc(a){return new F((a.lowerBound.x+a.upperBound.x)/2,(a.lowerBound.y+a.upperBound.y)/2)}function sc(a,c){var b;return b=(b=(b=(b=a.lowerBound.x<=c.lowerBound.x)&&a.lowerBound.y<=c.lowerBound.y)&&c.upperBound.x<=a.upperBound.x)&&c.upperBound.y<=a.upperBound.y}
qc.prototype.Uc=function(a){return a.lowerBound.x-this.upperBound.x>0?!1:a.lowerBound.y-this.upperBound.y>0?!1:this.lowerBound.x-a.upperBound.x>0?!1:this.lowerBound.y-a.upperBound.y>0?!1:!0};function tc(a,c,b){a.lowerBound.x=Math.min(c.lowerBound.x,b.lowerBound.x);a.lowerBound.y=Math.min(c.lowerBound.y,b.lowerBound.y);a.upperBound.x=Math.max(c.upperBound.x,b.upperBound.x);a.upperBound.y=Math.max(c.upperBound.y,b.upperBound.y)};function uc(a,c,b,d,e){this.Pb={};this.ea=a;this.pb=d;this.Jb=new F(d.x/b,d.y/b);this.scale=b;this.ia=new F(0,0);this.ie=new F(-1,-1);this.Ag=Q(this.ea.n,new F(this.Jb.x*1.25,this.Jb.y*1.25),new F(0,0),!1,q,{Kd:!0});vc(this,new F(0,0));a=document.getElementById(c);this.Ec=document.createElement("span");if(e)a.innerHTML='<div style="width: '+this.pb.x+"px; height: "+this.pb.y/2+'px; background-color: #000; opacity: 0.15; position: absolute;"></div><div style="width: '+this.pb.x/2+"px; height: "+this.pb.y+
'px; background-color: #FFF; opacity: 0.15; position: absolute;"></div>',this.Ec.innerHTML='<canvas id="'+c+'__DEBUG" class="debugViewport"></canvas>';this.Ec.className="viewportContainer";this.Ec.style.width=this.pb.x+"px";this.Ec.style.height=this.pb.y+"px";this.display=document.createElement("span");this.display.className="viewport";this.Ec.appendChild(this.display);a.appendChild(this.Ec);this.gf=document.createElement("div");this.gf=wc(this,"Loading, please wait.");xc(this.gf);this.rg=wc(this,
"Paused");e?(this.Ra=document.getElementById(c+"__DEBUG"),this.Ra.width=this.ea.n.Ma.x*b,this.Ra.height=this.ea.n.Ma.y*b,this.Ra.style.marginRight="-"+this.Ra.width+"px",this.Ra.style.marginBottom="-"+this.Ra.height+"px",c=new hc,c.Zg(this.Ra.getContext("2d")),c.Vg(b),c.Wg(),c.Yg(),c.Xg(),this.ea.n.ib.Ug(c)):this.Ra=q}
function wc(a,c){var b=document.createElement("div");b.style.fontSize="40px";b.style.textAlign="center";b.style.verticalAlign="middle";b.style.backgroundColor="rgba(255,255,255,0.5)";b.style.color="black";b.style.position="relative";b.style.display="none";b.style.zIndex=100+yc;b.innerHTML=c;b.style.width=a.pb.x+"px";b.style.height=a.pb.y+"px";a.Ec.appendChild(b);return b}function xc(a){if(a.style.display=="none")a.style.display="table-cell"}
function zc(a){if(a.style.display!="none")a.style.display="none"}function vc(a,c){a.ia.x=c.x;a.ia.y=c.y;if(a.ia.x<a.Jb.x/2)a.ia.x=a.Jb.x/2;else if(a.ia.x>a.ea.n.Ma.x-a.Jb.x/2)a.ia.x=a.ea.n.Ma.x-a.Jb.x/2;if(a.ia.y<a.Jb.y/2)a.ia.y=a.Jb.y/2;else if(a.ia.y>a.ea.n.Ma.y-a.Jb.y/2)a.ia.y=a.ea.n.Ma.y-a.Jb.y/2}
function Ac(a,c){if(a.display==q)a.display={},a.display.B=new qc,a.yh=function(a){var c=this.body?this.body.g.position:this.position.ka();return this.display.ue==0?c:new F(c.x+(a.x-c.x)*this.display.ue,c.y+(a.y-c.y)*this.display.ue)},a.xh=function(){return this.body?this.body.Kb():this.Pa},a.display.ue=0,a.display.Cg=0;a.display.size=c.ka()}function R(a,c,b){a.display.Be=new pc(c,b)}var yc=100,oc=0|kc|ic,Bc=0;var Cc=function(){var a=window.$i||window.cj||window.Vi||window.Zi||window.Wi||function(a){window.setTimeout(a,1E3/60)};return function(){a.apply(window,arguments)}}();function Dc(){this.Id=1;this.Sd=65535;this.Gc=0}Dc.prototype.ka=function(){var a=new Dc;a.Id=this.Id;a.Sd=this.Sd;a.Gc=this.Gc;return a};function Ec(){this.filter=new Dc;this.sc=this.shape=q;this.Za=0.2;this.Xc=this.Ib=0;this.filter.Id=1;this.filter.Sd=65535;this.filter.Gc=0;this.Kd=!1};function Fc(){}Fc.prototype.yb=function(a,c){var b=a.mf.ka(),d=c.mf.ka();return b.Gc==d.Gc&&b.Gc!=0?b.Gc>0:(b.Sd&d.Id)!=0&&(b.Id&d.Sd)!=0};var Gc=new Fc;var S=!(Object.prototype.defineProperty instanceof Function)&&Object.prototype.__defineGetter__ instanceof Function&&Object.prototype.__defineSetter__ instanceof Function?function(a,c,b){b.get instanceof Function&&a.__defineGetter__(c,b.get);b.set instanceof Function&&a.__defineSetter__(c,b.set)}:Object.defineProperty;function Hc(a,c){return function(){c.apply(a,arguments)}};function Ic(){}S(Ic.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:s("Ye")});S(Ic.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function(a){a===i&&(a=0);this.Ye=a;this.fc.Oa=this.fc.Oa&4294967040|this.Ye&255}});S(Ic.prototype,"incidentEdge",{enumerable:!1,configurable:!0,get:s("Ve")});S(Ic.prototype,"incidentEdge",{enumerable:!1,configurable:!0,set:function(a){a===i&&(a=0);this.Ve=a;this.fc.Oa=this.fc.Oa&4294902015|this.Ve<<8&65280}});
S(Ic.prototype,"incidentVertex",{enumerable:!1,configurable:!0,get:s("We")});S(Ic.prototype,"incidentVertex",{enumerable:!1,configurable:!0,set:function(a){a===i&&(a=0);this.We=a;this.fc.Oa=this.fc.Oa&4278255615|this.We<<16&16711680}});S(Ic.prototype,"flip",{enumerable:!1,configurable:!0,get:s("Te")});S(Ic.prototype,"flip",{enumerable:!1,configurable:!0,set:function(a){a===i&&(a=0);this.Te=a;this.fc.Oa=this.fc.Oa&16777215|this.Te<<24&4278190080}});function Jc(){this.jb=new Ic;this.jb.fc=this}Jc.prototype.i=function(a){this.key=a.Oa};Jc.prototype.ka=function(){var a=new Jc;a.key=this.key;return a};S(Jc.prototype,"key",{enumerable:!1,configurable:!0,get:s("Oa"),set:function(a){a===i&&(a=0);this.Oa=a;this.jb.Ye=this.Oa&255;this.jb.Ve=(this.Oa&65280)>>8&255;this.jb.We=(this.Oa&16711680)>>16&255;this.jb.Te=(this.Oa&4278190080)>>24&255}});function Kc(){this.A=new F(0,0);this.Wb=new Jc;this.constructor===Kc&&this.la()}Kc.prototype.la=function(){this.A.ba();this.Mc=this.Kc=0;this.Wb.key=0};Kc.prototype.i=function(a){this.A.l(a.A);this.Kc=a.Kc;this.Mc=a.Mc;this.Wb.i(a.Wb)};function Lc(){this.aa=0;if(this.constructor===Lc){this.z=[];for(var a=0;a<2;a++)this.z[a]=new Kc;this.sa=new F(0,0);this.A=new F(0,0)}}Lc.prototype.la=function(){for(var a=0;a<2;a++)this.z[a].la();this.sa.ba();this.A.ba();this.aa=this.O=0};Lc.prototype.i=function(a){this.aa=a.aa;for(var c=0;c<2;c++)this.z[c].i(a.z[c]);this.sa.l(a.sa);this.A.l(a.A);this.O=a.O};Lc.prototype.ka=function(){var a=new Lc;a.i(this);return a};var Qb=Number.MIN_VALUE*Number.MIN_VALUE;function Mc(){this.G=new F(0,0);this.z=[];for(var a=0;a<2;a++)this.z[a]=new F(0,0)}
Mc.prototype.ua=function(a,c,b,d,e){b===i&&(b=0);e===i&&(e=0);if(a.aa!=0){var f=0,g,h,j=0,k=0,n=0,o=0,p=0;g=0;switch(a.O){case 1:h=c.d;g=a.A;f=c.position.x+h.a.x*g.x+h.b.x*g.y;c=c.position.y+h.a.y*g.x+h.b.y*g.y;h=d.d;g=a.z[0].A;a=d.position.x+h.a.x*g.x+h.b.x*g.y;d=d.position.y+h.a.y*g.x+h.b.y*g.y;g=a-f;h=d-c;j=g*g+h*h;j>Qb?(j=Math.sqrt(j),this.G.x=g/j,this.G.y=h/j):(this.G.x=1,this.G.y=0);g=c+b*this.G.y;d-=e*this.G.y;this.z[0].x=0.5*(f+b*this.G.x+(a-e*this.G.x));this.z[0].y=0.5*(g+d);break;case 2:h=
c.d;g=a.sa;j=h.a.x*g.x+h.b.x*g.y;k=h.a.y*g.x+h.b.y*g.y;h=c.d;g=a.A;n=c.position.x+h.a.x*g.x+h.b.x*g.y;o=c.position.y+h.a.y*g.x+h.b.y*g.y;this.G.x=j;this.G.y=k;for(f=0;f<a.aa;f++)h=d.d,g=a.z[f].A,p=d.position.x+h.a.x*g.x+h.b.x*g.y,g=d.position.y+h.a.y*g.x+h.b.y*g.y,this.z[f].x=p+0.5*(b-(p-n)*j-(g-o)*k-e)*j,this.z[f].y=g+0.5*(b-(p-n)*j-(g-o)*k-e)*k;break;case 4:h=d.d;g=a.sa;j=h.a.x*g.x+h.b.x*g.y;k=h.a.y*g.x+h.b.y*g.y;h=d.d;g=a.A;n=d.position.x+h.a.x*g.x+h.b.x*g.y;o=d.position.y+h.a.y*g.x+h.b.y*g.y;
this.G.x=-j;this.G.y=-k;for(f=0;f<a.aa;f++)h=c.d,g=a.z[f].A,p=c.position.x+h.a.x*g.x+h.b.x*g.y,g=c.position.y+h.a.y*g.x+h.b.y*g.y,this.z[f].x=p+0.5*(e-(p-n)*j-(g-o)*k-b)*j,this.z[f].y=g+0.5*(e-(p-n)*j-(g-o)*k-b)*k}}};function Nc(){}Nc.prototype.i=function(a){this.Y=a.Y;this.lb=a.lb;this.md=a.md;this.pd=a.pd;this.qd=a.qd};function Oc(){this.Bb=new F(0,0);this.H=new F(0,0);this.I=new F(0,0)};function Pc(){this.je=new F(0,0);this.Bb=new F(0,0);this.Zb=new F(0,0);this.ld=new Ab;this.sb=new Ab;this.Fa=[];for(var a=0;a<2;a++)this.Fa[a]=new Oc};function Qc(){this.G=new F(0,0);this.re=[];this.z=[];for(var a=0;a<2;a++)this.z[a]=new F(0,0)}
Qc.prototype.ua=function(a){L(a.ab>0);var c=0,b=0,d=0,e=0,f=0;switch(a.type){case 1:var g=a.ca.g.d,d=a.Bb,c=a.ca.g.position.x+(g.a.x*d.x+g.b.x*d.y),b=a.ca.g.position.y+(g.a.y*d.x+g.b.y*d.y),g=a.da.g.d,d=a.Fa[0].Bb,e=a.da.g.position.x+(g.a.x*d.x+g.b.x*d.y),g=a.da.g.position.y+(g.a.y*d.x+g.b.y*d.y),d=e-c,f=g-b,h=d*d+f*f;h>Qb?(h=Math.sqrt(h),this.G.x=d/h,this.G.y=f/h):(this.G.x=1,this.G.y=0);this.z[0].x=0.5*(c+e);this.z[0].y=0.5*(b+g);this.re[0]=d*this.G.x+f*this.G.y-a.Af;break;case 2:g=a.ca.g.d;d=a.je;
this.G.x=g.a.x*d.x+g.b.x*d.y;this.G.y=g.a.y*d.x+g.b.y*d.y;g=a.ca.g.d;d=a.Bb;e=a.ca.g.position.x+(g.a.x*d.x+g.b.x*d.y);f=a.ca.g.position.y+(g.a.y*d.x+g.b.y*d.y);g=a.da.g.d;for(c=0;c<a.ab;c++)d=a.Fa[c].Bb,b=a.da.g.position.x+(g.a.x*d.x+g.b.x*d.y),d=a.da.g.position.y+(g.a.y*d.x+g.b.y*d.y),this.re[c]=(b-e)*this.G.x+(d-f)*this.G.y-a.Af,this.z[c].x=b,this.z[c].y=d;break;case 4:g=a.da.g.d;d=a.je;this.G.x=g.a.x*d.x+g.b.x*d.y;this.G.y=g.a.y*d.x+g.b.y*d.y;g=a.da.g.d;d=a.Bb;e=a.da.g.position.x+(g.a.x*d.x+g.b.x*
d.y);f=a.da.g.position.y+(g.a.y*d.x+g.b.y*d.y);g=a.ca.g.d;for(c=0;c<a.ab;c++)d=a.Fa[c].Bb,b=a.ca.g.position.x+(g.a.x*d.x+g.b.x*d.y),d=a.ca.g.position.y+(g.a.y*d.x+g.b.y*d.y),this.re[c]=(b-e)*this.G.x+(d-f)*this.G.y-a.Af,this.z[c].i(b,d);this.G.x*=-1;this.G.y*=-1}};function Rc(){this.Zh=new Nc;this.Cb=[]}x=Rc.prototype;
x.ua=function(a,c,b){b===i&&(b=0);var d;this.Zh.i(a);a=0;for(this.Od=b;this.Cb.length<this.Od;)this.Cb[this.Cb.length]=new Pc;for(a=0;a<b;++a){d=c[a];var e=d.C,f=d.F,g=e.ha.L,h=f.ha.L,j=e.p,k=f.p,n=d.Va,o;d=e.nf;var p=f.nf;d===i&&(d=0);p===i&&(p=0);o=Math.sqrt(d*p);var t,e=e.pf,f=f.pf;e===i&&(e=0);f===i&&(f=0);t=e>f?e:f;var p=j.q.x,v=j.q.y,u=k.q.x,w=k.q.y,y=j.D,M=k.D;L(n.aa>0);Sc.ua(n,j.g,g,k.g,h);e=Sc.G.x;d=Sc.G.y;f=this.Cb[a];f.ca=j;f.da=k;f.$h=n;f.Zb.x=e;f.Zb.y=d;f.ab=n.aa;f.Za=o;f.Ib=t;f.je.x=
n.sa.x;f.je.y=n.sa.y;f.Bb.x=n.A.x;f.Bb.y=n.A.y;f.Af=g+h;f.type=n.O;for(g=0;g<f.ab;++g){o=n.z[g];h=f.Fa[g];h.oa=o.Kc;h.bc=o.Mc;h.Bb.l(o.A);o=h.H.x=Sc.z[g].x-j.c.h.x;t=h.H.y=Sc.z[g].y-j.c.h.y;var C=h.I.x=Sc.z[g].x-k.c.h.x,l=h.I.y=Sc.z[g].y-k.c.h.y,m=o*d-t*e,H=C*d-l*e;m*=m;H*=H;h.ld=1/(j.w+k.w+j.K*m+k.K*H);var U=j.m*j.w+k.m*k.w;U+=j.m*j.K*m+k.m*k.K*H;h.th=1/U;H=d;U=-e;m=o*U-t*H;H=C*U-l*H;m*=m;H*=H;h.si=1/(j.w+k.w+j.K*m+k.K*H);h.Fe=0;o=f.Zb.x*(u+-M*l-p- -y*t)+f.Zb.y*(w+M*C-v-y*o);o<-1&&(h.Fe+=-f.Ib*o)}if(f.ab==
2)w=f.Fa[0],u=f.Fa[1],n=j.w,j=j.K,p=k.w,k=k.K,v=w.H.x*d-w.H.y*e,w=w.I.x*d-w.I.y*e,y=u.H.x*d-u.H.y*e,u=u.I.x*d-u.I.y*e,e=n+p+j*v*v+k*w*w,d=n+p+j*y*y+k*u*u,k=n+p+j*v*y+k*w*u,e*e<100*(e*d-k*k)?(f.sb.a.i(e,k),f.sb.b.i(k,d),k=f.sb,f=f.ld,j=k.a.x*k.b.y-k.b.x*k.a.y,j!==0&&(j=1/j),f.a.x=j*k.b.y,f.b.x=-j*k.b.x,f.a.y=-j*k.a.y,f.b.y=j*k.a.x):f.ab=1}};
x.Rc=function(a){for(var c=0;c<this.Od;++c){var b=this.Cb[c],d=b.ca,e=b.da,f=d.w,g=d.K,h=e.w,j=e.K,k=b.Zb.x,n=b.Zb.y,o=n,p=-k,t=0,v=0;if(a.qd){v=b.ab;for(t=0;t<v;++t){var u=b.Fa[t];u.oa*=a.Qb;u.bc*=a.Qb;var w=u.oa*k+u.bc*o,y=u.oa*n+u.bc*p;d.D-=g*(u.H.x*y-u.H.y*w);d.q.x-=f*w;d.q.y-=f*y;e.D+=j*(u.I.x*y-u.I.y*w);e.q.x+=h*w;e.q.y+=h*y}}else{v=b.ab;for(t=0;t<v;++t)d=b.Fa[t],d.oa=0,d.bc=0}}};
x.Bc=function(){for(var a=0,c,b=0,d=0,e=0,f=d=d=b=b=0,g=b=b=0,h=b=e=0,j=0,k,n=0;n<this.Od;++n){var e=this.Cb[n],o=e.ca,p=e.da,t=o.D,v=p.D,u=o.q,w=p.q,y=o.w,M=o.K,C=p.w,l=p.K,h=e.Zb.x,m=j=e.Zb.y;k=-h;g=e.Za;for(a=0;a<e.ab;a++)c=e.Fa[a],b=w.x-v*c.I.y-u.x+t*c.H.y,d=w.y+v*c.I.x-u.y-t*c.H.x,b=b*m+d*k,b=c.si*-b,d=g*c.oa,d=K(c.bc+b,-d,d),b=d-c.bc,f=b*m,b*=k,u.x-=y*f,u.y-=y*b,t-=M*(c.H.x*b-c.H.y*f),w.x+=C*f,w.y+=C*b,v+=l*(c.I.x*b-c.I.y*f),c.bc=d;if(e.ab==1)c=e.Fa[0],b=w.x+-v*c.I.y-u.x- -t*c.H.y,d=w.y+v*c.I.x-
u.y-t*c.H.x,e=b*h+d*j,b=-c.ld*(e-c.Fe),d=c.oa+b,d=d>0?d:0,b=d-c.oa,f=b*h,b*=j,u.x-=y*f,u.y-=y*b,t-=M*(c.H.x*b-c.H.y*f),w.x+=C*f,w.y+=C*b,v+=l*(c.I.x*b-c.I.y*f),c.oa=d;else{c=e.Fa[0];var a=e.Fa[1],b=c.oa,g=a.oa,H=(w.x-v*c.I.y-u.x+t*c.H.y)*h+(w.y+v*c.I.x-u.y-t*c.H.x)*j,U=(w.x-v*a.I.y-u.x+t*a.H.y)*h+(w.y+v*a.I.x-u.y-t*a.H.x)*j,d=H-c.Fe,f=U-a.Fe;k=e.sb;d-=k.a.x*b+k.b.x*g;for(f-=k.a.y*b+k.b.y*g;;){k=e.ld;m=-(k.a.x*d+k.b.x*f);k=-(k.a.y*d+k.b.y*f);if(m>=0&&k>=0){b=m-b;g=k-g;e=b*h;b*=j;h*=g;j*=g;u.x-=y*(e+
h);u.y-=y*(b+j);t-=M*(c.H.x*b-c.H.y*e+a.H.x*j-a.H.y*h);w.x+=C*(e+h);w.y+=C*(b+j);v+=l*(c.I.x*b-c.I.y*e+a.I.x*j-a.I.y*h);c.oa=m;a.oa=k;break}m=-c.ld*d;k=0;U=e.sb.a.y*m+f;if(m>=0&&U>=0){b=m-b;g=k-g;e=b*h;b*=j;h*=g;j*=g;u.x-=y*(e+h);u.y-=y*(b+j);t-=M*(c.H.x*b-c.H.y*e+a.H.x*j-a.H.y*h);w.x+=C*(e+h);w.y+=C*(b+j);v+=l*(c.I.x*b-c.I.y*e+a.I.x*j-a.I.y*h);c.oa=m;a.oa=k;break}m=0;k=-a.ld*f;H=e.sb.b.x*k+d;if(k>=0&&H>=0){b=m-b;g=k-g;e=b*h;b*=j;h*=g;j*=g;u.x-=y*(e+h);u.y-=y*(b+j);t-=M*(c.H.x*b-c.H.y*e+a.H.x*j-a.H.y*
h);w.x+=C*(e+h);w.y+=C*(b+j);v+=l*(c.I.x*b-c.I.y*e+a.I.x*j-a.I.y*h);c.oa=m;a.oa=k;break}k=m=0;H=d;U=f;if(H>=0&&U>=0){b=m-b;g=k-g;e=b*h;b*=j;h*=g;j*=g;u.x-=y*(e+h);u.y-=y*(b+j);t-=M*(c.H.x*b-c.H.y*e+a.H.x*j-a.H.y*h);w.x+=C*(e+h);w.y+=C*(b+j);v+=l*(c.I.x*b-c.I.y*e+a.I.x*j-a.I.y*h);c.oa=m;a.oa=k;break}break}}o.D=t;p.D=v}};x.Le=function(){for(var a=0;a<this.Od;++a)for(var c=this.Cb[a],b=c.$h,d=0;d<c.ab;++d){var e=b.z[d],f=c.Fa[d];e.Kc=f.oa;e.Mc=f.bc}};
x.Ac=function(a){a===i&&(a=0);for(var c=0,b=0;b<this.Od;b++){var d=this.Cb[b],e=d.ca,f=d.da,g=e.m*e.w,h=e.m*e.K,j=f.m*f.w,k=f.m*f.K;Tc.ua(d);for(var n=Tc.G,o=0;o<d.ab;o++){var p=d.Fa[o],t=Tc.z[o],v=Tc.re[o],u=t.x-e.c.h.x,w=t.y-e.c.h.y,y=t.x-f.c.h.x,t=t.y-f.c.h.y,c=c<v?c:v,v=-p.th*K(a*(v+0.005),-0.2,0),p=v*n.x;v*=n.y;e.c.h.x-=g*p;e.c.h.y-=g*v;e.c.k-=h*(u*v-w*p);T(e);f.c.h.x+=j*p;f.c.h.y+=j*v;f.c.k+=k*(y*v-t*p);T(f)}}return c>-0.0075};var Sc=new Mc,Tc=new Qc;function Uc(){this.fb=new F(0,0);this.id=new Jc}Uc.prototype.i=function(a){this.fb.l(a.fb);this.id.i(a.id)};function Vc(a,c,b,d){var e=0,f=c[0].fb,g=c[1].fb,h=b.x*f.x+b.y*f.y-d,b=b.x*g.x+b.y*g.y-d;h<=0&&a[e++].i(c[0]);b<=0&&a[e++].i(c[1]);if(h*b<0)b=h/(h-b),d=a[e].fb,d.x=f.x+b*(g.x-f.x),d.y=f.y+b*(g.y-f.y),a[e].id=h>0?c[0].id:c[1].id,e++;return e}
function Wc(a,c,b,d,e){b===i&&(b=0);for(var f=a.j,g=a.$,a=d.j,h=c.d.a.x*g[b].x+c.d.b.x*g[b].y,g=c.d.a.y*g[b].x+c.d.b.y*g[b].y,j=e.d.a.x*h+e.d.a.y*g,k=e.d.b.x*h+e.d.b.y*g,n=0,o=Number.MAX_VALUE,p=0;p<d.V;++p){var t=a[p].x*j+a[p].y*k;t<o&&(o=t,n=p)}return(e.position.x+(e.d.a.x*a[n].x+e.d.b.x*a[n].y)-(c.position.x+(c.d.a.x*f[b].x+c.d.b.x*f[b].y)))*h+(e.position.y+(e.d.a.y*a[n].x+e.d.b.y*a[n].y)-(c.position.y+(c.d.a.y*f[b].x+c.d.b.y*f[b].y)))*g}
function Xc(a,c,b,d,e){var f=c.$,g=e.position.x+(e.d.a.x*d.nb.x+e.d.b.x*d.nb.y),h=e.position.y+(e.d.a.y*d.nb.x+e.d.b.y*d.nb.y);g-=b.position.x+(b.d.a.x*c.nb.x+b.d.b.x*c.nb.y);h-=b.position.y+(b.d.a.y*c.nb.x+b.d.b.y*c.nb.y);for(var j=g*b.d.a.x+h*b.d.a.y,h=g*b.d.b.x+h*b.d.b.y,g=0,k=-Number.MAX_VALUE,n=0;n<c.V;++n){var o=f[n].x*j+f[n].y*h;o>k&&(k=o,g=n)}f=Wc(c,b,g,d,e);j=g-1;j<0&&(j=c.V-1);h=Wc(c,b,j,d,e);k=g+1;k>=c.V&&(k=0);var n=Wc(c,b,k,d,e),p=o=0,t=0;if(h>f&&h>n)t=-1,o=j,p=h;else if(n>f)t=1,o=k,
p=n;else return a[0]=g,f;for(;;)if(t==-1?(g=o-1,g<0&&(g=c.V-1)):(g=o+1,g>=c.V&&(g=0)),f=Wc(c,b,g,d,e),f>p)o=g,p=f;else break;a[0]=o;return p}var Yc=[new Uc,new Uc],Zc=[new Uc,new Uc],$c=[new Uc,new Uc],ad=[0],bd=[0],cd=new F(0,0),dd=new F(0,0),ed=new F(0,0),fd=new F(0,0),gd=new F(0,0),hd=new F(0,0),id=new F(0,0),jd=new F(0,0);function kd(){this.A=new F(0,0);this.ra=new F(0,0)}
kd.prototype.ua=function(a,c,b,d,e){this.nc=c;this.oc=d;var f=a.count;L(0<f&&f<3);var g,h,j=h=g=0,k=0,d=c=0,n,o,j=0;f==1?(this.O=ld,f=O(this.nc,a.fa[0]),a=O(this.oc,a.ga[0]),o=f,n=b.d,g=b.position.x+(n.a.x*o.x+n.b.x*o.y),h=b.position.y+(n.a.y*o.x+n.b.y*o.y),o=a,n=e.d,j=e.position.x+(n.a.x*o.x+n.b.x*o.y),k=e.position.y+(n.a.y*o.x+n.b.y*o.y),this.ra.x=j-g,this.ra.y=k-h,G(this.ra)):(a.ga[0]==a.ga[1]?(this.O=md,c=O(this.nc,a.fa[0]),d=O(this.nc,a.fa[1]),a=O(this.oc,a.ga[0]),this.A.x=0.5*(c.x+d.x),this.A.y=
0.5*(c.y+d.y),this.ra=Db(J(d,c)),G(this.ra),o=this.ra,n=b.d,c=n.a.x*o.x+n.b.x*o.y,d=n.a.y*o.x+n.b.y*o.y,o=this.A,n=b.d,g=b.position.x+(n.a.x*o.x+n.b.x*o.y),h=b.position.y+(n.a.y*o.x+n.b.y*o.y),o=a,n=e.d,j=e.position.x+(n.a.x*o.x+n.b.x*o.y),k=e.position.y+(n.a.y*o.x+n.b.y*o.y),j=(j-g)*c+(k-h)*d):a.fa[0]==a.fa[0]?(this.O=nd,g=O(this.oc,a.ga[0]),h=O(this.oc,a.ga[1]),f=O(this.nc,a.fa[0]),this.A.x=0.5*(g.x+h.x),this.A.y=0.5*(g.y+h.y),this.ra=Db(J(h,g)),G(this.ra),o=this.ra,n=e.d,c=n.a.x*o.x+n.b.x*o.y,
d=n.a.y*o.x+n.b.y*o.y,o=this.A,n=e.d,j=e.position.x+(n.a.x*o.x+n.b.x*o.y),k=e.position.y+(n.a.y*o.x+n.b.y*o.y),o=f,n=b.d,g=b.position.x+(n.a.x*o.x+n.b.x*o.y),h=b.position.y+(n.a.y*o.x+n.b.y*o.y),j=(g-j)*c+(h-k)*d):(c=O(this.nc,a.fa[0]),d=O(this.nc,a.fa[1]),g=O(this.oc,a.ga[0]),h=O(this.oc,a.ga[1]),j=Eb(b.d,J(d,c)),k=Eb(e.d,J(h,g)),e=j.x*j.x+j.y*j.y,b=k.x*k.x+k.y*k.y,f=J(k,j),a=j.x*f.x+j.y*f.y,f=k.x*f.x+k.y*f.y,k=j.x*k.x+j.y*k.y,n=e*b-k*k,j=0,n!=0&&(j=K((k*f-a*b)/n,0,1)),(k*j+f)/b<0&&(j=K((k-a)/e,
0,1)),f=new F(0,0),f.x=c.x+j*(d.x-c.x),f.y=c.y+j*(d.y-c.y),a=new F(0,0),a.x=g.x+j*(h.x-g.x),a.y=g.y+j*(h.y-g.y),j==0||j==1?(this.O=nd,this.ra=Db(J(h,g)),G(this.ra),this.A=a):(this.O=md,this.ra=Db(J(d,c)),this.A=f)),j<0&&this.ra.Lf())};
kd.prototype.xb=function(a,c){var b,d,e=0;switch(this.O){case ld:b=Fb(a.d,this.ra);d=Fb(c.d,this.ra.wc());b=this.nc.yd(b);d=this.oc.yd(d);b=I(a,b);d=I(c,d);e=(d.x-b.x)*this.ra.x+(d.y-b.y)*this.ra.y;break;case md:e=Eb(a.d,this.ra);b=I(a,this.A);d=Fb(c.d,e.wc());d=this.oc.yd(d);d=I(c,d);e=(d.x-b.x)*e.x+(d.y-b.y)*e.y;break;case nd:e=Eb(c.d,this.ra);d=I(c,this.A);b=Fb(a.d,e.wc());b=this.nc.yd(b);b=I(a,b);e=(b.x-d.x)*e.x+(b.y-d.y)*e.y;break;default:L(!1)}return e};var ld=1,md=2,nd=4;var od=0,pd=0,qd=0,rd=0,sd=0,td=new Tb,ud=new Rb,vd=new Zb,wd=new Zb,xd=new kd,yd=new Sb;function zd(){this.u=new F(0,0);this.qa=new F(0,0);this.h=new F(0,0)}zd.prototype.i=function(a){this.u.l(a.u);this.qa.l(a.qa);this.h.l(a.h);this.hb=a.hb;this.k=a.k;this.pa=a.pa};zd.prototype.ka=function(){var a=new zd;a.u.l(this.u);a.qa.l(this.qa);a.h.l(this.h);a.hb=this.hb;a.k=this.k;a.pa=this.pa;return a};
zd.prototype.rb=function(a,c){c===i&&(c=0);a.position.x=(1-c)*this.qa.x+c*this.h.x;a.position.y=(1-c)*this.qa.y+c*this.h.y;a.d.i((1-c)*this.hb+c*this.k);var b=a.d;a.position.x-=b.a.x*this.u.x+b.b.x*this.u.y;a.position.y-=b.a.y*this.u.x+b.b.y*this.u.y};zd.prototype.cc=function(a){a===i&&(a=0);if(this.pa<a&&1-this.pa>Number.MIN_VALUE){var c=(a-this.pa)/(1-this.pa);this.qa.x=(1-c)*this.qa.x+c*this.h.x;this.qa.y=(1-c)*this.qa.y+c*this.h.y;this.hb=(1-c)*this.hb+c*this.k;this.pa=a}};function Ad(){};function Bd(){this.position=new F(0,0);this.eg=new F(0,0);this.sc=q;this.position.ba();this.Pa=0;this.eg.ba();this.eh=this.Kh=this.fh=0;this.gh=this.dh=!0;this.kh=this.ad=!1;this.type=V;this.bh=!0;this.Dh=1}var V=0;function W(){this.ya=new Ad;this.za=new Ad;this.Va=new Lc;this.Qd=new Lc}function Cd(a,c){var b=a.F.p,d=a.C.ha,e=a.F.ha;c.ua(a.Va,a.C.p.rb(),d.L,b.rb(),e.L)}W.prototype.Mb=s("ye");
W.prototype.la=function(a,c){a===i&&(a=q);c===i&&(c=q);this.enabled=!0;this.ge=this.Oc=this.$e=this.ye=!1;if(!a||!c)this.F=this.C=q;else{if(a.Mb()||c.Mb())this.ye=!0;var b=a.p,d=c.p;if(b.J()!=2||(b.Db&Dd)==Dd||d.J()!=2||(d.Db&Dd)==Dd)this.$e=!0;this.C=a;this.F=c;this.Va.aa=0;this.r=this.na=q;this.ya.ja=q;this.ya.X=q;this.ya.next=q;this.ya.S=q;this.za.ja=q;this.za.X=q;this.za.next=q;this.za.S=q}};
function Ed(a,c){var b=a.Qd;a.Qd=a.Va;a.Va=b;a.enabled=!0;var d=!1,b=a.Oc,e=a.C.p,f=a.F.p,g=a.C.Tb.Uc(a.F.Tb);if(a.ye){if(g){var d=a.C.ha,e=e.rb(),g=a.F.ha,h=f.rb(),f=new Rb;f.bb=new Ub;f.bb.i(d);f.cb=new Ub;f.cb.i(g);f.De=e;f.Ee=h;f.zg=!0;e=new Tb;e.count=0;d=new Sb;Pb(d,e,f);d=d.$c<10*Number.MIN_VALUE}a.Va.aa=0}else{a.$e=e.J()!=2||(e.Db&Dd)==Dd||f.J()!=2||(f.Db&Dd)==Dd?!0:!1;if(g){a.xb();d=a.Va.aa>0;for(g=0;g<a.Va.aa;g++){h=a.Va.z[g];h.Kc=0;for(var j=h.Mc=0;j<a.Qd.aa;j++){var k=a.Qd.z[j];if(k.Wb.key==
h.Wb.key){h.Kc=k.Kc;h.Mc=k.Mc;break}}}}else a.Va.aa=0;d!=b&&(X(e,!0),X(f,!0))}a.Oc=d;!b&&d&&c.sd(a);b&&!d&&c.Pc(a);a.ye||c.Ed(a,a.Qd)}W.prototype.xb=r();var Fd=new function(){this.bb=new Ub;this.cb=new Ub;this.wg=new zd;this.xg=new zd};function Gd(){W.call(this)}A(Gd,W);function Hd(){return new Gd}Gd.prototype.la=function(a,c){W.prototype.la.call(this,a,c)};Gd.prototype.xb=function(){var a=this.Va,c=this.C.ha,b=this.C.p.g,d=this.F.ha,e=this.F.p.g;a.aa=0;var f=e.position.x+(e.d.a.x*d.U.x+e.d.b.x*d.U.y)-(b.position.x+(b.d.a.x*c.U.x+b.d.b.x*c.U.y)),b=e.position.y+(e.d.a.y*d.U.x+e.d.b.y*d.U.y)-(b.position.y+(b.d.a.y*c.U.x+b.d.b.y*c.U.y)),e=c.L+d.L;if(!(f*f+b*b>e*e))a.O=1,a.A.l(c.U),a.sa.ba(),a.aa=1,a.z[0].A.l(d.U),a.z[0].Wb.key=0};function Id(){W.call(this)}A(Id,W);function Jd(){return new Id}Id.prototype.la=function(a,c){W.prototype.la.call(this,a,c)};Id.prototype.xb=r();function Kd(){W.call(this)}A(Kd,W);function Ld(){return new Kd}Kd.prototype.la=function(a,c){W.prototype.la.call(this,a,c);L(a.J()==1);L(c.J()==0)};
Kd.prototype.xb=function(){a:{var a=this.Va,c=this.C.ha,b=this.C.p.g,d=this.F.ha,e=this.F.p.g;a.aa=0;for(var f=e.position.x+(e.d.a.x*d.U.x+e.d.b.x*d.U.y)-b.position.x,g=e.position.y+(e.d.a.y*d.U.x+e.d.b.y*d.U.y)-b.position.y,e=f*b.d.a.x+g*b.d.a.y,b=f*b.d.b.x+g*b.d.b.y,f=0,g=-Number.MAX_VALUE,h=c.L+d.L,j=0;j<c.V;++j){var k=c.$[j].x*(e-c.j[j].x)+c.$[j].y*(b-c.j[j].y);if(k>h)break a;k>g&&(g=k,f=j)}k=f+1;k>=c.V&&(k=0);var j=c.j[f],n=c.j[k];if(g<Number.MIN_VALUE)a.aa=1,a.O=2,a.sa.l(c.$[f]),a.A.x=0.5*(j.x+
n.x),a.A.y=0.5*(j.y+n.y);else if((e-j.x)*(n.x-j.x)+(b-j.y)*(n.y-j.y)<=0){if((e-j.x)*(e-j.x)+(b-j.y)*(b-j.y)>h*h)break a;a.aa=1;a.O=2;a.sa.x=e-j.x;a.sa.y=b-j.y;G(a.sa);a.A.l(j)}else if((e-n.x)*(j.x-n.x)+(b-n.y)*(j.y-n.y)<=0){if((e-n.x)*(e-n.x)+(b-n.y)*(b-n.y)>h*h)break a;a.aa=1;a.O=2;a.sa.x=e-n.x;a.sa.y=b-n.y;G(a.sa);a.A.l(n)}else{k=0.5*(j.x+n.x);j=0.5*(j.y+n.y);g=(e-k)*c.$[f].x+(b-j)*c.$[f].y;if(g>h)break a;a.aa=1;a.O=2;a.sa.x=c.$[f].x;a.sa.y=c.$[f].y;G(a.sa);a.A.i(k,j)}a.z[0].A.l(d.U);a.z[0].Wb.key=
0}};function Md(){W.call(this)}A(Md,W);function Nd(){return new Md}Md.prototype.la=function(a,c){W.prototype.la.call(this,a,c);L(a.J()==1);L(c.J()==2)};Md.prototype.xb=r();function Od(){W.call(this)}A(Od,W);function Pd(){return new Od}Od.prototype.la=function(a,c){W.prototype.la.call(this,a,c)};
Od.prototype.xb=function(){var a=this.Va,c=this.C.ha,b=this.C.p.g,d=this.F.ha,e=this.F.p.g;a.aa=0;var f=c.L+d.L;ad[0]=0;var g=Xc(ad,c,b,d,e);if(!(g>f)){bd[0]=0;var h=Xc(bd,d,e,c,b);if(!(h>f)){var j=c,k=d,n=b,o=e,p=ad[0],t=0;a.O=2;if(h>0.98*g+0.001)j=d,k=c,n=e,o=b,p=bd[0],a.O=4,t=1;c=p;b=o;c===i&&(c=0);for(var d=n.d.a.x*j.$[c].x+n.d.b.x*j.$[c].y,e=n.d.a.y*j.$[c].x+n.d.b.y*j.$[c].y,g=b.d.a.x*d+b.d.a.y*e,e=b.d.b.x*d+b.d.b.y*e,d=g,g=0,h=Number.MAX_VALUE,v=0;v<k.V;v++){var u=d*k.$[v].x+e*k.$[v].y;u<h&&
(h=u,g=v)}d=g+1;d>=k.V&&(d=0);Yc[0].fb.x=b.position.x+(b.d.a.x*k.j[g].x+b.d.b.x*k.j[g].y);Yc[0].fb.y=b.position.y+(b.d.a.y*k.j[g].x+b.d.b.y*k.j[g].y);Yc[0].id.jb.mi=c;Yc[0].id.jb.Bh=g;Yc[0].id.jb.Ch=0;Yc[1].fb.x=b.position.x+(b.d.a.x*k.j[d].x+b.d.b.x*k.j[d].y);Yc[1].fb.y=b.position.y+(b.d.a.y*k.j[d].x+b.d.b.y*k.j[d].y);Yc[1].id.jb.mi=c;Yc[1].id.jb.Bh=d;Yc[1].id.jb.Ch=1;c=j.j[p];j=p+1<j.V?j.j[p+1]:j.j[0];cd.i(j.x-c.x,j.y-c.y);G(cd);dd.x=cd.y;dd.y=-cd.x;ed.i(0.5*(c.x+j.x),0.5*(c.y+j.y));gd.x=n.d.a.x*
cd.x+n.d.b.x*cd.y;gd.y=n.d.a.y*cd.x+n.d.b.y*cd.y;hd.x=-gd.x;hd.y=-gd.y;fd.x=gd.y;fd.y=-gd.x;id.x=n.position.x+(n.d.a.x*c.x+n.d.b.x*c.y);id.y=n.position.y+(n.d.a.y*c.x+n.d.b.y*c.y);jd.x=n.position.x+(n.d.a.x*j.x+n.d.b.x*j.y);jd.y=n.position.y+(n.d.a.y*j.x+n.d.b.y*j.y);if(!(Vc(Zc,Yc,hd,-gd.x*id.x-gd.y*id.y+f)<2)&&!(Vc($c,Zc,gd,gd.x*jd.x+gd.y*jd.y+f)<2)){a.sa.l(dd);a.A.l(ed);n=fd.x*id.x+fd.y*id.y;for(p=j=0;p<2;++p)if(fd.x*$c[p].fb.x+fd.y*$c[p].fb.y-n<=f)c=$c[p].fb.x-o.position.x,k=$c[p].fb.y-o.position.y,
a.z[j].A.x=c*o.d.a.x+k*o.d.a.y,a.z[j].A.y=c*o.d.b.x+k*o.d.b.y,a.z[j].Wb.i($c[p].id),a.z[j].Wb.jb.Ki=t,j++;a.aa=j}}}};function Qd(){this.qc=q;this.vf=0};function Rd(){this.$a=[];Sd(this,Hd,0,0);Sd(this,Ld,1,0);Sd(this,Pd,1,1);Sd(this,Jd,2,0);Sd(this,Nd,1,2)}function Sd(a,c,b,d){a.$a[b]=a.$a[b]||[];a.$a[b][d]=new Qd;a.$a[b][d].bf=c;a.$a[b][d].wf=!0;if(b!=d)a.$a[d]=a.$a[d]||[],a.$a[d][b]=new Qd,a.$a[d][b].bf=c,a.$a[d][b].wf=!1}Rd.prototype.uc=function(a,c){var b=this.$a[a.J()][c.J()],d;if(b.qc)return d=b.qc,b.qc=d.r,b.vf--,d.la(a,c),d;d=b.bf;return d!=q?(b.wf?(d=d(),d.la(a,c)):(d=d(),d.la(c,a)),d):q};
Rd.prototype.uc=function(a,c){var b=this.$a[a.J()][c.J()],d;if(b.qc)return d=b.qc,b.qc=d.r,b.vf--,d.la(a,c),d;d=b.bf;return d!=q?(b.wf?(d=d(),d.la(a,c)):(d=d(),d.la(c,a)),d):q};Rd.prototype.dc=function(a){a.Va.aa>0&&(X(a.C.p,!0),X(a.F.p,!0));var c=this.$a[a.C.J()][a.F.J()];c.vf++;a.r=c.qc;c.qc=a};function Td(){};function Ud(){this.B=new qc};function Vd(){if(this.constructor===Vd)this.Gb=q,this.Rh=this.Ti=0}x=Vd.prototype;x.ud=function(a,c){var b=new Ud;b.B.lowerBound.x=a.lowerBound.x-0.1;b.B.lowerBound.y=a.lowerBound.y-0.1;b.B.upperBound.x=a.upperBound.x+0.1;b.B.upperBound.y=a.upperBound.y+0.1;b.sc=c;Wd(this,b);return b};x.vd=function(a){Xd(this,a)};
x.Oe=function(a,c,b){L(a.Qa==q);if(sc(a.B,c))return!1;Xd(this,a);var d=0.1+2*Math.abs(b.x),b=0.1+2*Math.abs(b.y);a.B.lowerBound.x=c.lowerBound.x-d;a.B.lowerBound.y=c.lowerBound.y-b;a.B.upperBound.x=c.upperBound.x+d;a.B.upperBound.y=c.upperBound.y+b;Wd(this,a);return!0};x.Qc=function(a){return a.B};x.xc=function(a){return a.sc};x.Pe=function(a,c){if(this.Gb!==q){var b=[];for(b.push(this.Gb);b.length>0;){var d=b.pop();if(d.B.Uc(c))if(d.Qa==q){if(!a(d))break}else b.push(d.Qa),b.push(d.gc)}}};
function Wd(a,c){a.Rh++;if(a.Gb===q)a.Gb=c,a.Gb.parent=q;else{for(var b=rc(c.B),d=a.Gb;d.Qa!=q;)var e=d.Qa,d=d.gc,d=Math.abs((e.B.lowerBound.x+e.B.upperBound.x)/2-b.x)+Math.abs((e.B.lowerBound.y+e.B.upperBound.y)/2-b.y)<Math.abs((d.B.lowerBound.x+d.B.upperBound.x)/2-b.x)+Math.abs((d.B.lowerBound.y+d.B.upperBound.y)/2-b.y)?e:d;b=d.parent;e=new Ud;e.parent=b;e.sc=q;tc(e.B,c.B,d.B);if(b){d.parent.Qa==d?b.Qa=e:b.gc=e;e.Qa=d;e.gc=c;d.parent=e;for(c.parent=e;b;){if(sc(b.B,e.B))break;tc(b.B,b.Qa.B,b.gc.B);
e=b;b=b.parent}}else e.Qa=d,e.gc=c,d.parent=e,c.parent=e,a.Gb=e}}function Xd(a,c){if(c==a.Gb)a.Gb=q;else{var b=c.parent,d=b.parent,e;e=b.Qa==c?b.gc:b.Qa;if(d){d.Qa==b?d.Qa=e:d.gc=e;for(e.parent=d;d;){b=d.B;e=d;var f=new qc;tc(f,d.Qa.B,d.gc.B);e.B=f;if(sc(b,d.B))break;d=d.parent}}else a.Gb=e,e.parent=q}};function Yd(){this.ob=new Vd;this.Yb=[];this.Rd=[];this.ng=this.Lc=0}x=Yd.prototype;x.ud=function(a,c){var b=this.ob.ud(a,c);this.ng++;return this.Yb[this.Yb.length]=b};x.vd=function(a){this.Yb.splice(this.Yb.indexOf(a),1);this.ng--;this.ob.vd(a)};x.Oe=function(a,c,b){this.ob.Oe(a,c,b)&&(this.Yb[this.Yb.length]=a)};x.Uc=function(a,c){return this.ob.Qc(a).Uc(this.ob.Qc(c))};x.xc=function(a){return this.ob.xc(a)};x.Qc=function(a){return this.ob.Qc(a)};
function Zd(a,c){for(var b=a.Lc=0;b<a.Yb.length;b++){var d=a.Yb[b];a.ob.Pe(function(b){if(b==d)return!0;a.Lc==a.Rd.length&&(a.Rd[a.Lc]=new Td);var c=a.Rd[a.Lc];c.bb=b<d?b:d;c.cb=b>=d?b:d;a.Lc++;return!0},a.ob.Qc(d))}for(b=a.Yb.length=0;b<a.Lc;){var e=a.Rd[b];c(a.ob.xc(e.bb),a.ob.xc(e.cb));for(b++;b<a.Lc;){var f=a.Rd[b];if(f.bb!=e.bb||f.cb!=e.cb)break;b++}}}x.Pe=function(a,c){this.ob.Pe(a,c)};function $d(){}$d.prototype.sd=r();$d.prototype.Pc=r();$d.prototype.Ed=r();$d.prototype.Dd=r();var ae=new $d;function be(){if(this.constructor===be)this.Ea=q,this.Ta=0,this.jf=Gc,this.fd=ae,this.gg=new Rd,this.Hc=new Yd}
be.prototype.Dg=function(a,c){var b=a.p,d=c.p;if(b!=d&&d.yb(b)&&this.jf.yb(a,c)){for(d=d.N;d;){if(d.S==b){var e=d.ja.C,f=d.ja.F;if(e==a&&f==c)return;if(e==c&&f==a)return}d=d.next}e=this.gg.uc(a,c);a=e.C;c=e.F;b=a.p;d=c.p;e.na=q;e.r=this.Ea.N;if(this.Ea.N!=q)this.Ea.N.na=e;this.Ea.N=e;e.ya.ja=e;e.ya.S=d;e.ya.X=q;e.ya.next=b.N;if(b.N!=q)b.N.X=e.ya;b.N=e.ya;e.za.ja=e;e.za.S=b;e.za.X=q;e.za.next=d.N;if(d.N!=q)d.N.X=e.za;d.N=e.za;this.Ea.Ta++}};function ce(a){Zd(a.Hc,Hc(a,a.Dg))}
be.prototype.dc=function(a){var c=a.C.p,b=a.F.p;a.Oc&&this.fd.Pc(a);if(a.na)a.na.r=a.r;if(a.r)a.r.na=a.na;if(a==this.Ea.N)this.Ea.N=a.r;if(a.ya.X)a.ya.X.next=a.ya.next;if(a.ya.next)a.ya.next.X=a.ya.X;if(a.ya==c.N)c.N=a.ya.next;if(a.za.X)a.za.X.next=a.za.next;if(a.za.next)a.za.next.X=a.za.X;if(a.za==b.N)b.N=a.za.next;this.gg.dc(a);this.Ta--};new function(){this.position=new F(0,0);this.bj=new F(0,0);this.Zb=new F(0,0);this.id=new Jc};function de(){};function ee(a){this.Ja=new de;this.Ka=new de;this.Ri=new F(0,0);this.Si=new F(0,0);L(a.ca!=a.da);this.O=a.type;this.r=this.na=q;this.Ba=a.ca;this.Ca=a.da;this.fg=a.Xf;this.jd=a.sc}x=ee.prototype;x.J=s("O");x.ae=aa(q);x.be=aa(q);x.xc=s("jd");x.Lb=function(){return this.Ba.Lb()&&this.Ca.Lb()};x.Rc=r();x.Bc=r();x.Le=r();x.Ac=aa(!1);function Y(a,c,b){this.Xe=255*K(a,0,1);this.Ue=255*K(c,0,1);this.Se=255*K(b,0,1)}Y.prototype.i=function(a,c,b){this.Xe=255*K(a,0,1);this.Ue=255*K(c,0,1);this.Se=255*K(b,0,1)};S(Y.prototype,"r",{enumerable:!1,configurable:!0,set:function(a){this.Xe=255*K(a,0,1)}});S(Y.prototype,"g",{enumerable:!1,configurable:!0,set:function(a){this.Ue=255*K(a,0,1)}});S(Y.prototype,"b",{enumerable:!1,configurable:!0,set:function(a){this.Se=255*K(a,0,1)}});
S(Y.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this.Xe<<16|this.Ue<<8|this.Se}});function fe(){this.mf=new Dc;this.Tb=new qc;this.ha=this.r=this.p=this.jd=q;this.pf=this.nf=this.me=0}x=fe.prototype;x.J=function(){return this.ha.J()};x.Mb=s("Sh");x.xc=s("jd");x.Hf=function(a){a===i&&(a=q);a==q&&(a=new Yb);this.ha.Ie(a,this.me);return a};x.uc=function(a,c,b){this.jd=b.sc;this.nf=b.Za;this.pf=b.Ib;this.p=a;this.r=q;this.mf=b.filter.ka();this.Sh=b.Kd;this.ha=b.shape.ka();this.me=b.Xc};x.dc=function(){this.ha=q};x.ud=function(a,c){this.ha.td(this.Tb,c);this.mc=a.ud(this.Tb,this)};
x.vd=function(a){if(this.mc!=q)a.vd(this.mc),this.mc=q};function ge(a,c,b,d){if(a.mc){var e=new qc,f=new qc;a.ha.td(e,b);a.ha.td(f,d);tc(a.Tb,e,f);c.Oe(a.mc,a.Tb,J(d.position,b.position))}};function he(a,c){this.g=new Zb;this.c=new zd;this.q=new F(0,0);this.Pd=new F(0,0);this.Db=0;a.kh&&(this.Db|=Dd);a.ad&&(this.Db|=ie);this.hf=a.dh;this.mb=a.gh;a.bh&&(this.Db|=je);this.Ea=c;this.g.position.l(a.position);this.g.d.i(a.Pa);this.c.u.ba();this.c.pa=1;this.c.hb=this.c.k=a.Pa;var b=this.g.d,d=this.c.u;this.c.h.x=b.a.x*d.x+b.b.x*d.y;this.c.h.y=b.a.y*d.x+b.b.y*d.y;this.c.h.x+=this.g.position.x;this.c.h.y+=this.g.position.y;this.c.qa.l(this.c.h);this.N=this.le=this.Z=q;this.Oh=0;this.r=this.na=
q;this.q.l(a.eg);this.D=a.fh;this.Vh=a.Kh;this.Nh=a.eh;this.Pd.ba();this.se=this.qf=0;this.O=a.type;this.w=this.O==2?this.m=1:this.m=0;this.K=this.Sb=0;this.Qh=a.Dh;this.jd=a.sc;this.Vb=q;this.jg=0}function ke(a,c,b){b===i&&(b=0);if(a.Ea.Jc!=!0){a.g.d.i(b);a.g.position.l(c);var c=a.g.d,d=a.c.u;a.c.h.x=c.a.x*d.x+c.b.x*d.y;a.c.h.y=c.a.y*d.x+c.b.y*d.y;a.c.h.x+=a.g.position.x;a.c.h.y+=a.g.position.y;a.c.qa.l(a.c.h);a.c.hb=a.c.k=b;c=a.Ea.xa.Hc;for(b=a.Vb;b;b=b.r)ge(b,c,a.g,a.g);ce(a.Ea.xa)}}x=he.prototype;
x.rb=s("g");x.Kb=function(){return this.c.k};function le(a,c,b){a.O==2&&(a.mb==!1&&X(a,!0),a.q.x+=a.w*c.x,a.q.y+=a.w*c.y,a.D+=a.K*((b.x-a.c.h.x)*c.y-(b.y-a.c.h.y)*c.x))}x.Hf=function(a){a.pc=this.m;a.zd=this.Sb;a.Cc.l(this.c.u)};function me(a,c){var b=a.g.d,b=new F(b.a.x*c.x+b.b.x*c.y,b.a.y*c.x+b.b.y*c.y);b.x+=a.g.position.x;b.y+=a.g.position.y;return b}x.J=s("O");function X(a,c){a.mb=c;a.se=0;if(!c)a.q.ba(),a.D=0,a.Pd.ba(),a.qf=0}x.Lb=function(){return(this.Db&je)==je};x.xc=s("jd");
function ne(a){oe.d.i(a.c.hb);var c=oe.d,b=a.c.u;oe.position.x=a.c.qa.x-(c.a.x*b.x+c.b.x*b.y);oe.position.y=a.c.qa.y-(c.a.y*b.x+c.b.y*b.y);b=a.Ea.xa.Hc;for(c=a.Vb;c;c=c.r)ge(c,b,oe,a.g)}function T(a){a.g.d.i(a.c.k);var c=a.g.d,b=a.c.u;a.g.position.x=a.c.h.x-(c.a.x*b.x+c.b.x*b.y);a.g.position.y=a.c.h.y-(c.a.y*b.x+c.b.y*b.y)}x.yb=function(a){if(this.O!=2&&a.O!=2)return!1;for(var c=this.Z;c;c=c.next)if(c.S==a&&c.Ab.fg==!1)return!1;return!0};
x.cc=function(a){a===i&&(a=0);this.c.cc(a);this.c.h.l(this.c.qa);this.c.k=this.c.hb;T(this)};var oe=new Zb,Dd=8,ie=16,je=32;function pe(){this.yf=[];this.start=this.size=0}function qe(a,c){a.yf[a.start+a.size]=c;a.size++};function re(){this.Na=[];this.jc=[];this.vb=[]}re.prototype.ua=function(a,c,b,d,e){this.Da=this.Ta=this.wa=0;this.mg=d;this.Ic=e;this.Na=[];this.jc=[];this.vb=[]};
re.prototype.Fd=function(a,c,b){for(var d=0,e=0,f,d=0;d<this.wa;++d)e=this.Na[d],e.J()==2&&(e.q.x+=a.Y*(c.x+e.w*e.Pd.x),e.q.y+=a.Y*(c.y+e.w*e.Pd.y),e.D+=a.Y*e.K*e.qf,e.q.Kf(K(1-a.Y*e.Vh,0,1)),e.D*=K(1-a.Y*e.Nh,0,1));this.Ic.ua(a,this.jc,this.Ta);c=this.Ic;c.Rc(a);for(d=0;d<this.Da;++d)f=this.vb[d],f.Rc(a);for(d=0;d<a.pd;++d){for(e=0;e<this.Da;++e)f=this.vb[e],f.Bc(a);c.Bc()}for(d=0;d<this.Da;++d)f=this.vb[d],f.Le();c.Le();for(d=0;d<this.wa;++d)if(e=this.Na[d],e.J()!=V){var g=a.Y*e.q.x,h=a.Y*e.q.y;
g*g+h*h>4&&(G(e.q),e.q.x*=2*a.lb,e.q.y*=2*a.lb);g=a.Y*e.D;if(g*g>Kb)e.D=e.D<0?-Jb*a.lb:Jb*a.lb;e.c.qa.l(e.c.h);e.c.hb=e.c.k;e.c.h.x+=a.Y*e.q.x;e.c.h.y+=a.Y*e.q.y;e.c.k+=a.Y*e.D;T(e)}for(d=0;d<a.md;++d){g=c.Ac(0.2);h=!0;for(e=0;e<this.Da;++e)f=this.vb[e],f=f.Ac(0.2),h=h&&f;if(g&&h)break}se(this,c.Cb);if(b){b=Number.MAX_VALUE;c=Lb*Lb;for(d=0;d<this.wa;++d)if(e=this.Na[d],e.J()!=V)!e.hf||e.D*e.D>c||Bb(e.q,e.q)>1.0E-4?b=e.se=0:(e.se+=a.Y,b=Math.min(b,e.se));if(b>=0.5)for(d=0;d<this.wa;++d)e=this.Na[d],
X(e,!1)}};
re.prototype.Re=function(a){var c=0,b=0;this.Ic.ua(a,this.jc,this.Ta);for(var d=this.Ic,c=0;c<this.Da;++c)this.vb[c].Rc(a);for(c=0;c<a.pd;++c){d.Bc();for(b=0;b<this.Da;++b)this.vb[b].Bc(a)}for(c=0;c<this.wa;++c)if(b=this.Na[c],b.J()!=V){var e=a.Y*b.q.x,f=a.Y*b.q.y;e*e+f*f>4&&(G(b.q),b.q.x*=2*a.lb,b.q.y*=2*a.lb);e=a.Y*b.D;if(e*e>Kb)b.D=b.D<0?-Jb*a.lb:Jb*a.lb;b.c.qa.l(b.c.h);b.c.hb=b.c.k;b.c.h.x+=a.Y*b.q.x;b.c.h.y+=a.Y*b.q.y;b.c.k+=a.Y*b.D;T(b)}for(c=0;c<a.md;++c){e=d.Ac(0.75);f=!0;for(b=0;b<this.Da;++b)var g=
this.vb[b].Ac(0.2),f=f&&g;if(e&&f)break}se(this,d.Cb)};function se(a,c){if(a.mg!=q)for(var b=0;b<a.Ta;++b){for(var d=a.jc[b],e=c[b],f=0;f<e.ab;++f)te.ji[f]=e.Fa[f].oa,te.ri[f]=e.Fa[f].bc;a.mg.Dd(d,te)}}var te=new function(){this.ji=[];this.ri=[]};function ue(a,c){this.xa=new be;this.Ic=new Rc;this.R=new re;this.of=this.Jc=!1;this.le=this.Z=this.N=this.Sa=this.Ua=this.ne=q;this.Oh=this.Da=this.Ta=this.wa=0;this.hf=c;this.Ph=a;this.lg=0;this.xa.Ea=this;this.kg=this.Ef(new Bd)}
(function(a){a.Pg=1-100*Number.MIN_VALUE;a.prototype.Sg=function(a){this.xa.jf=a};a.prototype.Tg=function(a){this.xa.fd=a};a.prototype.Ug=function(a){this.Ua=a};a.prototype.Ef=function(a){if(this.Jc)return q;a=new he(a,this);a.na=q;if(a.r=this.Sa)this.Sa.na=a;this.Sa=a;this.wa++;return a};a.prototype.Fg=function(a){if(!this.Jc){for(var b=a.Z;b;){var d=b,b=b.next;this.ne&&this.ne.Gi(d.Ab);this.Gg(d.Ab)}for(b=a.le;b;)d=b,b=b.Xi,d.Ii.Ei(a);for(b=a.N;b;)d=b,b=b.next,this.xa.dc(d.ja);a.N=q;for(b=a.Vb;b;)d=
b,b=b.r,this.ne&&this.ne.Fi(d),d.vd(this.xa.Hc),d.dc();a.Vb=q;a.jg=0;if(a.na)a.na.r=a.r;if(a.r)a.r.na=a.na;if(a==this.Sa)this.Sa=a.r;this.wa--}};a.prototype.Je=function(a){var b=a.uc();b.na=q;if(b.r=this.Z)this.Z.na=b;this.Z=b;this.Da++;b.Ja.Ab=b;b.Ja.S=b.Ca;b.Ja.X=q;if(b.Ja.next=b.Ba.Z)b.Ba.Z.X=b.Ja;b.Ba.Z=b.Ja;b.Ka.Ab=b;b.Ka.S=b.Ba;b.Ka.X=q;if(b.Ka.next=b.Ca.Z)b.Ca.Z.X=b.Ka;b.Ca.Z=b.Ka;var b=a.ca,d=a.da;if(!a.Xf)for(a=d.N;a;){if(a.S==b)a.ja.ge=!0;a=a.next}};a.prototype.Gg=function(a){var b=a.fg;
if(a.na)a.na.r=a.r;if(a.r)a.r.na=a.na;if(a==this.Z)this.Z=a.r;var d=a.Ba,e=a.Ca;X(d,!0);X(e,!0);if(a.Ja.X)a.Ja.X.next=a.Ja.next;if(a.Ja.next)a.Ja.next.X=a.Ja.X;if(a.Ja==d.Z)d.Z=a.Ja.next;a.Ja.X=q;a.Ja.next=q;if(a.Ka.X)a.Ka.X.next=a.Ka.next;if(a.Ka.next)a.Ka.next.X=a.Ka.X;if(a.Ka==e.Z)e.Z=a.Ka.next;a.Ka.X=q;a.Ka.next=q;this.Da--;if(!b)for(a=e.N;a;){if(a.S==d)a.ja.ge=!0;a=a.next}};a.prototype.Nf=function(c,b,d){c===i&&(c=0);b===i&&(b=0);d===i&&(d=0);if(this.of)ce(this.xa),this.of=!1;this.Jc=!0;var e=
new Nc;e.Y=c;e.pd=b;e.md=d;e.lb=c>0?1/c:0;e.Qb=this.lg*c;e.qd=a.Ui;c=this.xa;for(b=c.Ea.N;b;){var d=b.C,f=b.F,g=d.p,h=f.p;if(g.mb==!1&&h.mb==!1)b=b.r;else{if(b.ge){if(h.yb(g)==!1){d=b;b=d.r;c.dc(d);continue}if(c.jf.yb(d,f)==!1){d=b;b=d.r;c.dc(d);continue}b.ge=!1}c.Hc.Uc(d.mc,f.mc)==!1?(d=b,b=d.r,c.dc(d)):(Ed(b,c.fd),b=b.r)}}if(e.Y>0)this.Fd(e),a.Pi&&e.Y>0&&this.Re(e),this.lg=e.lb;this.Jc=!1};a.prototype.Eg=function(){for(var a=this.Sa;a;a=a.r)a.Pd.ba(),a.qf=0};a.prototype.Hg=function(){if(this.Ua!==
q){this.Ua.Yh.zh.clear();var c=this.Ua.hg;if(c&ic)for(var b=new Y(0.5,0.5,0.3),d=new Y(0.5,0.9,0.5),e=new Y(0.5,0.5,0.9),f=new Y(0.6,0.6,0.6),g=new Y(0.9,0.7,0.7),h=this.Sa;h;h=h.r)for(var j=h.Vb;j;j=j.r){var k=j.ha;h.Lb()?h.J()==V?this.xd(k,h.g,d):h.J()==1?this.xd(k,h.g,e):h.mb?this.xd(k,h.g,g):this.xd(k,h.g,f):this.xd(k,h.g,b)}if(c&jc)for(h=this.Z;h;h=h.r)this.Ig(h);if(c&nc)for(h=this.le;h;h=h.r)h.yi(this.Ua);if(c&lc){h=new Y(0.3,0.9,0.9);for(j=this.xa.N;j;j=j.r)this.Ua.wd(rc(j.C.Tb),rc(j.F.Tb),
h)}if(c&kc){b=new Y(0,0,0.8);for(h=this.Sa;h;h=h.r)if(h.Lb())for(j=h.Vb;j;j=j.r)d=this.xa.Hc.Qc(j.mc),this.Ua.Jg([new F(d.lowerBound.x,d.lowerBound.y),new F(d.upperBound.x,d.lowerBound.y),new F(d.upperBound.x,d.upperBound.y),new F(d.lowerBound.x,d.upperBound.y)],b)}if(c&mc)for(h=this.Sa;h;h=h.r)a.ug.d=h.g.d,a.ug.position=h.c.h,this.Ua.Mg(a.ug)}};a.prototype.Fd=function(a){for(var b=this.le;b;b=b.r)b.Nf(a);this.R.ua(this.wa,this.Ta,this.Da,this.xa.fd,this.Ic);for(var d=this.Sa;d;d=d.r)d.T=!1;for(b=
this.N;b;b=b.r)b.T=!1;for(b=this.Z;b;b=b.r)b.T=!1;for(b=this.Sa;b;b=b.r)if(!b.T&&b.mb&&b.Lb()&&b.J()!=V){var e=this.R;e.wa=0;e.Ta=0;e.Da=0;e=[];e.push(b);for(b.T=!0;e.length>0;){var d=e.pop(),f=this.R,g=d;g.Th=f.wa;f.Na[f.wa++]=g;d.mb||X(d,!0);if(d.J()!=V){for(f=d.N;f;f=f.next)if(!f.ja.T&&!f.ja.Mb()&&f.ja.enabled!=!1&&f.ja.Oc){var g=this.R,h=f.ja;g.jc[g.Ta++]=h;f.ja.T=!0;if(!f.S.T)e.push(f.S),f.S.T=!0}for(d=d.Z;d;d=d.next)if(!d.Ab.T&&d.S.Lb()&&(f=this.R,g=d.Ab,f.vb[f.Da++]=g,d.Ab.T=!0,!d.S.T))e.push(d.S),
d.S.T=!0}}this.R.Fd(a,this.Ph,this.hf);for(e=0;e<this.R.wa;++e)if(this.R.Na[e].J()==V)this.R.Na[e].T=!1}for(d=this.Sa;d;d=d.r)d.mb&&d.Lb()&&d.J()!=V&&ne(d);ce(this.xa)};a.prototype.Re=function(c){this.R.ua(this.wa,32,32,this.xa.fd,this.Ic);for(var b=this.Sa;b;b=b.r)b.T=!1,b.c.pa=0;for(var d=this.N;d;d=d.r)d.T=!1,d.hd=q;for(d=this.Z;d;d=d.r)d.T=!1;for(;;){var d=this.$g(),e=d.ci,d=d.di;if(e===q||a.Pg<d)break;a.pi.i(e.C.p.c);a.qi.i(e.F.p.c);e.C.p.cc(d);e.F.p.cc(d);Ed(e,this.xa.fd);e.hd=q;if(e.Mb()||
e.enabled==!1)e.C.p.c.i(a.pi),e.F.p.c.i(a.qi),T(e.C.p),T(e.F.p);else if(e.Oc){b=e.C.p;if(b.J()!=2)b=e.F.p;e=this.R;e.wa=0;e.Ta=0;e.Da=0;e=new pe;qe(e,b);for(b.T=!0;e.size>0;){var b=e,f=b.yf[b.start];b.yf[b.start]=q;b.size--;b.start++;var b=f,f=this.R,g=b;g.Th=f.wa;f.Na[f.wa++]=g;b.mb||X(b,!0);if(b.J()==2){for(f=b.N;f;f=f.next){if(this.R.Ta==this.R.Oi)break;if(!f.ja.T&&!f.ja.Mb()&&f.ja.enabled!=!1&&f.ja.Oc){var g=this.R,h=f.ja;g.jc[g.Ta++]=h;f.ja.T=!0;if(!f.S.T)f.S.J()!=V&&(f.S.cc(d),X(f.S,!0)),qe(e,
f.S),f.S.T=!0}}for(b=b.Z;b;b=b.next)if(this.R.Da!=this.R.Qi&&!b.Ab.T&&b.S.Lb()&&(f=this.R,g=b.Ab,f.vb[f.Da++]=g,b.Ab.T=!0,!b.S.T))b.S.J()!=V&&(b.S.cc(d),X(b.S,!0)),qe(e,b.S),b.S.T=!0}}e=new Nc;e.qd=!1;e.Y=(1-d)*c.Y;e.lb=1/e.Y;e.Qb=0;e.pd=c.pd;e.md=c.md;this.R.Re(e);for(d=0;d<this.R.wa;d++)if(this.R.Na[d].T=!1,this.R.Na[d].mb&&this.R.Na[d].J()==2){ne(this.R.Na[d]);for(f=this.R.Na[d].N;f;f=f.next)f.ja.hd=q}for(d=0;d<this.R.Ta;d++)this.R.jc[d].T=!1,this.R.jc[d].hd=q;for(d=0;d<this.R.Da;d++)this.R.vb[d].T=
!1;ce(this.xa)}}};a.prototype.$g=function(){for(var a=q,b=1,d=this.N;d;d=d.r)if(!this.ah(d)){var e=1;if(d.hd!=q)e=d.hd;else{if(d.Oc)e=1;else{var f=d.C.p.c.pa;if(d.C.p.c.pa<d.F.p.c.pa)f=d.F.p.c.pa,d.C.p.c.cc(f);else if(d.F.p.c.pa<d.C.p.c.pa)f=d.C.p.c.pa,d.F.p.c.cc(f);var e=d,g=d.C.p.c,h=d.F.p.c;Fd.bb.i(e.C.ha);Fd.cb.i(e.F.ha);Fd.wg=g;Fd.xg=h;Fd.ti=0.005;var j=Fd;od++;var e=j.bb,g=j.cb,h=j.wg,k=j.xg;L(h.pa==k.pa);L(1-h.pa>Number.MIN_VALUE);var n=e.L+g.L,j=j.ti,o=0,p=0,t=0;td.count=0;for(ud.zg=!1;;){h.rb(vd,
o);k.rb(wd,o);ud.bb=e;ud.cb=g;ud.De=vd;ud.Ee=wd;Pb(yd,td,ud);if(yd.$c<=0){o=1;break}xd.ua(td,e,vd,g,wd);var v=xd.xb(vd,wd);if(v<=0){o=1;break}p==0&&(t=v>n?Math.max(n-j,0.75*n):Math.max(v-j,0.02*n));if(v-t<0.5*j){if(p==0){o=1;break}break}var u=o,w=o,y=1;h.rb(vd,y);k.rb(wd,y);var M=xd.xb(vd,wd);if(M>=t){o=1;break}for(var C=0;;){var l=0,l=C&1?w+(t-v)*(y-w)/(M-v):0.5*(w+y);h.rb(vd,l);k.rb(wd,l);var m=xd.xb(vd,wd);if(Math.abs(m-t)<0.025*j){u=l;break}m>t?(w=l,v=m):(y=l,M=m);C++;rd++;if(C==50)break}sd=Math.max(sd,
C);if(u<(1+100*Number.MIN_VALUE)*o)break;o=u;p++;pd++;if(p==1E3)break}qd=Math.max(qd,p);e=o;L(0<=e&&e<=1);e>0&&e<1&&(e=(1-e)*f+e)}d.hd=e}Number.MIN_VALUE<e&&e<b&&(a=d,b=e)}return{ci:a,di:b}};a.prototype.ah=function(a){return a.Mb()||a.enabled==!1||!a.$e?!0:(a.C.p.J()!=2||!a.C.p.mb)&&(a.F.p.J()!=2||!a.F.p.mb)?!0:!1};a.prototype.Ig=function(c){c.Ba!=this.kg&&this.Ua.wd(c.Ba.g.position,c.ae(),a.tg);this.Ua.wd(c.ae(),c.be(),a.tg);c.Ca!=this.kg&&this.Ua.wd(c.Ca.g.position,c.be(),a.tg)};a.prototype.xd=
function(a,b,d){if(a instanceof ve)this.Ua.Kg(I(b,a.U),a.L,b.d.a,d);else if(a instanceof P){for(var e=0,f=a.If(),a=a.j,g=[],e=0;e<f;e++)g[e]=I(b,a[e]);this.Ua.Lg(g,f,d)}else a instanceof Vb.Hi&&this.Ua.wd(I(b,a.Ai()),I(b,a.Bi()),d)};new Zb})(ue);function we(a){this.Of=xe++;this.position=a.ka();this.Pa=0}var xe=0;function ye(a,c,b){this.zf=[];this.va=[];this.Yi=0;this.uf={};this.ea=a;this.Ma=new F(c.x,c.y);this.ib=new ue(b,!0);this.ib.Sg(this);this.ib.Tg(this);this.top=Q(this,new F(this.Ma.x+2,2),new F(this.Ma.x/2,-1),!1,q,{Za:0});this.bottom=Q(this,new F(this.Ma.x+2,2),new F(this.Ma.x/2,this.Ma.y+1),!1,q,{Za:0});this.left=Q(this,new F(2,this.Ma.y+2),new F(-1,this.Ma.y/2),!1,q,{Za:0});this.right=Q(this,new F(2,this.Ma.y+2),new F(this.Ma.x+1,this.Ma.y/2),!1,q,{Za:0})}x=ye.prototype;
x.update=function(a,c){this.ib.Nf(c,ze,ze);this.ib.Eg();var b=this.zf;this.zf=[];if(b.length>0)for(var d=0;d<b.length;d++)b[d].call(this)};x.yb=function(a,c){if(!a.Mb()&&!c.Mb())for(var b=0;b<this.va.length;b++)if(this.va[b].yb&&!this.va[b].yb(a,c))return!1;return Fc.prototype.yb(a,c)};x.sd=function(a){for(var c=0;c<this.va.length;c++){this.va[c].Pf&&this.va[c].Pf(a);if(a.disabled)a.enabled=!1;this.va[c].sd&&this.va[c].sd(a)}};
x.Pc=function(a){for(var c=0;c<this.va.length;c++)this.va[c].Pc&&this.va[c].Pc(a);a.disabled=!1;a.enabled=!0};x.Ed=function(a,c){if(a.disabled)a.enabled=!1;for(var b=0;b<this.va.length;b++)this.va[b].Ed&&this.va[b].Ed(a,c)};x.Dd=function(a,c){for(var b=0;b<this.va.length;b++)this.va[b].Dd&&this.va[b].Dd(a,c)};function Z(a,c,b,d){d=d||0;a=Ae(a,c,b,!0);a.display.Cg=-10+d;return a}function Q(a,c,b,d,e,f){e=e||{};e.type=V;return Be(a,c,b,d,e,f)}
function Be(a,c,b,d,e,f){var g=new P;cc(g,c.x/2,c.y/2);return a.tb(c,b,d,g,{Vc:e,Rb:f})}function Ce(a,c,b){var d=new P,e=new F(c.x/2,c.y/2);bc(d,[new F(0,e.y),new F(-e.x+0.01,e.y-0.01),new F(-e.x,0),new F(-e.x+0.01,-e.y+0.01),new F(0,-e.y),new F(e.x-0.01,-e.y+0.01),new F(e.x,0),new F(e.x-0.01,e.y-0.01)]);return a.tb(c,b,!0,d,{Vc:{ad:!0},Rb:{Ib:0}})}function De(a,c){a.ib.Jc?a.zf.push(c):c.apply(a)}
x.tb=function(a,c,b,d,e){var f=Ae(this,a,c,b);De(this,function(){var a=e,a=a||{},b=Ee(a.Vc,Fe),j=new Bd;j.type=b.type;j.Pa=b.Pa;j.ad=b.ad;j.position=c;b=this.ib.Ef(j);a=Ge(b,d,a);f.body=b;f.vh=a;b.object=f});return f};function Ae(a,c,b,d){b=new we(b);a.uf[b.Of]=b;d!==!1&&Ac(b,c);return b}
function Ge(a,c,b){var b=b||{},d=Ee(b.Rb,He),b=new Ec;b.Xc=d.Xc;b.Za=d.Za;b.Ib=d.Ib;b.Kd=d.Kd;b.shape=c;if(a.Ea.Jc==!0)a=q;else{c=new fe;c.uc(a,a.g,b);a.Db&je&&c.ud(a.Ea.xa.Hc,a.g);c.r=a.Vb;a.Vb=c;a.jg++;c.p=a;if(c.me>0&&(a.m=0,a.w=0,a.Sb=0,a.K=0,a.c.u.ba(),!(a.O==V||a.O==1))){b=new F(0,0);for(d=a.Vb;d;d=d.r)if(d.me!=0){var e=d.Hf();a.m+=e.pc;b.x+=e.Cc.x*e.pc;b.y+=e.Cc.y*e.pc;a.Sb+=e.zd}a.m>0?(a.w=1/a.m,b.x*=a.w,b.y*=a.w):(a.m=1,a.w=1);a.Sb>0&&(a.Db&ie)==0?(a.Sb-=a.m*(b.x*b.x+b.y*b.y),a.Sb*=a.Qh,
L(a.Sb>0),a.K=1/a.Sb):(a.Sb=0,a.K=0);d=a.c.h.ka();a.c.u.l(b);a.c.qa.l(I(a.g,a.c.u));a.c.h.l(a.c.qa);a.q.x+=a.D*-(a.c.h.y-d.y);a.q.y+=a.D*+(a.c.h.x-d.x)}a.Ea.of=!0;a=c}return a}function Ie(a,c){De(a,function(){c.body&&this.ib.Fg(c.body);delete this.uf[c.Of]})}function Je(a,c,b){De(a,function(){if(c.body){var a=c.body;ke(a,b,a.Kb())}else c.position=b.ka()})}var ze=10,He={Xc:0.1,Za:0.6,Ib:0.01,Kd:!1},Fe={ad:!1,Pa:0,type:2};
function Ee(a,c){var a=a||{},b={},d;for(d in c)b[d]=a[d]===i||a[d]===q?c[d]:a[d];return b};function Ke(a){this.ea=a}function Le(a,c,b,d,e){var f=new F(4,4);Ac(c.body,b);R(c,"../external-resources/graphics/urbansquall_tileset/characters/princess_AP.png",d);c.display.Be=new pc("../external-resources/graphics/urbansquall_tileset/characters/princess_AP.png",d,f,e);c.display.Nb={};c.display.Nb.Mi=e;c.display.Nb.wh=4;c.display.Nb.ic=0;c.display.Nb.Ya={k:Me,x:Me,y:Ne};a=a.ea.Uf;c.Ce=c.Ce||[];c.Ce.push(Oe);a=a.Df;Ga(a,c)>=0||a.push(c)}var Me=0,Ne=2;
function Oe(a,c){var b=this.display.Nb;b.ic+=c;var d=new F(1,1),e=this.body.q,f=Math.abs(e.x),g=Math.abs(e.y);if(g<0.01||f>=g){if(e.x>0.01){if(b.Ya.x=Me,b.Ya.k!=Me)b.Ya.k=Me,b.ic=0}else if(e.x<-0.01){if(b.Ya.x=1,b.Ya.k!=1)b.Ya.k=1,b.ic=0}else b.ic=0;d.y=b.Ya.x==1?4:2}else if(e.y>0.01){b.Ya.y=3;if(b.Ya.k!=3)b.Ya.k=3,b.ic=0;d.y=3}else{b.Ya.y=Ne;if(b.Ya.k!=Ne)b.Ya.k=Ne,b.ic=0;d.y=1}d.x=b.ic==0?1:Math.floor(b.ic*b.wh);b=this.display.Be;b.eb=d.ka();b.eb.x%=b.ze.x;b.eb.y%=b.ze.y;if(b.eb.x===0)b.eb.x=b.ze.x;
if(b.eb.y===0)b.eb.y=b.ze.y};function Pe(){this.Df=[]};function Qe(a,c,b,d,e,f,g){this.rc=a;this.paused=!1;this.$d=0;this.Uf=new Pe;this.Nb=new Ke(this);this.n=new ye(this,b,d);this.viewport=new uc(this,c,f,e,g)}function Re(a){if(a.cg===q)a.cg=new Date;var c=new Date-a.cg>=5E3;ec>0&&!c?setTimeout(function(){Re(a)},50):(c&&alert("It appears to be taking a long time to load the game's images. You may experience some invisible objects until they finish loading, but the game will now start."),a.start())}
Qe.prototype.update=function(a,c){if(this.paused)this.$d=0,xc(this.viewport.rg),this.rc.Ge&&this.rc.Ge(a,c);else{this.rc.we&&this.rc.we(a,c);for(var b=this.Uf,d=0;d<b.Df.length;d++)for(var e=b.Df[d],f=0;f<e.Ce.length;f++)e.Ce[f].apply(e,[a,c]);this.$d+=c;for(b=a-this.$d;this.$d>=0.015;)this.$d-=0.015,b+=0.015,this.rc.li&&this.rc.li(b,0.015),this.n.update(b,0.015);this.rc.ve&&this.rc.ve(a,c);zc(this.viewport.rg);b=this.viewport;b.display.style.visibility="hidden";if(b.ie.x!=b.ia.x||b.ie.y!=b.ia.y){b.ie.x=
b.ia.x;b.ie.y=b.ia.y;if(b.Ra!==q)b.Ra.style.left="-"+(b.ia.x*b.scale-b.pb.x/2)+"px",b.Ra.style.top="-"+(b.ia.y*b.scale-b.pb.y/2)+"px";b.display.style.left="-"+(b.ia.x*b.scale-b.pb.x/2)+"px";b.display.style.top="-"+(b.ia.y*b.scale-b.pb.y/2)+"px";d=b.Ag.body;ke(d,new F(b.ia.x,b.ia.y),d.Kb())}var d=[],g;for(g in b.Pb)d[g]=b.Pb[g];g=b.Ag.vh.Tb;var e=b.ea.n.uf,h;for(h in e){var j=e[h];if(j.display){var k=j.display,n=j.yh(b.ia),o=k.size;k.B.lowerBound.i(n.x-o.x,n.y-o.y);k.B.upperBound.i(n.x+o.x,n.y+o.y);
if(g.Uc(k.B)){if(k.tc==q)k.tc=Bc++;delete d[k.tc];if(b.Pb[k.tc]==q)b.Pb[k.tc]=document.createElement("span"),b.Pb[k.tc].className="gameObject",b.Pb[k.tc].style.zIndex=100+(k.Cg||0),b.display.appendChild(b.Pb[k.tc]);var f=b.Pb[k.tc],p=gc(f),t=b.scale!=p.scale;p.scale=b.scale;var v=n.x-o.x/2;if(t||p.left!=v)p.left=v,f.style.left=v*b.scale+"px";n=n.y-o.y/2;if(t||p.top!=n)p.top=n,f.style.top=n*b.scale+"px";n=o.x;if(t||p.width!=n)p.width=n,f.style.width=n*b.scale+"px";o=o.y;if(t||p.height!=o)p.height=
o,f.style.height=o*b.scale+"px";j=j.xh();if(p.rotation!=j)p.rotation=j,f.style.webkitTransform="rotate("+j+"rad)";if(k.Be!=q){k=k.Be;p=!1;j=gc(f);if(j.hh!=k.url)j.hh=k.url,f.style.backgroundImage="url("+k.url+")",f.style.backgroundColor="transparent",p=!0;else if(j.ih!=k.eb.x||j.jh!=k.eb.y)p=!0;if(p)j.ih=k.eb.x,j.jh=k.eb.y,f.style.backgroundPosition=(k.qg.x+(k.eb.x-1)*k.yg.x)*-1+"px "+(k.qg.y+(k.eb.y-1)*k.yg.y)*-1+"px"}}}}for(var u in d)b.display.removeChild(d[u]),delete b.Pb[u];if(b.Ra!==q)b.Ra.style.visibility=
"hidden",b.ea.n.ib.Hg(),b.Ra.style.visibility="";b.display.style.visibility=""}};Qe.prototype.start=function(){zc(this.viewport.gf);var a=Se;Ga(a,this)>=0||a.push(this);Te||(Ue=document.getElementById("fps"),Te=!0,Ve())};var Te=!1,Se=[],We=60,Xe=q,Ue=q;
function Ve(a){a==q&&(a=(new Date).getTime());var c=0;Xe!==q?c=(a-Xe)/1E3:Xe=a;if(c>0){c>0.2&&(c=0.2);if(Ue){var b=1/c;We=We*0.99+b*0.01;Ue.innerHTML=Math.round(b)+" - "+Math.round(We)}Xe=a;for(b=0;b<Se.length;b++)Se[b].update(a,c);for(var d in ub)ub[d].Bg=!0;pb=ob;rb=qb;tb=sb}Cc(Ve,document.body)};function Ye(a,c,b){this.execute=a;this.name=this.name=c;this.uh=b};function $(a){this.ea=a;this.ea.n.va.push(this)}
$.prototype.Ob=function(a,c){var b=Ce(this.ea.n,a,c);$.Gh(b);$.Ih(b);$.Hh(b);var d=new P,e=new F(a.x/2,a.y/2);ac(d,[new F(-e.x+0.01,e.y-0.01),new F(-e.x-0.01,0),new F(-e.x+0.01,-e.y+0.01),new F(e.x-0.01,-e.y+0.01),new F(e.x+0.01,0),new F(e.x-0.01,e.y-0.01)]);b.Ji=Ge(b.body,d,{Rb:{Za:0}});b.Ga={};b.Ga.tf=new Ye(function(){b.e.Ia.Jh()},"Move Up",!0);b.Ga.sf=new Ye(r(),"Move Down",!0);b.Ga.Td=new Ye(function(){b.e.kd.Td()},"Move Left",!0);b.Ga.Ud=new Ye(function(){b.e.kd.Ud()},"Move Right",!0);return b};
(function(a){a.Xa=0.1;a.xi=new F(0,9.8);a.vc={Me:new F(0,9.8),Ng:1.5,Mf:8,Rg:1};a.gb={Gf:1,Ne:2,Di:4,wi:8,Ff:16,Jf:32,Ke:64};a.Og={Qg:1,vi:2,zi:4};a.P={Tc:1,yc:2,wb:4,zc:8};a.Jd=function(c,b){c.e=c.e||{};c.e.type|=a.gb.Gf;c.e.fe={ii:b&a.P.Tc,fi:b&a.P.wb,gi:b&a.P.yc,hi:b&a.P.zc}};a.Gh=function(c){var b=$.vc.Mf;c.e=c.e||{};c.e.type|=a.gb.Ne;c.e.Ia={kb:[],Ae:b,Jh:function(){var b=c.e.Ia.kb;if(b.length>0){var e=c.body.m*c.e.Ia.Ae*a.vc.Ng,f=c.body.c.h,g=c.body.q;g.y=0;var h=c.body;h.O!=V&&h.q.l(g);le(c.body,
new F(0,-e),f);for(g=0;g<b.length;g++)le(b[g].body,new F(0,e/b.length),f)}}}};a.Ih=function(c){var b=$.vc.Mf,d=$.vc.Rg;c.e=c.e||{};c.e.type|=a.gb.Ne;c.e.kd={Tf:d,Ae:b,Ud:function(){var a=c.body.q,a=Math.min(a.x+c.e.kd.Tf,c.e.kd.Ae)-a.x;a>0&&le(c.body,new F(c.body.m*a,0),c.body.c.h)},Td:function(){var a=c.body.q,a=Math.max(a.x-c.e.kd.Tf,-c.e.kd.Ae)-a.x;a<0&&le(c.body,new F(c.body.m*a,0),c.body.c.h)}}};a.bd=function(c,b,d,e){c.e=c.e||{};c.e.type|=a.gb.Ke;c.e.o=c.e.o||{};if(d&a.P.Tc)c.e.o.ff=!0,c.e.o.Yd=
c.e.o.Yd||[],c.e.o.Yd.push(b);if(d&a.P.wb)c.e.o.ff=!0,c.e.o.Gd=c.e.o.Gd||[],c.e.o.Gd.push(b);if(d&a.P.yc)c.e.o.ff=!0,c.e.o.Ld=c.e.o.Ld||[],c.e.o.Ld.push(b);if(d&a.P.zc)c.e.o.ff=!0,c.e.o.Wd=c.e.o.Wd||[],c.e.o.Wd.push(b);if(e&a.P.Tc)c.e.o.he=!0,c.e.o.Zd=c.e.o.Zd||[],c.e.o.Zd.push(b);if(e&a.P.wb)c.e.o.he=!0,c.e.o.Hd=c.e.o.Hd||[],c.e.o.Hd.push(b);if(e&a.P.yc)c.e.o.he=!0,c.e.o.Md=c.e.o.Md||[],c.e.o.Md.push(b);if(e&a.P.zc)c.e.o.he=!0,c.e.o.Xd=c.e.o.Xd||[],c.e.o.Xd.push(b)};a.Fh=function(c,b){c.e=c.e||{};
c.e.type|=a.gb.Ff;c.e.ef={ni:b,filter:0}};a.Hh=function(c){var b=$.Og.Qg;c.e=c.e||{};c.e.type|=a.gb.Jf;c.e.Lh={filter:b}};a.prototype.yb=q;a.prototype.Pf=function(a){var b=a.C.p.object,d=a.F.p.object;!a.disabled&&b&&b.e&&this.Sf(a,b);!a.disabled&&d&&d.e&&this.Sf(a,d)};a.prototype.Sf=function(c,b){if(b.e.type&a.gb.Gf){c.disabled=!0;var d=new Mc;Cd(c,d);d=d.G;if(!b.e.fe.ii&&d.y>a.Xa)c.disabled=!1;else if(!b.e.fe.fi&&d.y<-a.Xa)c.disabled=!1;else if(!b.e.fe.hi&&d.x>a.Xa)c.disabled=!1;else if(!b.e.fe.gi&&
d.x<-a.Xa)c.disabled=!1}};a.prototype.sd=function(a){if(!a.disabled){var b=a.C.p,d=b.object,e=a.F.p,f=e.object;d&&f&&(d.e&&this.Qf(a,d,f,e),f.e&&this.Qf(a,f,d,b))}};a.prototype.Qf=function(c,b,d,e){if(b.e.type&a.gb.Ne){var f=new Mc;Cd(c,f);var g=f.G;if(g.y>a.Xa){g=!1;for(f=0;f<b.e.Ia.kb.length;f++)if(b.e.Ia.kb[f].body==e){b.e.Ia.kb[f].count++;g=!0;break}g||b.e.Ia.kb.push({body:e,count:1});c.Nc=c.Nc||[];c.Nc.push({Ia:b,Ah:e})}}if(b.e.type&a.gb.Ke){f=new Mc;Cd(c,f);g=f.G;if(g.y>a.Xa&&b.e.o.Yd)for(f=
0;f<b.e.o.Yd.length;f++)b.e.o.Yd[f](c);else if(g.y<-a.Xa&&b.e.o.Gd)for(f=0;f<b.e.o.Gd.length;f++)b.e.o.Gd[f](c);if(g.x>a.Xa&&b.e.o.Ld)for(f=0;f<b.e.o.Ld.length;f++)b.e.o.Ld[f](c);else if(g.x<-a.Xa&&b.e.o.Wd)for(f=0;f<b.e.o.Wd.length;f++)b.e.o.Wd[f](c)}b.e.type&a.gb.Ff&&d.e&&d.e.type&a.gb.Jf&&(b.e.ef.filter==0||b.e.ef.filter&d.e.Lh.filter)&&Je(this.ea.n,d,b.e.ef.ni)};a.prototype.Pc=function(a){if(a.Nc){for(var b=0;b<a.Nc.length;b++){for(var d=a.Nc[b].Ia,e=a.Nc[b].Ah,f=[],g=0;g<d.e.Ia.kb.length;g++)d.e.Ia.kb[g].body==
e?(d.e.Ia.kb[g].count--,d.e.Ia.kb[g].count>0&&f.push(d.e.Ia.kb[g])):f.push(d.e.Ia.kb[g]);d.e.Ia.kb=f}a.Nc=q}if(!a.disabled)b=a.C.p.object,d=a.F.p.object,b&&d&&(b.e&&this.Rf(a,b),d.e&&this.Rf(a,d))};a.prototype.Rf=function(c,b){if(b.e.type&a.gb.Ke&&b.e.o.he){var d=new Mc;Cd(c,d);d=d.G;if(d.y>a.Xa&&b.e.o.Zd)for(var e=0;e<b.e.o.Zd.length;e++)b.e.o.Zd[e](c);else if(d.y<-a.Xa&&b.e.o.Hd)for(e=0;e<b.e.o.Hd.length;e++)b.e.o.Hd[e](c);if(d.x>a.Xa&&b.e.o.Md)for(e=0;e<b.e.o.Md.length;e++)b.e.o.Md[e](c);else if(d.x<
-a.Xa&&b.e.o.Xd)for(e=0;e<b.e.o.Xd.length;e++)b.e.o.Xd[e](c)}};a.prototype.Ed=q;a.prototype.Dd=q;a.prototype.f=function(a,b){return Q(this.ea.n,a,b,!0)};a.prototype.Wc=function(c,b){var d,e=Q(this.ea.n,c,b,!0,q,q);if(d===i||d===q)d=a.P.wb|a.P.yc|a.P.zc;a.Jd(e,d)};a.prototype.Eh=function(c,b){var d=this;a.bd(c,function(){Ie(d.ea.n,c)},b,q)};a.prototype.Ha=function(c,b){var d,e=Q(this.ea.n,c,b,!0,q,q);if(d===i||d===q)d=a.P.wb;this.Eh(e,d);return e};a.prototype.lh=function(c,b,d){c=Q(this.ea.n,c,b,!0,
q,q);a.Fh(c,d);return c}})($);function Ze(a,c,b){this.x=a;this.y=c;this.s=b}x=Ze.prototype;x.ba=function(){this.s=this.y=this.x=0};x.i=function(a,c,b){this.x=a;this.y=c;this.s=b};x.l=function(a){this.x=a.x;this.y=a.y;this.s=a.s};x.wc=function(){return new Ze(-this.x,-this.y,-this.s)};x.Lf=function(){this.x=-this.x;this.y=-this.y;this.s=-this.s};x.ka=function(){return new Ze(this.x,this.y,this.s)};x.rd=function(a){this.x+=a.x;this.y+=a.y;this.s+=a.s};x.Kf=function(a){this.x*=a;this.y*=a;this.s*=a};function $e(a,c,b){this.a=new Ze(0,0,0);this.b=new Ze(0,0,0);this.Q=new Ze(0,0,0);a&&this.a.l(a);c&&this.b.l(c);b&&this.Q.l(b)}x=$e.prototype;x.ka=function(){return new $e(this.a,this.b,this.Q)};x.Sc=function(a){this.a.l(a.a);this.b.l(a.b);this.Q.l(a.Q)};x.He=function(a){this.a.x+=a.a.x;this.a.y+=a.a.y;this.a.s+=a.a.s;this.b.x+=a.b.x;this.b.y+=a.b.y;this.b.s+=a.b.s;this.Q.x+=a.Q.x;this.Q.y+=a.Q.y;this.Q.s+=a.Q.s};x.de=function(){this.a.i(1,0,0);this.b.i(0,1,0);this.Q.i(0,0,1)};
x.ba=function(){this.a.i(0,0,0);this.b.i(0,0,0);this.Q.i(0,0,0)};function af(a,c,b,d){var e=a.a.x,f=a.b.x,g=a.a.y,a=a.b.y,h=e*a-f*g;h!=0&&(h=1/h);c.x=h*(a*b-f*d);c.y=h*(e*d-g*b)}function bf(a,c,b,d,e){var f=a.a.x,g=a.a.y,h=a.a.s,j=a.b.x,k=a.b.y,n=a.b.s,o=a.Q.x,p=a.Q.y,a=a.Q.s,t=f*(k*a-n*p)+g*(n*o-j*a)+h*(j*p-k*o);t!=0&&(t=1/t);c.x=t*(b*(k*a-n*p)+d*(n*o-j*a)+e*(j*p-k*o));c.y=t*(f*(d*a-e*p)+g*(e*o-b*a)+h*(b*p-d*o));c.s=t*(f*(k*e-n*d)+g*(n*b-j*e)+h*(j*d-k*b))};function cf(a){ee.call(this,a);this.kc=new F(0,0);this.lc=new F(0,0);this.v=new Ze;this.m=new $e;this.kc.l(a.cd);this.lc.l(a.dd);this.qe=a.Vd;this.v.ba()}A(cf,ee);x=cf.prototype;x.ae=function(){return me(this.Ba,this.kc)};x.be=function(){return me(this.Ca,this.lc)};
x.Rc=function(a){var c,b=0,d=this.Ba,e=this.Ca;c=d.g.d;var f=this.kc.x-d.c.u.x,g=this.kc.y-d.c.u.y,b=c.a.x*f+c.b.x*g,g=c.a.y*f+c.b.y*g,f=b;c=e.g.d;var h=this.lc.x-e.c.u.x,j=this.lc.y-e.c.u.y,b=c.a.x*h+c.b.x*j,j=c.a.y*h+c.b.y*j,h=b;c=d.w;var b=e.w,k=d.K,n=e.K;this.m.a.x=c+b+g*g*k+j*j*n;this.m.b.x=-g*f*k-j*h*n;this.m.Q.x=-g*k-j*n;this.m.a.y=this.m.b.x;this.m.b.y=c+b+f*f*k+h*h*n;this.m.Q.y=f*k+h*n;this.m.a.s=this.m.Q.x;this.m.b.s=this.m.Q.y;this.m.Q.s=k+n;a.qd?(this.v.x*=a.Qb,this.v.y*=a.Qb,this.v.s*=
a.Qb,d.q.x-=c*this.v.x,d.q.y-=c*this.v.y,d.D-=k*(f*this.v.y-g*this.v.x+this.v.s),e.q.x+=b*this.v.x,e.q.y+=b*this.v.y,e.D+=n*(h*this.v.y-j*this.v.x+this.v.s)):this.v.ba()};
x.Bc=function(){var a,c=0,b=this.Ba,d=this.Ca,e=b.q,f=b.D,g=d.q,h=d.D,j=b.w,k=d.w,n=b.K,o=d.K;a=b.g.d;var p=this.kc.x-b.c.u.x,t=this.kc.y-b.c.u.y,c=a.a.x*p+a.b.x*t,t=a.a.y*p+a.b.y*t,p=c;a=d.g.d;var v=this.lc.x-d.c.u.x,u=this.lc.y-d.c.u.y,c=a.a.x*v+a.b.x*u,u=a.a.y*v+a.b.y*u,v=c;a=new Ze(0,0,0);bf(this.m,a,-(g.x-h*u-e.x+f*t),-(g.y+h*v-e.y-f*p),-(h-f));this.v.rd(a);e.x-=j*a.x;e.y-=j*a.y;f-=n*(p*a.y-t*a.x+a.s);g.x+=k*a.x;g.y+=k*a.y;h+=o*(v*a.y-u*a.x+a.s);b.D=f;d.D=h};
x.Ac=function(){var a,c=0,b=this.Ba,d=this.Ca;a=b.g.d;var e=this.kc.x-b.c.u.x,f=this.kc.y-b.c.u.y,c=a.a.x*e+a.b.x*f,f=a.a.y*e+a.b.y*f,e=c;a=d.g.d;var g=this.lc.x-d.c.u.x,h=this.lc.y-d.c.u.y,c=a.a.x*g+a.b.x*h,h=a.a.y*g+a.b.y*h,g=c;a=b.w;var c=d.w,j=b.K,k=d.K,n=d.c.h.x+g-b.c.h.x-e,o=d.c.h.y+h-b.c.h.y-f,p=d.c.k-b.c.k-this.qe,t=Math.sqrt(n*n+o*o),v=Math.abs(p);t>0.05&&(j*=1,k*=1);this.m.a.x=a+c+f*f*j+h*h*k;this.m.b.x=-f*e*j-h*g*k;this.m.Q.x=-f*j-h*k;this.m.a.y=this.m.b.x;this.m.b.y=a+c+e*e*j+g*g*k;this.m.Q.y=
e*j+g*k;this.m.a.s=this.m.Q.x;this.m.b.s=this.m.Q.y;this.m.Q.s=j+k;var u=new Ze(0,0,0);bf(this.m,u,-n,-o,-p);b.c.h.x-=a*u.x;b.c.h.y-=a*u.y;b.c.k-=j*(e*u.y-f*u.x+u.s);d.c.h.x+=c*u.x;d.c.h.y+=c*u.y;d.c.k+=k*(g*u.y-h*u.x+u.s);T(b);T(d);return t<=0.005&&v<=Hb};function df(){this.type=0;this.da=this.ca=this.sc=q;this.Xf=!1};function ef(){df.call(this);this.cd=new F(0,0);this.dd=new F(0,0);this.type=8;this.Vd=0}A(ef,df);ef.prototype.ua=function(a,c,b){this.ca=a;this.da=c;this.cd.l(Gb(this.ca.g,b));this.dd.l(Gb(this.da.g,b));this.Vd=this.da.Kb()-this.ca.Kb()};ef.prototype.uc=function(){return new cf(this)};function ve(a){Wb.call(this);this.O=0;this.L=a;this.U=new F(0,0)}A(ve,Wb);x=ve.prototype;x.ka=function(){var a=new ve(this.L);a.i(this);return a};x.i=function(a){Wb.prototype.i.call(this,a);a instanceof ve&&this.U.l(a.U)};x.td=function(a,c){var b=c.d,d=c.position.x+(b.a.x*this.U.x+b.b.x*this.U.y),b=c.position.y+(b.a.y*this.U.x+b.b.y*this.U.y);a.lowerBound.i(d-this.L,b-this.L);a.upperBound.i(d+this.L,b+this.L)};
x.Ie=function(a,c){a.pc=c*Math.PI*this.L*this.L;a.Cc.l(this.U);a.zd=a.pc*(0.5*this.L*this.L+(this.U.x*this.U.x+this.U.y*this.U.y))};x.Qe=function(a){a.j=[this.U];a.t=1;a.L=this.L};function ff(a){ee.call(this,a);this.sb=new Ab;this.Ad=new Ab;this.Bd=new Ab;this.Cd=new Ab;this.ma=new Ze(0,0,0);this.ub=new F(0,0);this.Hb=new F(0,0);this.Eb=new F(0,0);this.Fb=new F(0,0);this.v=new Ze(0,0,0);this.m=new $e;this.Eb.l(a.cd);this.Fb.l(a.dd);this.qe=a.Vd;this.v.ba();this.Xb=0;this.oe=a.Mh;this.rf=a.ui;this.Wh=a.ai;this.Xh=a.ei;this.kf=a.rh;this.ig=a.sh;this.La=0}A(ff,ee);x=ff.prototype;x.ae=function(){return me(this.Ba,this.Eb)};x.be=function(){return me(this.Ca,this.Fb)};
x.Rc=function(a){var c=this.Ba,b=this.Ca,d,e=0;d=c.g.d;var f=this.Eb.x-c.c.u.x,g=this.Eb.y-c.c.u.y,e=d.a.x*f+d.b.x*g,g=d.a.y*f+d.b.y*g,f=e;d=b.g.d;var h=this.Fb.x-b.c.u.x,j=this.Fb.y-b.c.u.y,e=d.a.x*h+d.b.x*j,j=d.a.y*h+d.b.y*j,h=e;d=c.w;var e=b.w,k=c.K,n=b.K;this.m.a.x=d+e+g*g*k+j*j*n;this.m.b.x=-g*f*k-j*h*n;this.m.Q.x=-g*k-j*n;this.m.a.y=this.m.b.x;this.m.b.y=d+e+f*f*k+h*h*n;this.m.Q.y=f*k+h*n;this.m.a.s=this.m.Q.x;this.m.b.s=this.m.Q.y;this.m.Q.s=k+n;this.pe=1/(k+n);if(!this.ig)this.Xb=0;if(this.kf){var o=
b.c.k-c.c.k-this.qe;if(Math.abs(this.rf-this.oe)<2*Hb)this.La=3;else if(o<=this.oe){if(this.La!=1)this.v.s=0;this.La=1}else if(o>=this.rf){if(this.La!=2)this.v.s=0;this.La=2}else this.La=0,this.v.s=0}else this.La=0;a.qd?(this.v.x*=a.Qb,this.v.y*=a.Qb,this.Xb*=a.Qb,a=this.v.x,o=this.v.y,c.q.x-=d*a,c.q.y-=d*o,c.D-=k*(f*o-g*a+this.Xb+this.v.s),b.q.x+=e*a,b.q.y+=e*o,b.D+=n*(h*o-j*a+this.Xb+this.v.s)):(this.v.ba(),this.Xb=0)};
x.Bc=function(a){var c=this.Ba,b=this.Ca,d=0,e=d=0,f=0,g=0,h=0,j=c.q,k=c.D,n=b.q,o=b.D,p=c.w,t=b.w,v=c.K,u=b.K;if(this.ig&&this.La!=3)e=this.pe*-(o-k-this.Xh),f=this.Xb,g=a.Y*this.Wh,this.Xb=K(this.Xb+e,-g,g),e=this.Xb-f,k-=v*e,o+=u*e;if(this.kf&&this.La!=0){var a=c.g.d,e=this.Eb.x-c.c.u.x,f=this.Eb.y-c.c.u.y,d=a.a.x*e+a.b.x*f,f=a.a.y*e+a.b.y*f,e=d,a=b.g.d,g=this.Fb.x-b.c.u.x,h=this.Fb.y-b.c.u.y,d=a.a.x*g+a.b.x*h,h=a.a.y*g+a.b.y*h,g=d,a=n.x+-o*h-j.x- -k*f,w=n.y+o*g-j.y-k*e;bf(this.m,this.ma,-a,-w,
-(o-k));if(this.La==3)this.v.rd(this.ma);else if(this.La==1){if(d=this.v.s+this.ma.s,d<0)af(this.m,this.Hb,-a,-w),this.ma.x=this.Hb.x,this.ma.y=this.Hb.y,this.ma.s=-this.v.s,this.v.x+=this.Hb.x,this.v.y+=this.Hb.y,this.v.s=0}else if(this.La==2&&(d=this.v.s+this.ma.s,d>0))af(this.m,this.Hb,-a,-w),this.ma.x=this.Hb.x,this.ma.y=this.Hb.y,this.ma.s=-this.v.s,this.v.x+=this.Hb.x,this.v.y+=this.Hb.y,this.v.s=0;j.x-=p*this.ma.x;j.y-=p*this.ma.y;k-=v*(e*this.ma.y-f*this.ma.x+this.ma.s);n.x+=t*this.ma.x;n.y+=
t*this.ma.y;o+=u*(g*this.ma.y-h*this.ma.x+this.ma.s)}else a=c.g.d,e=this.Eb.x-c.c.u.x,f=this.Eb.y-c.c.u.y,d=a.a.x*e+a.b.x*f,f=a.a.y*e+a.b.y*f,e=d,a=b.g.d,g=this.Fb.x-b.c.u.x,h=this.Fb.y-b.c.u.y,d=a.a.x*g+a.b.x*h,h=a.a.y*g+a.b.y*h,g=d,af(this.m,this.ub,-(n.x+-o*h-j.x- -k*f),-(n.y+o*g-j.y-k*e)),this.v.x+=this.ub.x,this.v.y+=this.ub.y,j.x-=p*this.ub.x,j.y-=p*this.ub.y,k-=v*(e*this.ub.y-f*this.ub.x),n.x+=t*this.ub.x,n.y+=t*this.ub.y,o+=u*(g*this.ub.y-h*this.ub.x);c.q.l(j);c.D=k;b.q.l(n);b.D=o};
x.Ac=function(){var a=0,c,b=this.Ba,d=this.Ca,e=0,f=c=0,g=0,h=0;if(this.kf&&this.La!=0){var a=d.c.k-b.c.k-this.qe,j=0;this.La==3?(a=K(a-this.oe,-Ib,Ib),j=-this.pe*a,e=Math.abs(a)):this.La==1?(a-=this.oe,e=-a,a=K(a+Hb,-Ib,0),j=-this.pe*a):this.La==2&&(a-=this.rf,e=a,a=K(a-Hb,0,Ib),j=-this.pe*a);b.c.k-=b.K*j;d.c.k+=d.K*j;T(b);T(d)}c=b.g.d;j=this.Eb.x-b.c.u.x;a=this.Eb.y-b.c.u.y;f=c.a.x*j+c.b.x*a;a=c.a.y*j+c.b.y*a;j=f;c=d.g.d;var k=this.Fb.x-d.c.u.x,n=this.Fb.y-d.c.u.y,f=c.a.x*k+c.b.x*n,n=c.a.y*k+c.b.y*
n,k=f,g=d.c.h.x+k-b.c.h.x-j,h=d.c.h.y+n-b.c.h.y-a,o=g*g+h*h;c=Math.sqrt(o);var f=b.w,p=d.w,t=b.K,v=d.K;o>0.05*0.05&&(o=1/(f+p),g=o*-g,h=o*-h,b.c.h.x-=0.5*f*g,b.c.h.y-=0.5*f*h,d.c.h.x+=0.5*p*g,d.c.h.y+=0.5*p*h,g=d.c.h.x+k-b.c.h.x-j,h=d.c.h.y+n-b.c.h.y-a);this.Ad.a.x=f+p;this.Ad.b.x=0;this.Ad.a.y=0;this.Ad.b.y=f+p;this.Bd.a.x=t*a*a;this.Bd.b.x=-t*j*a;this.Bd.a.y=-t*j*a;this.Bd.b.y=t*j*j;this.Cd.a.x=v*n*n;this.Cd.b.x=-v*k*n;this.Cd.a.y=-v*k*n;this.Cd.b.y=v*k*k;this.sb.Sc(this.Ad);this.sb.He(this.Bd);
this.sb.He(this.Cd);this.sb.Fd(gf,-g,-h);g=gf.x;h=gf.y;b.c.h.x-=b.w*g;b.c.h.y-=b.w*h;b.c.k-=b.K*(j*h-a*g);d.c.h.x+=d.w*g;d.c.h.y+=d.w*h;d.c.k+=d.K*(k*h-n*g);T(b);T(d);return c<=0.005&&e<=Hb};var gf=new F(0,0);function hf(){df.call(this);this.cd=new F(0,0);this.dd=new F(0,0);this.type=1;this.cd.ba();this.dd.ba();this.ei=this.ai=this.ui=this.Mh=this.Vd=0;this.sh=this.rh=!1}A(hf,df);hf.prototype.ua=function(a,c,b){this.ca=a;this.da=c;this.cd=Gb(this.ca.g,b);this.dd=Gb(this.da.g,b);this.Vd=this.da.Kb()-this.ca.Kb()};hf.prototype.uc=function(){return new ff(this)};var jf={};
(function(a){var c,b=new F(600,80),d=new F(400,300),e,f,g,h;a.zb=function(c,e,f){g=new Qe(a,c,b,$.vc.Me,d,20,e);h=new $(g);c=new F(13,b.y-45);a.df();a.oh();a.mh();a.Ob(c,f);a.cf(new F(13,b.y-40));Re(g)};a.Ob=function(a,b){var d=new F(0,0),o=new F(21,47),p=new F(o.x/20,o.y/20);c=h.Ob(p,a);Le(g.Nb,c,p,d,o);f=new lb("game");E(f,new Ye(function(){g.paused=!g.paused},"Pause",!1),80,!1,!1,!1);e=new lb("player");E(e,c.Ga.tf,b?87:38,!1,!1,!1);E(e,c.Ga.Td,b?65:37,!1,!1,!1);E(e,c.Ga.sf,b?83:40,!1,!1,!1);E(e,
c.Ga.Ud,b?68:39,!1,!1,!1)};a.df=function(){var c=new F(3,0.25);Q(g.n,new F(5,0.25),new F(16,b.y-1.5),!0,{Pa:Math.PI/3},q);h.Wc(c,new F(10,b.y-6));h.Wc(c,new F(6,b.y-12));h.Wc(c,new F(8,b.y-18));h.Wc(c,new F(12,b.y-24));h.Wc(c,new F(10,b.y-30));h.Wc(c,new F(10,b.y-36));h.f(new F(b.x-14,0.5),new F(b.x/2+7,b.y-25));a.af(new F(10,5),new F(20,b.y-25))};a.af=function(a,b){Q(g.n,new F(0.25,Math.sqrt(a.y*a.y*2)),new F(b.x+a.y/2,b.y-a.y/2),!0,{Pa:Math.PI/4},q);Q(g.n,new F(0.25,a.y),new F(b.x+a.y,b.y-a.y/2),
!0,q,q);Q(g.n,new F(0.25,a.y),new F(b.x+a.x,b.y-a.y/2),!0,q,q);for(var c=new ve(0.15),d=a.y+1;d<a.x;d+=0.3)for(var e=0;e<a.y/2;e+=0.3){var f=g.n.tb(new F(0.3,0.3),new F(b.x+d+(Math.random()-0.5)/2,b.y-a.y),!0,c,{Rb:{Xc:0.1,Ib:0.1,Za:0.1}}),h=Math.random();h<=0.25?R(f,"graphics/ball-red.png"):h<=0.5?R(f,"graphics/ball-green.png"):h<=0.75?R(f,"graphics/ball-yellow.png"):R(f,"graphics/ball-blue.png")}};a.oh=function(){for(var a=new hf,c=new ef,d=!1,e=20;e<=b.x-10;e+=8){var f={Pa:e/b.x*Math.PI},h=b.y-
14;d&&(h+=8);var d=!d,v=Q(g.n,new F(0.1,0.1),new F(e,h),!1,f),u=Be(g.n,new F(10,1),new F(e,h),f);R(u,"graphics/spinner.png");$.Jd(u,!1);var h=Be(g.n,new F(10,1),new F(e,h),f),w=h.body,f=f.Pa+Math.PI/2;f===i&&(f=0);ke(w,w.g.position,f);R(h,"graphics/spinner.png");a.ua(v.body,u.body,v.body.c.h);g.n.ib.Je(a);a.ua(v.body,h.body,v.body.c.h);g.n.ib.Je(a);c.ua(u.body,h.body,u.body.c.h);g.n.ib.Je(c)}};a.mh=function(){for(var a={type:2,ad:!1},c={Ib:2.5},d=new ve(0.25),e=new F(0.5,0.5),f=0;f<50;f++){var h=
f*5%(b.x-10),h=new F(h+f%20/20+4.5,15+f%20);g.n.tb(e,h,!0,d,{Vc:a,Rb:c})}d=new P;cc(d,0.25,0.25);for(f=0;f<50;f++)h=f*5%(b.x-10),h=new F(h+(f+5)%20/20+4.5,15+(f+5)%20),a.Pa=f%17/17,g.n.tb(e,h,!0,d,{Vc:a,Rb:c});d=new P;bc(d,[new F(-0.5,-0.5),new F(0.5,-0.5),new F(-0.5,0.5)]);for(f=0;f<50;f++)h=f*5%(b.x-10),h=new F(h+(f+10)%20/20+4.5,15+(f+10)%20),a.Pa=f%22/22,g.n.tb(e,h,!0,d,{Vc:a,Rb:c});d=new P;bc(d,[new F(-0.5,-0.5),new F(0,-0.5),new F(0.5,0),new F(0.5,0.5),new F(0,0.3)]);for(f=0;f<50;f++)h=f*5%
(b.x-10),h=new F(h+(f+15)%20/20+4.5,15+(f+15)%20),a.Pa=f%35/35,g.n.tb(e,h,!0,d,{Vc:a,Rb:c})};a.cf=function(a){var b=new F(0,454),c=new F(178,326),d=new F(354,54),e=new F(354,54),f=new F(32,84),g=new F(158,388),u=new F(190,388),w=new F(158,356),y=new F(190,356),M=new F(158,356),C=new F(190,356),l=new F(1.6,1.6),a=new F(a.x+l.x/2,a.y+l.y/2),m=h.f(l,new F(a.x,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*2,a.y));R(m,"graphics/smbsheet.gif",
b);m=h.f(l,new F(a.x+l.x*3,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*4,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*5,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*6,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*7,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*8,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*9,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*10,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+
l.x*11,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*12,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*13,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*14,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*15,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*16,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Ha(l,new F(a.x+l.x*16,a.y-l.y*4));R(m,"graphics/smbsheet.gif",d);m=h.f(l,new F(a.x+l.x*17,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+
l.x*18,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*19,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*20,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Ha(l,new F(a.x+l.x*20,a.y-l.y*4));R(m,"graphics/smbsheet.gif",c);m=h.f(l,new F(a.x+l.x*21,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Ha(l,new F(a.x+l.x*21,a.y-l.y*4));R(m,"graphics/smbsheet.gif",e);m=h.f(l,new F(a.x+l.x*22,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Ha(l,new F(a.x+l.x*22,a.y-l.y*4));R(m,"graphics/smbsheet.gif",c);m=
h.Ha(l,new F(a.x+l.x*22,a.y-l.y*8));R(m,"graphics/smbsheet.gif",d);m=h.f(l,new F(a.x+l.x*23,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Ha(l,new F(a.x+l.x*23,a.y-l.y*4));R(m,"graphics/smbsheet.gif",d);m=h.f(l,new F(a.x+l.x*24,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Ha(l,new F(a.x+l.x*24,a.y-l.y*4));R(m,"graphics/smbsheet.gif",c);m=h.f(l,new F(a.x+l.x*25,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*26,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*27,a.y));R(m,"graphics/smbsheet.gif",
b);m=h.f(l,new F(a.x+l.x*28,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*28,a.y-l.y*1));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*28,a.y-l.y*2));R(m,"graphics/smbsheet.gif",w);m=h.f(l,new F(a.x+l.x*29,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*29,a.y-l.y*1));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*29,a.y-l.y*2));R(m,"graphics/smbsheet.gif",y);m=h.f(l,new F(a.x+l.x*30,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*31,a.y));R(m,"graphics/smbsheet.gif",
b);m=h.f(l,new F(a.x+l.x*32,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*33,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*34,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*35,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*36,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*37,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*38,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*38,a.y-l.y*1));R(m,"graphics/smbsheet.gif",
g);m=h.f(l,new F(a.x+l.x*38,a.y-l.y*2));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*38,a.y-l.y*3));R(m,"graphics/smbsheet.gif",w);m=h.f(l,new F(a.x+l.x*39,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*39,a.y-l.y*1));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*39,a.y-l.y*2));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*39,a.y-l.y*3));R(m,"graphics/smbsheet.gif",y);m=h.f(l,new F(a.x+l.x*40,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*41,a.y));R(m,
"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*42,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*43,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*44,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*45,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*46,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*46,a.y-l.y*1));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*46,a.y-l.y*2));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*46,a.y-
l.y*3));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*46,a.y-l.y*4));R(m,"graphics/smbsheet.gif",w);m=h.f(l,new F(a.x+l.x*47,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*47,a.y-l.y*1));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*47,a.y-l.y*2));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*47,a.y-l.y*3));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*47,a.y-l.y*4));R(m,"graphics/smbsheet.gif",y);m=h.f(l,new F(a.x+l.x*48,a.y));R(m,"graphics/smbsheet.gif",b);
m=h.f(l,new F(a.x+l.x*49,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*50,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*51,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*52,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*53,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*54,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*55,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*56,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,
new F(a.x+l.x*57,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*57,a.y-l.y*1));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*57,a.y-l.y*2));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*57,a.y-l.y*3));R(m,"graphics/smbsheet.gif",g);m=h.f(l,new F(a.x+l.x*57,a.y-l.y*4));R(m,"graphics/smbsheet.gif",M);m=h.f(l,new F(a.x+l.x*58,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*58,a.y-l.y*1));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*58,a.y-l.y*2));R(m,"graphics/smbsheet.gif",
u);m=h.f(l,new F(a.x+l.x*58,a.y-l.y*3));R(m,"graphics/smbsheet.gif",u);m=h.f(l,new F(a.x+l.x*58,a.y-l.y*4));R(m,"graphics/smbsheet.gif",C);m=h.f(l,new F(a.x+l.x*59,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*60,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*61,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*62,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*63,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*64,a.y));R(m,"graphics/smbsheet.gif",
b);m=h.Ha(l,new F(a.x+l.x*64,a.y-l.y*5));$.Jd(m,$.P.Tc|$.P.yc|$.P.zc);R(m,"graphics/smbsheet.gif",f);m=h.f(l,new F(a.x+l.x*65,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*66,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*67,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*68,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*71,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*72,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*73,a.y));
R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*74,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*75,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*76,a.y));R(m,"graphics/smbsheet.gif",b);m=h.f(l,new F(a.x+l.x*77,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Ha(l,new F(a.x+l.x*77,a.y-l.y*4));R(m,"graphics/smbsheet.gif",c);m=h.f(l,new F(a.x+l.x*78,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Ha(l,new F(a.x+l.x*78,a.y-l.y*4));R(m,"graphics/smbsheet.gif",e);m=h.f(l,new F(a.x+l.x*
79,a.y));R(m,"graphics/smbsheet.gif",b);m=h.Ha(l,new F(a.x+l.x*79,a.y-l.y*4));R(m,"graphics/smbsheet.gif",c)};a.Ge=function(a,b){nb(f,b)};a.we=function(a,b){nb(f,b);nb(e,b)};a.ve=function(){vc(g.viewport,c.body.c.h)}})(jf);ba("test.init",jf.zb);var kf={};
(function(a){var c,b=new F(350,30),d=new F(600,300),e,f,g,h,j=new F(0,454),k=new F(178,326),n=new F(2,124),o=new F(354,54),p=new F(0,58),t=new F(290,54),v=new F(178,326),u=new F(0,0),w=new F(32,84),y=new F(354,54),M=new F(0,90),C=new F(0,0),l=new F(2,158),m=new F(158,388),H=new F(190,388),U=new F(158,356),mf=new F(190,356),nf=new F(158,356),of=new F(190,356),pf=new F(55,380),qf=new F(10,396),rf=new F(466,168),sf=new F(452,136),tf=new F(466,104),uf=new F(300,424),vf=new F(300,352),wf=new F(364,424),
xf=new F(364,384),yf=new F(332,352),zf=new F(332,320),Af=new F(396,352),Bf=new F(396,320),Cf=new F(364,352),Df=new F(362,264),Ef=new F(160,64);a.zb=function(c,e,f){g=new Qe(a,c,b,$.vc.Me,d,20,e);h=new $(g);c=new F(5,b.y-7);a.Ob(c,f);a.cf(new F(0,b.y),c);f=Z(g.n,new F(d.x/20,d.y/20),new F(0,0),-1);R(f,"graphics/sky.png");f.display.ue=1;Re(g)};a.Ob=function(a,b){var d=new F(0,0),j=new F(21,47),k=new F(j.x/20,j.y/20);c=h.Ob(k,a);Le(g.Nb,c,k,d,j);f=new lb("game");E(f,new Ye(function(){g.paused=!g.paused},
"Pause",!1),80,!1,!1,!1);e=new lb("player");E(e,c.Ga.tf,b?87:38,!1,!1,!1);E(e,c.Ga.Td,b?65:37,!1,!1,!1);E(e,c.Ga.sf,b?83:40,!1,!1,!1);E(e,c.Ga.Ud,b?68:39,!1,!1,!1)};a.cf=function(b,c){for(var d=new F(1.6,1.6),e=new F(b.x-d.x/2,b.y-d.y/2),f=["                                                                                                                                                                                                                    ".split(""),"                                                                                                                                                                                                                    ".split(""),
"                                                                                                                                                                                                      o             ".split(""),"                                                                                                                                                                                                     F|             ".split(""),"                                                                                   G                                                                                                                  |             ".split(""),
"                      O                                                         ########   ###O              M           ###    #OO#                                                        ==        |             ".split(""),"                                                                                                                                                                                           ===        |             ".split(""),"                                                                               G                                                                                                          ====        |     $       ".split(""),
"                                                                1                                                                                                                        =====        |    ^^^      ".split(""),"                O   #M#O#                     <>         {}                  #M#              @     #*    O  O  O     #          ##      =  =          ==  =            ###O#           ======        |    R+L      ".split(""),"                                      <>      []         []                                                                             ==  ==        ===  ==                          =======        |   ^r&l^     ".split(""),
"                            <>        []      []         []                                                                            ===  ===      ====  ===     {}              <> ========        |   ++u++     ".split(""),"                     G      []        [] G    []     G G []                                    G G        T                G G G G    ====  ====    =====  ====    []        G G   []=========        =   ++8++     ".split(""),"---------------------------------------------------------------------  ---------------   ----------------------------------------------------------------  ---------------------------------------------------------".split(""),
"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".split("")],e=new F(e.x,e.y-d.y*(f.length-1)),g=0;g<f.length;g++)for(var h=0;h<f[g].length;h++)a.nh(f[g][h],new F(h,g),e,d,c)};a.nh=function(a,b,c,d,e){var f=q,B=q;switch(a){case " ":break;case "-":f=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=j;break;case "=":f=h.f(d,new F(c.x+b.x*d.x,c.y+
b.y*d.y));B=n;break;case "O":f=h.Ha(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));$.bd(f,function(){var a=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));R(a,"graphics/smbsheet.gif",t);a=Z(g.n,d,new F(c.x+b.x*d.x,c.y+(b.y-1)*d.y));R(a,"graphics/smbsheet.gif",p)},$.P.wb);B=o;break;case "@":f=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));f.Wf=8;f.Ze=0;$.bd(f,function(){f.Ze++;var a=Z(g.n,d,new F(c.x+b.x*d.x,c.y+(b.y-f.Ze/f.Wf)*d.y));R(a,"graphics/smbsheet.gif",p);f.Ze==f.Wf&&(Ie(g.n,f),a=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y)),R(a,
"graphics/smbsheet.gif",t))},$.P.wb);B=v;break;case "#":f=h.Ha(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=k;break;case "1":f=h.Ha(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));$.Jd(f,$.P.Tc|$.P.yc|$.P.zc);$.bd(f,function(){var a=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));R(a,"graphics/smbsheet.gif",t);a=Z(g.n,d,new F(c.x+b.x*d.x,c.y+(b.y-1)*d.y));R(a,"graphics/smbsheet.gif",l)},$.P.wb);B=C;break;case "*":f=h.Ha(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));$.Jd(f,$.P.Tc|$.P.yc|$.P.zc);$.bd(f,function(){var a=h.f(d,new F(c.x+b.x*d.x,
c.y+b.y*d.y));R(a,"graphics/smbsheet.gif",t);a=Z(g.n,d,new F(c.x+b.x*d.x,c.y+(b.y-1)*d.y));R(a,"graphics/smbsheet.gif",w)},$.P.wb);B=u;break;case "M":f=h.Ha(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));$.bd(f,function(){var a=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));R(a,"graphics/smbsheet.gif",t);a=Z(g.n,d,new F(c.x+b.x*d.x,c.y+(b.y-1)*d.y));R(a,"graphics/smbsheet.gif",M)},$.P.wb);B=y;break;case "[":f=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=m;break;case "]":f=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=H;break;case "<":f=
h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=U;break;case ">":f=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=mf;break;case "{":f=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=nf;break;case "}":f=h.f(d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=of;break;case "T":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=pf;break;case "G":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=qf;break;case "|":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=rf;break;case "F":f=Z(g.n,d,new F(c.x+b.x*d.x+d.x/2,c.y+b.y*d.y),1);B=sf;break;case "o":f=Z(g.n,
d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=tf;break;case "+":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=uf;break;case "^":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=vf;break;case "8":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=wf;break;case "u":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=xf;break;case "R":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=zf;break;case "r":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=yf;break;case "L":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=Bf;break;case "l":f=Z(g.n,d,new F(c.x+
b.x*d.x,c.y+b.y*d.y));B=Af;break;case "&":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y));B=Cf;break;case "$":f=Z(g.n,d,new F(c.x+b.x*d.x,c.y+b.y*d.y+d.y/4));B=Df;break;case "x":f=h.lh(d,new F(c.x+b.x*d.x,c.y+b.y*d.y),e);B=Ef;break;default:throw"Invalid type: "+a;}f!==q&&"graphics/smbsheet.gif"!==q&&B!==q&&R(f,"graphics/smbsheet.gif",B)};a.Ge=function(a,b){nb(f,b)};a.we=function(a,b){nb(f,b);nb(e,b)};a.ve=function(){vc(g.viewport,c.body.c.h)}})(kf);ba("mario.init",kf.zb);var lf={};
(function(a){var c,b=new F(5,10),d=new F(100,200),e,f,g,h;a.zb=function(c,e,f){g=new Qe(a,c,b,$.vc.Me,d,20,e);h=new $(g);c=new F(2,2);a.df();a.Ob(c,f);Re(g)};a.Ob=function(a,b){var d=new F(0,0),o=new F(21,47),p=new F(o.x/20,o.y/20);c=h.Ob(p,a);Le(g.Nb,c,p,d,o);f=new lb("game");E(f,new Ye(function(){g.paused=!g.paused},"Pause",!1),80,!1,!1,!1);e=new lb("player");E(e,c.Ga.tf,b?87:38,!1,!1,!1);E(e,c.Ga.Td,b?65:37,!1,!1,!1);E(e,c.Ga.sf,b?83:40,!1,!1,!1);E(e,c.Ga.Ud,b?68:39,!1,!1,!1)};a.df=function(){h.f(new F(b.x,0.5),
new F(b.x/2,b.y-0.25));a.af(new F(b.x,6),new F(0,b.y-0.25))};a.af=function(a,b){Q(g.n,new F(0.25,a.y),new F(b.x+0,b.y-a.y/2),!0,q,q);Q(g.n,new F(0.25,a.y),new F(b.x+a.x-0.125,b.y-a.y/2),!0,q,q);for(var c=new ve(0.15),d=0,e=0.15;e<a.x-0.15;e+=0.3)for(var f=0;f<a.y/2;f+=0.3){var h=g.n.tb(new F(0.3,0.3),new F(b.x+e-d++%2*0.15,b.y-f),!0,c,{Rb:{Xc:0.1,Ib:0.1,Za:0.1}}),u=Math.random();u<=0.25?R(h,"graphics/ball-red.png"):u<=0.5?R(h,"graphics/ball-green.png"):u<=0.75?R(h,"graphics/ball-yellow.png"):R(h,
"graphics/ball-blue.png")}};a.Ge=function(a,b){nb(f,b)};a.we=function(a,b){nb(f,b);nb(e,b)};a.ve=function(){vc(g.viewport,c.body.c.h)}})(lf);ba("pit.init",lf.zb);
