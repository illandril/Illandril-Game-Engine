(function(){var k=void 0,o=true,q=null,r=false;function aa(){return function(){}}function ba(a){return function(){return this[a]}}function ca(a){return function(){return a}}var u,x=this;function da(a,c){var b=a.split("."),d=x;!(b[0]in d)&&d.execScript&&d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)!b.length&&c!==k?d[e]=c:d=d[e]?d[e]:d[e]={}}function ea(){}
function fa(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if(b=="[object Window]")return"object";if(b=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(b=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}var ga="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ha=0;function z(a,c){function b(){}b.prototype=c.prototype;a.Kh=c.prototype;a.prototype=new b;a.prototype.constructor=a};function ia(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),g=Math.max(d.length,e.length),f=0;b==0&&f<g;f++){var h=d[f]||"",i=e[f]||"",j=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var m=j.exec(h)||["","",""],n=l.exec(i)||["","",""];if(m[0].length==0&&n[0].length==0)break;b=ja(m[1].length==0?0:parseInt(m[1],10),n[1].length==0?0:parseInt(n[1],10))||ja(m[2].length==0,n[2].length==0)||ja(m[2],n[2])}while(b==
0)}return b}function ja(a,c){if(a<c)return-1;else if(a>c)return 1;return 0};var ka,la,ma,na;function oa(){return x.navigator?x.navigator.userAgent:q}na=ma=la=ka=r;var pa;if(pa=oa()){var qa=x.navigator;ka=pa.indexOf("Opera")==0;la=!ka&&pa.indexOf("MSIE")!=-1;ma=!ka&&pa.indexOf("WebKit")!=-1;na=!ka&&!ma&&qa.product=="Gecko"}var ra=la,sa=na,ta=ma,ua=x.navigator,va=(ua&&ua.platform||"").indexOf("Mac")!=-1,wa;
a:{var xa="",ya;if(ka&&x.opera)var za=x.opera.version,xa=typeof za=="function"?za():za;else if(sa?ya=/rv\:([^\);]+)(\)|;)/:ra?ya=/MSIE\s+([^\);]+)(\)|;)/:ta&&(ya=/WebKit\/(\S+)/),ya)var Aa=ya.exec(oa()),xa=Aa?Aa[1]:"";if(ra){var Ba,Ca=x.document;Ba=Ca?Ca.documentMode:k;if(Ba>parseFloat(xa)){wa=String(Ba);break a}}wa=xa}var Da={},Ea={};var Fa,Ga={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",
96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};var Ha=Array.prototype,Ia=Ha.indexOf?function(a,c,b){return Ha.indexOf.call(a,c,b)}:function(a,c,b){b=b==q?0:b<0?Math.max(0,a.length+b):b;if(typeof a=="string")return typeof c!="string"||c.length!=1?-1:a.indexOf(c,b);for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1};function Ja(a,c){Ia(a,c)>=0||a.push(c)}function Ka(a,c){var b=Ia(a,c);b>=0&&Ha.splice.call(a,b,1)};ra&&(Ea[9]||(Ea[9]=ra&&document.documentMode&&document.documentMode>=9));ra&&(Da["8"]||(Da["8"]=ia(wa,"8")>=0));function La(){}La.prototype.jh=r;La.prototype.Ed=function(){if(!this.jh)this.jh=o,this.Fd()};La.prototype.Fd=function(){this.zi&&Ma.apply(q,this.zi)};function Ma(a){for(var c=0,b=arguments.length;c<b;++c){var d=arguments[c],e=fa(d);e=="array"||e=="object"&&typeof d.length=="number"?Ma.apply(q,d):d&&typeof d.Ed=="function"&&d.Ed()}};function Na(a,c){this.type=a;this.currentTarget=this.target=c}z(Na,La);Na.prototype.Fd=function(){delete this.type;delete this.target;delete this.currentTarget};Na.prototype.Ag=r;Na.prototype.vj=o;function Oa(a){Oa[" "](a);return a}Oa[" "]=ea;function Pa(a,c){a&&this.tb(a,c)}z(Pa,Na);u=Pa.prototype;u.target=q;u.relatedTarget=q;u.offsetX=0;u.offsetY=0;u.clientX=0;u.clientY=0;u.screenX=0;u.screenY=0;u.button=0;u.keyCode=0;u.charCode=0;u.ctrlKey=r;u.altKey=r;u.shiftKey=r;u.metaKey=r;u.sj=r;u.kh=q;
u.tb=function(a,c){var b=this.type=a.type;Na.call(this,b);this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(sa){var e;a:{try{Oa(d.nodeName);e=o;break a}catch(g){}e=r}e||(d=q)}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==k?a.offsetX:a.layerX;this.offsetY=a.offsetY!==k?a.offsetY:a.layerY;this.clientX=a.clientX!==k?a.clientX:a.pageX;this.clientY=a.clientY!==k?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.sj=va?a.metaKey:a.ctrlKey;this.state=a.state;this.kh=a;delete this.vj;delete this.Ag};u.Fd=function(){Pa.Kh.Fd.call(this);this.relatedTarget=this.currentTarget=this.target=this.kh=q};function Qa(){}var Ra=0;u=Qa.prototype;u.key=0;u.$d=r;u.$g=r;u.tb=function(a,c,b,d,e,g){if(fa(a)=="function")this.oh=o;else if(a&&a.handleEvent&&fa(a.handleEvent)=="function")this.oh=r;else throw Error("Invalid listener argument");this.ye=a;this.Jh=c;this.src=b;this.type=d;this.capture=!!e;this.mh=g;this.$g=r;this.key=++Ra;this.$d=r};u.handleEvent=function(a){return this.oh?this.ye.call(this.mh||this.src,a):this.ye.handleEvent.call(this.ye,a)};var Sa,Ta=(Sa="ScriptEngine"in x&&x.ScriptEngine()=="JScript")?x.ScriptEngineMajorVersion()+"."+x.ScriptEngineMinorVersion()+"."+x.ScriptEngineBuildVersion():"0";function Ua(a,c){this.Ch=c;this.kd=[];if(a>this.Ch)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.kd.push(this.Hb())}z(Ua,La);Ua.prototype.gd=q;Ua.prototype.ih=q;function Va(a){return a.kd.length?a.kd.pop():a.Hb()}function Wa(a,c){a.kd.length<a.Ch?a.kd.push(c):Xa(a,c)}Ua.prototype.Hb=function(){return this.gd?this.gd():{}};
function Xa(a,c){if(a.ih)a.ih(c);else{var b=fa(c);if(b=="object"||b=="array"||b=="function")if(fa(c.Ed)=="function")c.Ed();else for(var d in c)delete c[d]}}Ua.prototype.Fd=function(){Ua.Kh.Fd.call(this);for(var a=this.kd;a.length;)Xa(this,a.pop());delete this.kd};var Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb;
(function(){function a(){return{Jc:0,Zd:0}}function c(){return[]}function b(){function a(b){b=f.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new Qa}function e(){return new Pa}var g=Sa&&!(ia(Ta,"5.7")>=0),f;cb=function(a){f=a};if(g){Ya=function(){return Va(h)};Za=function(a){Wa(h,a)};$a=function(){return Va(i)};ab=function(a){Wa(i,a)};bb=function(){return Va(j)};db=function(){Wa(j,b())};eb=function(){return Va(l)};fb=function(a){Wa(l,a)};gb=function(){return Va(m)};hb=function(a){Wa(m,
a)};var h=new Ua(0,600);h.gd=a;var i=new Ua(0,600);i.gd=c;var j=new Ua(0,600);j.gd=b;var l=new Ua(0,600);l.gd=d;var m=new Ua(0,600);m.gd=e}else Ya=a,Za=ea,$a=c,ab=ea,bb=b,db=ea,eb=d,fb=ea,gb=e,hb=ea})();var ib={},B={},jb={},kb={};
function lb(a,c,b,d,e){if(c)if(fa(c)=="array")for(var g=0;g<c.length;g++)lb(a,c[g],b,d,e);else{var d=!!d,f=B;c in f||(f[c]=Ya());f=f[c];d in f||(f[d]=Ya(),f.Jc++);var f=f[d],h=a[ga]||(a[ga]=++ha),i;f.Zd++;if(f[h]){i=f[h];for(g=0;g<i.length;g++)if(f=i[g],f.ye==b&&f.mh==e){if(f.$d)break;return}}else i=f[h]=$a(),f.Jc++;g=bb();g.src=a;f=eb();f.tb(b,g,a,c,d,e);b=f.key;g.key=b;i.push(f);ib[b]=f;jb[h]||(jb[h]=$a());jb[h].push(f);a.addEventListener?(a==x||!a.yi)&&a.addEventListener(c,g,d):a.attachEvent(c in
kb?kb[c]:kb[c]="on"+c,g)}else throw Error("Invalid event type");}function mb(a,c,b,d){if(!d.lf&&d.Fh){for(var e=0,g=0;e<d.length;e++)if(d[e].$d){var f=d[e].Jh;f.src=q;db(f);fb(d[e])}else e!=g&&(d[g]=d[e]),g++;d.length=g;d.Fh=r;g==0&&(ab(d),delete B[a][c][b],B[a][c].Jc--,B[a][c].Jc==0&&(Za(B[a][c]),delete B[a][c],B[a].Jc--),B[a].Jc==0&&(Za(B[a]),delete B[a]))}}
function nb(a,c,b,d,e){var g=1,c=c[ga]||(c[ga]=++ha);if(a[c]){a.Zd--;a=a[c];a.lf?a.lf++:a.lf=1;try{for(var f=a.length,h=0;h<f;h++){var i=a[h];i&&!i.$d&&(g&=ob(i,e)!==r)}}finally{a.lf--,mb(b,d,c,a)}}return Boolean(g)}
function ob(a,c){var b=a.handleEvent(c);if(a.$g){var d=a.key;if(ib[d]){var e=ib[d];if(!e.$d){var g=e.src,f=e.type,h=e.Jh,i=e.capture;g.removeEventListener?(g==x||!g.yi)&&g.removeEventListener(f,h,i):g.detachEvent&&g.detachEvent(f in kb?kb[f]:kb[f]="on"+f,h);g=g[ga]||(g[ga]=++ha);h=B[f][i][g];if(jb[g]){var j=jb[g];Ka(j,e);j.length==0&&delete jb[g]}e.$d=o;h.Fh=o;mb(f,i,g,h);delete ib[d]}}}return b}
cb(function(a,c){if(!ib[a])return o;var b=ib[a],d=b.type,e=B;if(!(d in e))return o;var e=e[d],g,f;Fa===k&&(Fa=ra&&!x.addEventListener);if(Fa){var h;if(!(h=c))a:{h="window.event".split(".");for(var i=x;g=h.shift();)if(i[g]!=q)i=i[g];else{h=q;break a}h=i}g=h;h=o in e;i=r in e;if(h){if(g.keyCode<0||g.returnValue!=k)return o;a:{var j=r;if(g.keyCode==0)try{g.keyCode=-1;break a}catch(l){j=o}if(j||g.returnValue==k)g.returnValue=o}}j=gb();j.tb(g,this);g=o;try{if(h){for(var m=$a(),n=j.currentTarget;n;n=n.parentNode)m.push(n);
f=e[o];f.Zd=f.Jc;for(var p=m.length-1;!j.Ag&&p>=0&&f.Zd;p--)j.currentTarget=m[p],g&=nb(f,m[p],d,o,j);if(i){f=e[r];f.Zd=f.Jc;for(p=0;!j.Ag&&p<m.length&&f.Zd;p++)j.currentTarget=m[p],g&=nb(f,m[p],d,r,j)}}else g=ob(b,j)}finally{if(m)m.length=0,ab(m);j.Ed();hb(j)}return g}d=new Pa(c,this);try{g=ob(b,d)}finally{d.Ed()}return g});var pb={61:187,59:186};ra||ta&&(Da["525"]||(Da["525"]=ia(wa,"525")>=0));function qb(a){this.id=rb++;this.name=a;this.controls={};this.Dg={};this.dh=[];this.Df=this.Ze=q}function C(a,c){var b=0,d=sb==tb&&ub==vb&&wb==xb,e;for(e in yb){var g=d&&yb[e].Qh;b++;var f=zb(e,sb,ub,wb);a.Ze==q&&a.controls[f]!=q&&(!g||a.controls[f].Bi)&&a.controls[f].execute(c)}if(b==1&&a.Ze!=q)a.Df!=q&&clearTimeout(a.Df),a.Df=setTimeout(function(){D(a,a.Ze,f);a.Ze=q;a.Df=q},100)}
function D(a,c,b,d,e,g){var f=b;typeof b=="number"&&(f=zb(b,d,e,g));b=[];d=a.controls[f];e=a.Dg[c.name];if(d!=q)if(e!=q)a.controls[e]=d,a.Dg[d.name]=e,b.push(new Ab(e,d));else throw"The specified key is already in use for a different function.";else e!=q&&delete a.controls[e];a.controls[f]=c;a.Dg[c.name]=f;b.push(new Ab(f,c));for(c=0;c<a.dh.length;c++)f=a.dh[c],f.Kj.apply(f.ye,b||[],Bb(a))}function Bb(a){var c=[],b;for(b in a.controls)c.push(new Ab(b,a.controls[b]));return c}
var rb=0,yb={},sb=r,tb={},ub=r,vb={},wb=r,xb={};function Cb(a){var c=a.Fj,c=sa&&a.keyCode in pb?pb[a.keyCode]:a.keyCode;return{keyCode:c,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey}}function zb(a,c,b,d){var e=Ga[a];e==q&&(e="KEY["+a+"]");return(c?"Ctrl + ":"")+(b?"Alt + ":"")+(d?"Shift + ":"")+e.toUpperCase()}lb(document,"keydown",function(a){a=Cb(a);a.keyCode!=16&&a.keyCode!=17&&a.keyCode!=18&&yb[a.keyCode]==q&&(yb[a.keyCode]={Qh:r});sb=a.ctrlKey;ub=a.altKey;wb=a.shiftKey});
lb(document,"keyup",function(a){a=Cb(a);delete yb[a.keyCode];sb=a.ctrlKey;ub=a.altKey;wb=a.shiftKey});lb(document,"blur",function(){yb={};xb=wb=vb=ub=tb=sb=r});function Ab(a,c){this.key=this.key=a;this.action=this.action=c};function F(a,c){this.x=a;this.y=c}u=F.prototype;u.O=function(){this.y=this.x=0};u.j=function(a,c){this.x=a;this.y=c};u.m=function(a){this.x=a.x;this.y=a.y};u.Bb=function(){return new F(-this.x,-this.y)};u.Ng=function(){this.x=-this.x;this.y=-this.y};u.da=function(){return new F(this.x,this.y)};u.Ob=function(a){this.x+=a.x;this.y+=a.y};u.Uf=function(a){this.x-=a.x;this.y-=a.y};u.ic=function(a){this.x*=a;this.y*=a};function Db(a){return Math.sqrt(Eb(a))}function Eb(a){return a.x*a.x+a.y*a.y}
function G(a){var c=Db(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)};var Fb={},Gb=0;function Hb(){Gb--}function Ib(a){if(a.Eg===k||a.Eg===q)a.Eg={};return a.Eg};function Jb(){this.zf=this.lg=this.Kd=this.bj=this.Nd=1;var a=this;this.gj={Fi:{clear:function(){a.oc.clearRect(0,0,a.oc.canvas.width,a.oc.canvas.height)}}};this.uh=0}var Kb,Lb,Mb,Nb,Ob,Pb;
(function(a){a.prototype.Hc=function(a,b){return"rgba("+((a&16711680)>>16)+","+((a&65280)>>8)+","+(a&255)+","+b+")"};a.prototype.ei=function(){var a=Qb;a===k&&(a=0);this.uh=a};a.prototype.gi=function(a){this.oc=a};a.prototype.ci=function(a){a===k&&(a=0);this.Nd=a};a.prototype.fi=function(){var a=1;a===k&&(a=0);this.bj=a;this.oc.Vj=a};a.prototype.di=function(){var a=0.3;a===k&&(a=0);this.lg=a};a.prototype.Th=function(a,b){var d=this.oc,e=this.Nd;d.beginPath();d.strokeStyle=this.Hc(Rb(b),this.Kd);d.moveTo(a[0].x*
e,a[0].y*e);for(var g=1;g<4;g++)d.lineTo(a[g].x*e,a[g].y*e);d.lineTo(a[0].x*e,a[0].y*e);d.closePath();d.stroke()};a.prototype.Vh=function(a,b,d){if(b){var e=this.oc,g=this.Nd;e.beginPath();e.strokeStyle=this.Hc(Rb(d),this.Kd);e.fillStyle=this.Hc(Rb(d),this.lg);e.moveTo(a[0].x*g,a[0].y*g);for(d=1;d<b;d++)e.lineTo(a[d].x*g,a[d].y*g);e.lineTo(a[0].x*g,a[0].y*g);e.closePath();e.fill();e.stroke()}};a.prototype.Uh=function(a,b,d,e){if(b){var g=this.oc,f=this.Nd,h=a.x*f,i=a.y*f;g.moveTo(0,0);g.beginPath();
g.strokeStyle=this.Hc(Rb(e),this.Kd);g.fillStyle=this.Hc(Rb(e),this.lg);g.arc(h,i,b*f,0,Math.PI*2,o);g.moveTo(h,i);g.lineTo((a.x+d.x*b)*f,(a.y+d.y*b)*f);g.closePath();g.fill();g.stroke()}};a.prototype.Fc=function(a,b,d){var e=this.oc,g=this.Nd;e.strokeStyle=this.Hc(Rb(d),this.Kd);e.beginPath();e.moveTo(a.x*g,a.y*g);e.lineTo(b.x*g,b.y*g);e.closePath();e.stroke()};a.prototype.Wh=function(){var a=Sb,b=this.oc,d=this.Nd;b.beginPath();b.strokeStyle=this.Hc(16711680,this.Kd);b.moveTo(a.position.x*d,a.position.y*
d);b.lineTo((a.position.x+this.zf*a.d.a.x)*d,(a.position.y+this.zf*a.d.a.y)*d);b.strokeStyle=this.Hc(65280,this.Kd);b.moveTo(a.position.x*d,a.position.y*d);b.lineTo((a.position.x+this.zf*a.d.b.x)*d,(a.position.y+this.zf*a.d.b.y)*d);b.closePath();b.stroke()};Kb=1;Lb=2;Mb=4;Nb=8;Ob=16;Pb=32})(Jb);function Tb(a,c,b,d){if(Fb[a]==q)Gb++,Fb[a]=new Image,Fb[a].onload=Hb,Fb[a].src=a;this.url=a;this.Gh=c||new F(0,0);this.Ef=b||new F(1,1);this.Nh=d||new F(1,1);this.lb=new F(1,1)};function Ub(){this.lowerBound=new F(0,0);this.upperBound=new F(0,0)}function Vb(a){return new F((a.lowerBound.x+a.upperBound.x)/2,(a.lowerBound.y+a.upperBound.y)/2)}function Wb(a,c){var b;return b=(b=(b=(b=o&&a.lowerBound.x<=c.lowerBound.x)&&a.lowerBound.y<=c.lowerBound.y)&&c.upperBound.x<=a.upperBound.x)&&c.upperBound.y<=a.upperBound.y}
Ub.prototype.Bd=function(a){return a.lowerBound.x-this.upperBound.x>0?r:a.lowerBound.y-this.upperBound.y>0?r:this.lowerBound.x-a.upperBound.x>0?r:this.lowerBound.y-a.upperBound.y>0?r:o};function Xb(a,c,b){a.lowerBound.x=Math.min(c.lowerBound.x,b.lowerBound.x);a.lowerBound.y=Math.min(c.lowerBound.y,b.lowerBound.y);a.upperBound.x=Math.max(c.upperBound.x,b.upperBound.x);a.upperBound.y=Math.max(c.upperBound.y,b.upperBound.y)};function Yb(a,c,b,d,e){this.kc={};this.ta=a;this.zb=d;this.Ac=new F(d.x/b,d.y/b);this.scale=b;this.ya=new F(0,0);this.jf=new F(-1,-1);this.Jf=new Ub;this.Jf.upperBound=this.Ac.da();this.Jf.upperBound.ic(1.25);Zb(this,new F(0,0));a=document.getElementById(c);this.hd=document.createElement("span");if(e)a.innerHTML='<div style="width: '+this.zb.x+"px; height: "+this.zb.y/2+'px; background-color: #000; opacity: 0.15; position: absolute;"></div><div style="width: '+this.zb.x/2+"px; height: "+this.zb.y+
'px; background-color: #FFF; opacity: 0.15; position: absolute;"></div>',this.hd.innerHTML='<canvas id="'+c+'__DEBUG" class="debugViewport"></canvas>';this.hd.className="viewportContainer";this.hd.style.width=this.zb.x+"px";this.hd.style.height=this.zb.y+"px";this.display=document.createElement("span");this.display.className="viewport";this.hd.appendChild(this.display);a.appendChild(this.hd);this.gg=document.createElement("div");this.gg=$b(this,"Loading, please wait.");ac(this.gg);this.Hh=$b(this,
"Paused");e?(this.ab=document.getElementById(c+"__DEBUG"),this.ab.width=this.ta.o.Xa.x*b,this.ab.height=this.ta.o.Xa.y*b,this.ab.style.marginRight="-"+this.ab.width+"px",this.ab.style.marginBottom="-"+this.ab.height+"px",c=new Jb,c.gi(this.ab.getContext("2d")),c.ci(b),c.di(),c.fi(),c.ei(),this.ta.o.ia.Ma=c):this.ab=q}
function $b(a,c){var b=document.createElement("div");b.style.fontSize="40px";b.style.textAlign="center";b.style.verticalAlign="middle";b.style.backgroundColor="rgba(255,255,255,0.5)";b.style.color="black";b.style.position="relative";b.style.display="none";b.style.zIndex=100+bc;b.innerHTML=c;b.style.width=a.zb.x+"px";b.style.height=a.zb.y+"px";a.hd.appendChild(b);return b}function ac(a){if(a.style.display=="none")a.style.display="table-cell"}
function cc(a){if(a.style.display!="none")a.style.display="none"}function Zb(a,c){a.ya.x=c.x;a.ya.y=c.y;if(a.ya.x<a.Ac.x/2)a.ya.x=a.Ac.x/2;else if(a.ya.x>a.ta.o.Xa.x-a.Ac.x/2)a.ya.x=a.ta.o.Xa.x-a.Ac.x/2;if(a.ya.y<a.Ac.y/2)a.ya.y=a.Ac.y/2;else if(a.ya.y>a.ta.o.Xa.y-a.Ac.y/2)a.ya.y=a.ta.o.Xa.y-a.Ac.y/2}
function dc(a,c){if(a.display==q)a.display={},a.display.J=new Ub,a.Ei=function(a){var c=this.body?this.body.e.position:this.position.da();return this.display.Cf==0?c:new F(c.x+(a.x-c.x)*this.display.Cf,c.y+(a.y-c.y)*this.display.Cf)},a.Di=function(){return this.body?this.body.Tb():this.Ya},a.display.Cf=0,a.display.Rh=0;a.display.size=c.da()}function H(a,c,b){a.display.Ff=new Tb(c,b)}var bc=100,Qb=0|Mb|Lb|Kb,ec=0;var fc=function(){var a=window.Uj||window.Xj||window.Nj||window.Rj||window.Oj||function(a){window.setTimeout(a,1E3/60)};return function(){a.apply(window,arguments)}}();function gc(){this.qe=1;this.Je=65535;this.md=0}gc.prototype.da=function(){var a=new gc;a.qe=this.qe;a.Je=this.Je;a.md=this.md;return a};function hc(){this.filter=new gc;this.shape=q;this.sb=0.2;this.se=this.zc=0;this.filter.qe=1;this.filter.Je=65535;this.filter.md=0;this.hf=r};function ic(){this.a=new F(0,0);this.b=new F(0,0);this.Ye()}function jc(a){var c=new ic;c.j(a);return c}u=ic.prototype;u.j=function(a){var c=Math.cos(a),a=Math.sin(a);this.a.j(c,a);this.b.j(-a,c)};u.da=function(){var a=new ic;a.zd(this);return a};u.zd=function(a){this.a.m(a.a);this.b.m(a.b)};u.Kf=function(a){this.a.Ob(a.a);this.b.Ob(a.b)};u.Ye=function(){this.a.j(1,0);this.b.j(0,1)};u.O=function(){this.a.j(0,0);this.b.j(0,0)};u.Tb=function(){return Math.atan2(this.a.y,this.a.x)};
u.me=function(a,c,b){var d=this.a.x*this.b.y-this.b.x*this.a.y;d!==0&&(d=1/d);a.x=d*(this.b.y*c-this.b.x*b);a.y=d*(this.a.x*b-this.a.y*c);return a};function kc(a,c){return a.x*c.x+a.y*c.y}function lc(a,c){return a.x*c.y-a.y*c.x}function mc(a){return new F(1*a.y,-1*a.x)}function nc(a,c){return new F(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)}function oc(a,c){return new F(kc(c,a.a),kc(c,a.b))}function I(a,c){var b=nc(a.d,c);b.x+=a.position.x;b.y+=a.position.y;return b}function pc(a,c){var b=K(c,a.position),d=b.x*a.d.a.x+b.y*a.d.a.y;b.y=b.x*a.d.b.x+b.y*a.d.b.y;b.x=d;return b}function K(a,c){return new F(a.x-c.x,a.y-c.y)}
function L(a,c,b){return a<c?c:a>b?b:a};function M(a){if(!a)throw"Assertion Failed";}var qc=2/180*Math.PI,rc=8/180*Math.PI,sc=0.5*Math.PI,tc=sc*sc,uc=2/180*Math.PI,vc=Number.MIN_VALUE*Number.MIN_VALUE;function wc(){}wc.prototype.j=function(a){this.Ja.m(a.Ja);this.Ab.m(a.Ab);this.Ga.m(a.Ga);this.n=a.n;this.ra=a.ra;this.sa=a.sa};function xc(){this.R=new wc;this.ga=new wc;this.fb=new wc;this.r=[this.R,this.ga,this.fb]}function yc(a){return a.A==1?0:a.A==2?Db(K(a.R.Ga,a.ga.Ga)):a.A==3?lc(K(a.ga.Ga,a.R.Ga),K(a.fb.Ga,a.R.Ga)):(M(r),0)};function zc(a,c,b){var d=new xc,e=b.xc,g=b.Gf,f=b.yc,h=b.Hf;M(0<=c.Dd&&c.Dd<=3);var i,j;d.A=c.Dd;for(var l=d.r,m=0;m<d.A;m++){var n=l[m];n.ra=c.ra[m];n.sa=c.sa[m];i=N(e,n.ra);j=N(f,n.sa);n.Ja=I(g,i);n.Ab=I(h,j);n.Ga=K(n.Ab,n.Ja);n.n=0}if(d.A>1&&(i=c.mj,j=yc(d),j<0.5*i||2*i<j||j<Number.MIN_VALUE))d.A=0;if(d.A==0)n=l[0],n.ra=0,n.sa=0,i=N(e,0),j=N(f,0),n.Ja=I(g,i),n.Ab=I(h,j),n.Ga=K(n.Ab,n.Ja),d.A=1;(d.A<1||d.A>3)&&M(r);for(e=0;e<20;){g=[];for(f=0;f<d.A;f++)g[f]={},g[f].ra=d.r[f].ra,g[f].sa=d.r[f].sa;
if(d.A==2)f=d,h=f.R.Ga,l=f.ga.Ga,i=K(l,h),h=-(h.x*i.x+h.y*i.y),h<=0?(f.R.n=1,f.A=1):(l=l.x*i.x+l.y*i.y,l<=0?(f.ga.n=1,f.A=1,f.R.j(f.ga)):(i=1/(l+h),f.R.n=l*i,f.ga.n=h*i,f.A=2));else if(d.A==3){var f=d,p=f.R.Ga,t=f.ga.Ga,s=f.fb.Ga,v=K(t,p),h=kc(t,v),l=-kc(p,v),w=K(s,p);i=kc(s,w);j=-kc(p,w);n=K(s,t);m=kc(s,n);n=-kc(t,n);w=lc(v,w);v=w*lc(t,s);s=w*lc(s,p);p=w*lc(p,t);l<=0&&j<=0?(f.R.n=1,f.A=1):h>0&&l>0&&p<=0?(i=1/(h+l),f.R.n=h*i,f.ga.n=l*i,f.A=2):i>0&&j>0&&s<=0?(h=1/(i+j),f.R.n=i*h,f.fb.n=j*h,f.A=2,f.ga.j(f.fb)):
h<=0&&n<=0?(f.ga.n=1,f.A=1,f.R.j(f.ga)):i<=0&&m<=0?(f.fb.n=1,f.A=1,f.R.j(f.fb)):m>0&&n>0&&v<=0?(h=1/(m+n),f.ga.n=m*h,f.fb.n=n*h,f.A=2,f.R.j(f.fb)):(h=1/(v+s+p),f.R.n=v*h,f.ga.n=s*h,f.fb.n=p*h,f.A=3)}if(d.A==3)break;d.A==1?f=d.R.Ga.Bb():d.A==2?(f=K(d.ga.Ga,d.R.Ga),f=lc(f,d.R.Ga.Bb())>0?new F(-1*f.y,1*f.x):mc(f)):(M(r),f=new F(0,0));if(Eb(f)<vc)break;d.r[d.A].ra=b.xc.Xe(oc(b.Gf.d,f.Bb()));d.r[d.A].Ja=I(b.Gf,N(b.xc,d.r[d.A].ra));d.r[d.A].sa=b.yc.Xe(oc(b.Hf.d,f));d.r[d.A].Ab=I(b.Hf,N(b.yc,d.r[d.A].sa));
d.r[d.A].Ga=K(d.r[d.A].Ab,d.r[d.A].Ja);e++;h=r;for(f=0;f<g.length;f++)if(d.r[d.A].ra==g[f].ra&&d.r[d.A].sa==g[f].sa){h=o;break}if(h)break;d.A++}e=a.vc;g=a.wc;d.A==1?(e.m(d.R.Ja),g.m(d.R.Ab)):d.A==2?(e.x=d.R.n*d.R.Ja.x+d.ga.n*d.ga.Ja.x,e.y=d.R.n*d.R.Ja.y+d.ga.n*d.ga.Ja.y,g.x=d.R.n*d.R.Ab.x+d.ga.n*d.ga.Ab.x,g.y=d.R.n*d.R.Ab.y+d.ga.n*d.ga.Ab.y):d.A==3?(g.x=e.x=d.R.n*d.R.Ja.x+d.ga.n*d.ga.Ja.x+d.fb.n*d.fb.Ja.x,g.y=e.y=d.R.n*d.R.Ja.y+d.ga.n*d.ga.Ja.y+d.fb.n*d.fb.Ja.y):M(r);a.jd=Db(K(a.vc,a.wc));c.mj=yc(d);
c.Dd=d.A;e=d.r;for(g=0;g<d.A;g++)c.ra[g]=e[g].ra,c.sa[g]=e[g].sa;if(b.Ph)c=b.xc.Q,b=b.yc.Q,a.jd>c+b&&a.jd>Number.MIN_VALUE?(a.jd-=c+b,d=K(a.wc,a.vc),G(d),a.vc.x+=c*d.x,a.vc.y+=c*d.y,a.wc.x-=b*d.x,a.wc.y-=b*d.y):(b=new F(0,0),b.x=0.5*(a.vc.x+a.wc.x),b.y=0.5*(a.vc.y+a.wc.y),a.vc.x=a.wc.x=b.x,a.vc.y=a.wc.y=b.y,a.jd=0)};function Ac(){};function Bc(){this.vc=new F(0,0);this.wc=new F(0,0);this.jd=0};function Cc(){this.ra=[0,0,0];this.sa=[0,0,0]};function Dc(){}Dc.prototype.j=function(a){a.Pg(this)};Dc.prototype.Xe=function(a){for(var c=0,b=this.r[0].x*a.x+this.r[0].y*a.y,d=1;d<this.A;d++){var e=this.r[d].x*a.x+this.r[d].y*a.y;e>b&&(c=d,b=e)}return c};Dc.prototype.ee=function(a){return this.r[this.Xe(a)]};Dc.prototype.Lg=ba("A");function N(a,c){c===k&&(c=0);M(0<=c&&c<a.A);return a.r[c]};function Ec(){this.Q=0.005}Ec.prototype.j=function(a){this.Q=a.Q};function Fc(){this.Xc=0;this.fd=new F(0,0);this.fe=0};function Gc(a,c){this.position=new F(0,0);this.d=new ic;a&&this.position.m(a);c&&this.d.zd(c)}Gc.prototype.V=function(a,c){this.position.m(a);this.d.zd(c)};Gc.prototype.Ye=function(){this.position.O();this.d.Ye()};Gc.prototype.j=function(a){this.position.m(a.position);this.d.zd(a.d)};Gc.prototype.Tb=function(){return Math.atan2(this.d.a.y,this.d.a.x)};function Q(){this.Q=0.005;this.wb=new F(0,0);this.r=[];this.ma=[]}z(Q,Ec);u=Q.prototype;u.Of=ca("b2PolygonShape");u.da=function(){var a=new Q;a.j(this);return a};u.j=function(a){Ec.prototype.j.call(this,a);if(a instanceof Q){this.wb.m(a.wb);this.ca=a.ca;Hc(this,this.ca);for(var c=0;c<this.ca;c++)this.r[c].m(a.r[c]),this.ma[c].m(a.ma[c])}};function Ic(a,c){Jc(a,c)}
function Jc(a,c){var b=c.length;M(2<=b);a.ca=b;Hc(a,b);for(b=b=0;b<a.ca;b++)a.r[b].m(c[b]);for(b=0;b<a.ca;++b){var d=K(a.r[b+1<a.ca?b+1:0],a.r[b]);M(Eb(d)>Number.MIN_VALUE);a.ma[b].m(mc(d));G(a.ma[b])}for(var b=a.r,d=a.ca,e=new F(0,0),g=0,f=1/3,h=0;h<d;++h){var i=b[h],j=h+1<d?b[h+1]:b[0],l=0.5*((i.x-0)*(j.y-0)-(i.y-0)*(j.x-0));g+=l;e.x+=l*f*(0+i.x+j.x);e.y+=l*f*(0+i.y+j.y)}e.x*=1/g;e.y*=1/g;a.wb=e}
function Kc(a,c,b){a.ca=4;Hc(a,4);a.r[0].j(-c,-b);a.r[1].j(c,-b);a.r[2].j(c,b);a.r[3].j(-c,b);a.ma[0].j(0,-1);a.ma[1].j(1,0);a.ma[2].j(0,1);a.ma[3].j(-1,0);a.wb.O()}
u.Ve=function(a,c){for(var b=c.d,d=this.r[0],e=c.position.x+(b.a.x*d.x+b.b.x*d.y),g=c.position.y+(b.a.y*d.x+b.b.y*d.y),f=e,h=g,i=1;i<this.ca;++i)var d=this.r[i],j=c.position.x+(b.a.x*d.x+b.b.x*d.y),d=c.position.y+(b.a.y*d.x+b.b.y*d.y),e=e<j?e:j,g=g<d?g:d,f=f>j?f:j,h=h>d?h:d;a.lowerBound.x=e-this.Q;a.lowerBound.y=g-this.Q;a.upperBound.x=f+this.Q;a.upperBound.y=h+this.Q};
u.Ig=function(a,c){if(this.ca==2)a.fd.x=0.5*(this.r[0].x+this.r[1].x),a.fd.y=0.5*(this.r[0].y+this.r[1].y),a.Xc=0,a.fe=0;else{for(var b=0,d=0,e=0,g=0,f=1/3,h=0;h<this.ca;++h){var i=this.r[h],j=h+1<this.ca?this.r[h+1]:this.r[0],l=i.x-0,m=i.y-0,n=j.x-0,p=j.y-0,t=l*p-m*n,s=0.5*t;e+=s;b+=s*f*(0+i.x+j.x);d+=s*f*(0+i.y+j.y);i=l;g+=t*(f*(0.25*(i*i+n*i+n*n)+(0*i+0*n))+0+(f*(0.25*(m*m+p*m+p*p)+(0*m+0*p))+0))}a.Xc=c*e;b*=1/e;d*=1/e;a.fd.j(b,d);a.fe=c*g}};u.Pg=function(a){a.r=this.r;a.A=this.ca;a.Q=this.Q};
u.Lg=ba("ca");u.Xe=function(a){for(var c=0,b=this.r[0].x*a.x+this.r[0].y*a.y,d=1;d<this.ca;++d){var e=this.r[d].x*a.x+this.r[d].y*a.y;e>b&&(c=d,b=e)}return c};u.ee=function(a){for(var c=0,b=this.r[0].x*a.x+this.r[0].y*a.y,d=1;d<this.ca;++d){var e=this.r[d].x*a.x+this.r[d].y*a.y;e>b&&(c=d,b=e)}return this.r[c]};function Hc(a,c){a.r=[];a.ma=[];for(var b=a.r.length;b<c;b++)a.r[b]=new F(0,0),a.ma[b]=new F(0,0)}new ic;function Lc(){}Lc.prototype.Wb=function(a,c){var b=a.mg.da(),d=c.mg.da();return b.md==d.md&&b.md!=0?b.md>0:(b.Je&d.qe)!=0&&(b.qe&d.Je)!=0};var Mc=new Lc;function Nc(){};function R(a){this.Ua=new Nc;this.Va=new Nc;this.Ee=new F(0,0);this.Fe=new F(0,0);M(a.T!=a.W);this.F=a.type;this.K=this.jb=q;this.s=a.T;this.u=a.W;this.sh=a.$f}u=R.prototype;u.Rb=ca(q);u.Sb=ca(q);u.Gc=function(){return this.s.Gc()&&this.u.Gc()};u.Ub=aa();u.Eb=aa();u.Mf=aa();u.Db=ca(r);function Oc(a){R.call(this,a);this.bc=new F(0,0);this.cc=new F(0,0);this.B=new F(0,0);this.C=new F(0,0);this.Z=new F(0,0);this.$=new F(0,0);this.bb=this.s.Wa.pg;this.bc.x=a.ef.x-this.bb.e.position.x;this.bc.y=a.ef.y-this.bb.e.position.y;this.cc.x=a.ff.x-this.bb.e.position.x;this.cc.y=a.ff.y-this.bb.e.position.y;this.B.m(a.Sa);this.C.m(a.Ta);this.na=a.Yc;this.Ld=a.eg+this.na*a.fg;this.zh=Math.min(a.Dh,this.Ld-this.na*Pc);this.Ah=Math.min(a.Eh,(this.Ld-Pc)/this.na);this.sc=this.rc=this.i=0}z(Oc,R);
u=Oc.prototype;u.Rb=function(){return S(this.s,this.B)};u.Sb=function(){return S(this.u,this.C)};function Qc(a){var c=a.bb.e.position.da();c.Ob(a.bc);return c}function Rc(a){var c=a.bb.e.position.da();c.Ob(a.cc);return c}
u.Ub=function(a){var c=this.s,b=this.u,d;d=c.e.d;var e=this.B.x-c.c.p.x,g=this.B.y-c.c.p.y,f=d.a.x*e+d.b.x*g,g=d.a.y*e+d.b.y*g,e=f;d=b.e.d;var h=this.C.x-b.c.p.x,i=this.C.y-b.c.p.y,f=d.a.x*h+d.b.x*i,i=d.a.y*h+d.b.y*i,h=f;d=b.c.g.x+h;var f=b.c.g.y+i,j=this.bb.e.position.x+this.cc.x,l=this.bb.e.position.y+this.cc.y;this.Z.j(c.c.g.x+e-(this.bb.e.position.x+this.bc.x),c.c.g.y+g-(this.bb.e.position.y+this.bc.y));this.$.j(d-j,f-l);d=Db(this.Z);f=Db(this.$);d>0.005?this.Z.ic(1/d):this.Z.O();f>0.005?this.$.ic(1/
f):this.$.O();this.Ld-d-this.na*f>0?this.i=this.ug=0:this.ug=2;d<this.zh?this.rc=this.qg=0:this.qg=2;f<this.Ah?this.sc=this.rg=0:this.rg=2;d=e*this.Z.y-g*this.Z.x;f=h*this.$.y-i*this.$.x;this.Ce=c.l+c.v*d*d;this.De=b.l+b.v*f*f;this.wf=this.Ce+this.na*this.na*this.De;this.Ce=1/this.Ce;this.De=1/this.De;this.wf=1/this.wf;a.gc?(this.i*=a.Ra,this.rc*=a.Ra,this.sc*=a.Ra,a=(-this.i-this.rc)*this.Z.x,d=(-this.i-this.rc)*this.Z.y,f=(-this.na*this.i-this.sc)*this.$.x,j=(-this.na*this.i-this.sc)*this.$.y,c.h.x+=
c.l*a,c.h.y+=c.l*d,c.t+=c.v*(e*d-g*a),b.h.x+=b.l*f,b.h.y+=b.l*j,b.t+=b.v*(h*j-i*f)):this.sc=this.rc=this.i=0};
u.Eb=function(){var a=this.s,c=this.u,b;b=a.e.d;var d=this.B.x-a.c.p.x,e=this.B.y-a.c.p.y,g=b.a.x*d+b.b.x*e,e=b.a.y*d+b.b.y*e,d=g;b=c.e.d;var f=this.C.x-c.c.p.x,h=this.C.y-c.c.p.y,g=b.a.x*f+b.b.x*h,h=b.a.y*f+b.b.y*h,f=g,i=g=b=0,j=0;b=j=b=j=i=g=b=0;if(this.ug==2)b=a.h.x+-a.t*e,g=a.h.y+a.t*d,i=c.h.x+-c.t*h,j=c.h.y+c.t*f,b=-(this.Z.x*b+this.Z.y*g)-this.na*(this.$.x*i+this.$.y*j),j=this.wf*-b,b=this.i,this.i=Math.max(0,this.i+j),j=this.i-b,b=-j*this.Z.x,g=-j*this.Z.y,i=-this.na*j*this.$.x,j=-this.na*
j*this.$.y,a.h.x+=a.l*b,a.h.y+=a.l*g,a.t+=a.v*(d*g-e*b),c.h.x+=c.l*i,c.h.y+=c.l*j,c.t+=c.v*(f*j-h*i);if(this.qg==2)b=a.h.x+-a.t*e,g=a.h.y+a.t*d,b=-(this.Z.x*b+this.Z.y*g),j=-this.Ce*b,b=this.rc,this.rc=Math.max(0,this.rc+j),j=this.rc-b,b=-j*this.Z.x,g=-j*this.Z.y,a.h.x+=a.l*b,a.h.y+=a.l*g,a.t+=a.v*(d*g-e*b);if(this.rg==2)i=c.h.x+-c.t*h,j=c.h.y+c.t*f,b=-(this.$.x*i+this.$.y*j),j=-this.De*b,b=this.sc,this.sc=Math.max(0,this.sc+j),j=this.sc-b,i=-j*this.$.x,j=-j*this.$.y,c.h.x+=c.l*i,c.h.y+=c.l*j,c.t+=
c.v*(f*j-h*i)};
u.Db=function(){var a=this.s,c=this.u,b,d=this.bb.e.position.x+this.bc.x,e=this.bb.e.position.y+this.bc.y,g=this.bb.e.position.x+this.cc.x,f=this.bb.e.position.y+this.cc.y,h=0,i=0,j=0,l=0,m=b=0,n=0,p=0,t=m=p=b=m=b=0;if(this.ug==2)b=a.e.d,h=this.B.x-a.c.p.x,i=this.B.y-a.c.p.y,m=b.a.x*h+b.b.x*i,i=b.a.y*h+b.b.y*i,h=m,b=c.e.d,j=this.C.x-c.c.p.x,l=this.C.y-c.c.p.y,m=b.a.x*j+b.b.x*l,l=b.a.y*j+b.b.y*l,j=m,b=a.c.g.x+h,m=a.c.g.y+i,n=c.c.g.x+j,p=c.c.g.y+l,this.Z.j(b-d,m-e),this.$.j(n-g,p-f),b=Db(this.Z),m=
Db(this.$),b>0.005?this.Z.ic(1/b):this.Z.O(),m>0.005?this.$.ic(1/m):this.$.O(),b=this.Ld-b-this.na*m,t=Math.max(t,-b),b=L(b+0.005,-0.2,0),p=-this.wf*b,b=-p*this.Z.x,m=-p*this.Z.y,n=-this.na*p*this.$.x,p=-this.na*p*this.$.y,a.c.g.x+=a.l*b,a.c.g.y+=a.l*m,a.c.n+=a.v*(h*m-i*b),c.c.g.x+=c.l*n,c.c.g.y+=c.l*p,c.c.n+=c.v*(j*p-l*n),T(a),T(c);if(this.qg==2)b=a.e.d,h=this.B.x-a.c.p.x,i=this.B.y-a.c.p.y,m=b.a.x*h+b.b.x*i,i=b.a.y*h+b.b.y*i,h=m,b=a.c.g.x+h,m=a.c.g.y+i,this.Z.j(b-d,m-e),b=Db(this.Z),b>0.005?(this.Z.x*=
1/b,this.Z.y*=1/b):this.Z.O(),b=this.zh-b,t=Math.max(t,-b),b=L(b+0.005,-0.2,0),p=-this.Ce*b,b=-p*this.Z.x,m=-p*this.Z.y,a.c.g.x+=a.l*b,a.c.g.y+=a.l*m,a.c.n+=a.v*(h*m-i*b),T(a);if(this.rg==2)b=c.e.d,j=this.C.x-c.c.p.x,l=this.C.y-c.c.p.y,m=b.a.x*j+b.b.x*l,l=b.a.y*j+b.b.y*l,j=m,n=c.c.g.x+j,p=c.c.g.y+l,this.$.j(n-g,p-f),m=Db(this.$),m>0.005?(this.$.x*=1/m,this.$.y*=1/m):this.$.O(),b=this.Ah-m,t=Math.max(t,-b),b=L(b+0.005,-0.2,0),p=-this.De*b,n=-p*this.$.x,p=-p*this.$.y,c.c.g.x+=c.l*n,c.c.g.y+=c.l*p,c.c.n+=
c.v*(j*p-l*n),T(c);return t<0.005};var Pc=1;function Sc(){this.Sj=q;this.Tj=0};function Tc(){this.Wf=this.Vf=this.Xf=0}function Uc(a,c){a.Xf=c;a.Ic.Qa=a.Ic.Qa&4294967040|a.Xf&255}function Vc(a,c){a.Vf=c;a.Ic.Qa=a.Ic.Qa&4294902015|a.Vf<<8&65280}function Wc(a,c){a.Wf=c;a.Ic.Qa=a.Ic.Qa&4278255615|a.Wf<<16&16711680};function Xc(){this.rb=new Tc;this.rb.Ic=this;this.Qa=0}function Yc(a,c){a.Qa=c;a.rb.Xf=a.Qa&255;a.rb.Vf=(a.Qa&65280)>>8&255;a.rb.Wf=(a.Qa&16711680)>>16&255;a.rb.Vg=(a.Qa&4278190080)>>24&255}Xc.prototype.j=function(a){Yc(this,a.Qa)};Xc.prototype.da=function(){var a=new Xc;a.j(this);return a};function Zc(){this.mb=new F(0,0);this.id=new Xc}Zc.prototype.j=function(a){this.mb.m(a.mb);this.id.j(a.id)};function $c(){this.I=new F(0,0);this.qc=new Xc;this.constructor===$c&&this.Sf()}$c.prototype.Sf=function(){this.I.O();this.ud=this.rd=0;Yc(this.qc,0)};$c.prototype.j=function(a){this.I.m(a.I);this.rd=a.rd;this.ud=a.ud;this.qc.j(a.qc)};function ad(){this.pa=0;this.G=[];for(var a=0;a<2;a++)this.G[a]=new $c;this.Fa=new F(0,0);this.I=new F(0,0)}ad.prototype.Sf=function(){for(var a=0;a<2;a++)this.G[a].Sf();this.Fa.O();this.I.O();this.pa=this.F=0};ad.prototype.j=function(a){this.pa=a.pa;for(var c=0;c<2;c++)this.G[c].j(a.G[c]);this.Fa.m(a.Fa);this.I.m(a.I);this.F=a.F};ad.prototype.da=function(){var a=new ad;a.j(this);return a};function bd(a,c,b,d){var e=0,g=c[0].mb,f=c[1].mb,h=b.x*g.x+b.y*g.y-d,b=b.x*f.x+b.y*f.y-d;h<=0&&a[e++].j(c[0]);b<=0&&a[e++].j(c[1]);if(h*b<0)b=h/(h-b),d=a[e].mb,d.x=g.x+b*(f.x-g.x),d.y=g.y+b*(f.y-g.y),a[e].id=h>0?c[0].id:c[1].id,e++;return e}
function cd(a,c,b,d,e){b===k&&(b=0);for(var g=a.r,f=a.ma,a=d.r,h=c.d.a.x*f[b].x+c.d.b.x*f[b].y,f=c.d.a.y*f[b].x+c.d.b.y*f[b].y,i=e.d.a.x*h+e.d.a.y*f,j=e.d.b.x*h+e.d.b.y*f,l=0,m=Number.MAX_VALUE,n=0;n<d.ca;++n){var p=a[n].x*i+a[n].y*j;p<m&&(m=p,l=n)}return(e.position.x+(e.d.a.x*a[l].x+e.d.b.x*a[l].y)-(c.position.x+(c.d.a.x*g[b].x+c.d.b.x*g[b].y)))*h+(e.position.y+(e.d.a.y*a[l].x+e.d.b.y*a[l].y)-(c.position.y+(c.d.a.y*g[b].x+c.d.b.y*g[b].y)))*f}
function dd(a,c,b,d,e){var g=c.ma,f=e.position.x+(e.d.a.x*d.wb.x+e.d.b.x*d.wb.y),h=e.position.y+(e.d.a.y*d.wb.x+e.d.b.y*d.wb.y);f-=b.position.x+(b.d.a.x*c.wb.x+b.d.b.x*c.wb.y);h-=b.position.y+(b.d.a.y*c.wb.x+b.d.b.y*c.wb.y);for(var i=f*b.d.a.x+h*b.d.a.y,h=f*b.d.b.x+h*b.d.b.y,f=0,j=-Number.MAX_VALUE,l=0;l<c.ca;++l){var m=g[l].x*i+g[l].y*h;m>j&&(j=m,f=l)}g=cd(c,b,f,d,e);i=f-1;i<0&&(i=c.ca-1);h=cd(c,b,i,d,e);j=f+1;j>=c.ca&&(j=0);var l=cd(c,b,j,d,e),n=m=0,p=0;if(h>g&&h>l)p=-1,m=i,n=h;else if(l>g)p=1,
m=j,n=l;else return a[0]=f,g;for(;;)if(p==-1?(f=m-1,f<0&&(f=c.ca-1)):(f=m+1,f>=c.ca&&(f=0)),g=cd(c,b,f,d,e),g>n)m=f,n=g;else break;a[0]=m;return n}var ed=[new Zc,new Zc],fd=[new Zc,new Zc],gd=[new Zc,new Zc],hd=[0],id=[0],jd=new F(0,0),kd=new F(0,0),ld=new F(0,0),md=new F(0,0),nd=new F(0,0),od=new F(0,0),pd=new F(0,0),qd=new F(0,0);function rd(){this.I=new F(0,0);this.D=new F(0,0)}
rd.prototype.V=function(a,c,b,d,e){this.Vc=c;this.Wc=d;var g=a.Dd;M(0<g&&g<3);var f,h,i=h=f=0,j=0,d=c=0,l,m,i=0;g==1?(this.F=sd,g=N(this.Vc,a.ra[0]),a=N(this.Wc,a.sa[0]),m=g,l=b.d,f=b.position.x+(l.a.x*m.x+l.b.x*m.y),h=b.position.y+(l.a.y*m.x+l.b.y*m.y),m=a,l=e.d,i=e.position.x+(l.a.x*m.x+l.b.x*m.y),j=e.position.y+(l.a.y*m.x+l.b.y*m.y),this.D.x=i-f,this.D.y=j-h,G(this.D)):(a.sa[0]==a.sa[1]?(this.F=td,c=N(this.Vc,a.ra[0]),d=N(this.Vc,a.ra[1]),a=N(this.Wc,a.sa[0]),this.I.x=0.5*(c.x+d.x),this.I.y=0.5*
(c.y+d.y),this.D=mc(K(d,c)),G(this.D),m=this.D,l=b.d,c=l.a.x*m.x+l.b.x*m.y,d=l.a.y*m.x+l.b.y*m.y,m=this.I,l=b.d,f=b.position.x+(l.a.x*m.x+l.b.x*m.y),h=b.position.y+(l.a.y*m.x+l.b.y*m.y),m=a,l=e.d,i=e.position.x+(l.a.x*m.x+l.b.x*m.y),j=e.position.y+(l.a.y*m.x+l.b.y*m.y),i=(i-f)*c+(j-h)*d):a.ra[0]==a.ra[0]?(this.F=ud,f=N(this.Wc,a.sa[0]),h=N(this.Wc,a.sa[1]),g=N(this.Vc,a.ra[0]),this.I.x=0.5*(f.x+h.x),this.I.y=0.5*(f.y+h.y),this.D=mc(K(h,f)),G(this.D),m=this.D,l=e.d,c=l.a.x*m.x+l.b.x*m.y,d=l.a.y*m.x+
l.b.y*m.y,m=this.I,l=e.d,i=e.position.x+(l.a.x*m.x+l.b.x*m.y),j=e.position.y+(l.a.y*m.x+l.b.y*m.y),m=g,l=b.d,f=b.position.x+(l.a.x*m.x+l.b.x*m.y),h=b.position.y+(l.a.y*m.x+l.b.y*m.y),i=(f-i)*c+(h-j)*d):(c=N(this.Vc,a.ra[0]),d=N(this.Vc,a.ra[1]),f=N(this.Wc,a.sa[0]),h=N(this.Wc,a.sa[1]),i=nc(b.d,K(d,c)),j=nc(e.d,K(h,f)),e=i.x*i.x+i.y*i.y,b=j.x*j.x+j.y*j.y,g=K(j,i),a=i.x*g.x+i.y*g.y,g=j.x*g.x+j.y*g.y,j=i.x*j.x+i.y*j.y,l=e*b-j*j,i=0,l!=0&&(i=L((j*g-a*b)/l,0,1)),(j*i+g)/b<0&&(i=L((j-a)/e,0,1)),g=new F(0,
0),g.x=c.x+i*(d.x-c.x),g.y=c.y+i*(d.y-c.y),a=new F(0,0),a.x=f.x+i*(h.x-f.x),a.y=f.y+i*(h.y-f.y),i==0||i==1?(this.F=ud,this.D=mc(K(h,f)),G(this.D),this.I=a):(this.F=td,this.D=mc(K(d,c)),this.I=g)),i<0&&this.D.Ng())};
rd.prototype.Qb=function(a,c){var b,d,e=0;switch(this.F){case sd:b=oc(a.d,this.D);d=oc(c.d,this.D.Bb());b=this.Vc.ee(b);d=this.Wc.ee(d);b=I(a,b);d=I(c,d);e=(d.x-b.x)*this.D.x+(d.y-b.y)*this.D.y;break;case td:e=nc(a.d,this.D);b=I(a,this.I);d=oc(c.d,e.Bb());d=this.Wc.ee(d);d=I(c,d);e=(d.x-b.x)*e.x+(d.y-b.y)*e.y;break;case ud:e=nc(c.d,this.D);d=I(c,this.I);b=oc(a.d,e.Bb());b=this.Vc.ee(b);b=I(a,b);e=(b.x-d.x)*e.x+(b.y-d.y)*e.y;break;default:M(r)}return e};var sd=1,td=2,ud=4;var vd=0,wd=0,xd=0,yd=0,zd=0,Ad=new Cc,Bd=new Ac,Cd=new Gc,Dd=new Gc,Ed=new rd,Fd=new Bc;function Gd(){this.p=new F(0,0);this.Ca=new F(0,0);this.g=new F(0,0)}Gd.prototype.j=function(a){this.p.m(a.p);this.Ca.m(a.Ca);this.g.m(a.g);this.pb=a.pb;this.n=a.n;this.Ba=a.Ba};Gd.prototype.da=function(){var a=new Gd;a.p.m(this.p);a.Ca.m(this.Ca);a.g.m(this.g);a.pb=this.pb;a.n=this.n;a.Ba=this.Ba;return a};
Gd.prototype.gb=function(a,c){c===k&&(c=0);a.position.x=(1-c)*this.Ca.x+c*this.g.x;a.position.y=(1-c)*this.Ca.y+c*this.g.y;a.d.j((1-c)*this.pb+c*this.n);var b=a.d;a.position.x-=b.a.x*this.p.x+b.b.x*this.p.y;a.position.y-=b.a.y*this.p.x+b.b.y*this.p.y};Gd.prototype.Cc=function(a){a===k&&(a=0);if(this.Ba<a&&1-this.Ba>Number.MIN_VALUE){var c=(a-this.Ba)/(1-this.Ba);this.Ca.x=(1-c)*this.Ca.x+c*this.g.x;this.Ca.y=(1-c)*this.Ca.y+c*this.g.y;this.pb=(1-c)*this.pb+c*this.n;this.Ba=a}};function Hd(){};function Id(){this.position=new F(0,0);this.Oi=new F(0,0);this.ji=this.Ni=this.ki=this.Ya=0;this.li=this.ii=o;this.pi=this.Lc=r;this.type=0;this.hi=o;this.Gi=1};function Jd(a,c){this.cb=new Hd;this.eb=new Hd;this.ib=new ad;this.Ge=new ad;this.wd=r;var b=a.z(),d=c.z();this.bh=b.F!=2||b.mf||d.F!=2||d.mf;this.Fg=a.hc()||c.hc();this.cf=r;this.jb=this.K=q;this.X=a;this.ea=c;this.enabled=o}function Kd(a,c){var b=a.ea.z(),d=a.X.la,e=a.ea.la;c.V(a.ib,a.X.z().gb(),d.Q,b.gb(),e.Q)}Jd.prototype.hc=ba("Fg");
function Ld(a,c){var b=a.Ge;a.Ge=a.ib;a.ib=b;a.enabled=o;var d=r,b=a.wd,e=a.X.z(),g=a.ea.z(),f=a.X.Nc.Bd(a.ea.Nc);if(a.Fg){if(f){var d=a.X.la,e=e.gb(),f=a.ea.la,h=g.gb(),g=new Ac;g.xc=new Dc;g.xc.j(d);g.yc=new Dc;g.yc.j(f);g.Gf=e;g.Hf=h;g.Ph=o;e=new Cc;e.Dd=0;d=new Bc;zc(d,e,g);d=d.jd<10*Number.MIN_VALUE}a.ib.pa=0}else{a.bh=e.F!=2||e.mf||g.F!=2||g.mf?o:r;if(f){a.Qb();d=a.ib.pa>0;for(f=0;f<a.ib.pa;f++){h=a.ib.G[f];h.rd=0;for(var i=h.ud=0;i<a.Ge.pa;i++){var j=a.Ge.G[i];if(j.qc.Qa==h.qc.Qa){h.rd=j.rd;
h.ud=j.ud;break}}}}else a.ib.pa=0;d!=b&&(Md(e,o),Md(g,o))}a.wd=d;!b&&d&&c.be(a);b&&!d&&c.xd(a);a.Fg||c.le(a,a.Ge)}Jd.prototype.Qb=aa();var Nd=new function(){this.xc=new Dc;this.yc=new Dc;this.Lh=new Gd;this.Mh=new Gd};function Od(a,c){Jd.call(this,a,c)}z(Od,Jd);Od.prototype.Qb=function(){var a=this.ib,c=this.X.la,b=this.X.z().e,d=this.ea.la,e=this.ea.z().e;a.pa=0;var g=e.position.x+(e.d.a.x*d.ba.x+e.d.b.x*d.ba.y)-(b.position.x+(b.d.a.x*c.ba.x+b.d.b.x*c.ba.y)),b=e.position.y+(e.d.a.y*d.ba.x+e.d.b.y*d.ba.y)-(b.position.y+(b.d.a.y*c.ba.x+b.d.b.y*c.ba.y)),e=c.Q+d.Q;if(!(g*g+b*b>e*e))a.F=1,a.I.m(c.ba),a.Fa.O(),a.pa=1,a.G[0].I.m(d.ba),Yc(a.G[0].qc,0)};function Pd(a,c){Jd.call(this,a,c)}z(Pd,Jd);Pd.prototype.Qb=aa();function Qd(a){this.Q=0.005;this.Q=a;this.Bh=a*a;this.ba=new F(0,0)}z(Qd,Ec);u=Qd.prototype;u.Of=ca("b2CircleShape");u.da=function(){var a=new Qd(this.Q);a.j(this);return a};u.j=function(a){Ec.prototype.j.call(this,a);a instanceof Qd&&this.ba.m(a.ba)};u.Ve=function(a,c){var b=c.d,d=c.position.x+(b.a.x*this.ba.x+b.b.x*this.ba.y),b=c.position.y+(b.a.y*this.ba.x+b.b.y*this.ba.y);a.lowerBound.j(d-this.Q,b-this.Q);a.upperBound.j(d+this.Q,b+this.Q)};
u.Ig=function(a,c){a.Xc=c*Math.PI*this.Bh;a.fd.m(this.ba);a.fe=a.Xc*(0.5*this.Bh+(this.ba.x*this.ba.x+this.ba.y*this.ba.y))};u.Pg=function(a){a.r=[this.ba];a.A=1;a.Q=this.Q};function Rd(a,c){M(a.la instanceof Q);M(c.la instanceof Qd);Jd.call(this,a,c)}z(Rd,Jd);
Rd.prototype.Qb=function(){a:{var a=this.ib,c=this.X.la,b=this.X.z().e,d=this.ea.la,e=this.ea.z().e;a.pa=0;for(var g=e.position.x+(e.d.a.x*d.ba.x+e.d.b.x*d.ba.y)-b.position.x,f=e.position.y+(e.d.a.y*d.ba.x+e.d.b.y*d.ba.y)-b.position.y,e=g*b.d.a.x+f*b.d.a.y,b=g*b.d.b.x+f*b.d.b.y,g=0,f=-Number.MAX_VALUE,h=c.Q+d.Q,i=0;i<c.ca;++i){var j=c.ma[i].x*(e-c.r[i].x)+c.ma[i].y*(b-c.r[i].y);if(j>h)break a;j>f&&(f=j,g=i)}j=g+1;j>=c.ca&&(j=0);var i=c.r[g],l=c.r[j];if(f<Number.MIN_VALUE)a.pa=1,a.F=2,a.Fa.m(c.ma[g]),
a.I.x=0.5*(i.x+l.x),a.I.y=0.5*(i.y+l.y);else if((e-i.x)*(l.x-i.x)+(b-i.y)*(l.y-i.y)<=0){if((e-i.x)*(e-i.x)+(b-i.y)*(b-i.y)>h*h)break a;a.pa=1;a.F=2;a.Fa.x=e-i.x;a.Fa.y=b-i.y;G(a.Fa);a.I.m(i)}else if((e-l.x)*(i.x-l.x)+(b-l.y)*(i.y-l.y)<=0){if((e-l.x)*(e-l.x)+(b-l.y)*(b-l.y)>h*h)break a;a.pa=1;a.F=2;a.Fa.x=e-l.x;a.Fa.y=b-l.y;G(a.Fa);a.I.m(l)}else{j=0.5*(i.x+l.x);i=0.5*(i.y+l.y);f=(e-j)*c.ma[g].x+(b-i)*c.ma[g].y;if(f>h)break a;a.pa=1;a.F=2;a.Fa.x=c.ma[g].x;a.Fa.y=c.ma[g].y;G(a.Fa);a.I.j(j,i)}a.G[0].I.m(d.ba);
Yc(a.G[0].qc,0)}};function Sd(a,c){M(a.la instanceof Q);M(r);Jd.call(this,a,c)}z(Sd,Jd);Sd.prototype.Qb=aa();function Td(a,c){Jd.call(this,a,c)}z(Td,Jd);
Td.prototype.Qb=function(){var a=this.ib,c=this.X.la,b=this.X.z().e,d=this.ea.la,e=this.ea.z().e;a.pa=0;var g=c.Q+d.Q;hd[0]=0;var f=dd(hd,c,b,d,e);if(!(f>g)){id[0]=0;var h=dd(id,d,e,c,b);if(!(h>g)){var i=c,j=d,l=b,m=e,n=hd[0],p=0;a.F=2;if(h>0.98*f+0.001)i=d,j=c,l=e,m=b,n=id[0],a.F=4,p=1;c=n;b=m;c===k&&(c=0);for(var d=l.d.a.x*i.ma[c].x+l.d.b.x*i.ma[c].y,e=l.d.a.y*i.ma[c].x+l.d.b.y*i.ma[c].y,f=b.d.a.x*d+b.d.a.y*e,e=b.d.b.x*d+b.d.b.y*e,d=f,f=0,h=Number.MAX_VALUE,t=0;t<j.ca;t++){var s=d*j.ma[t].x+e*j.ma[t].y;
s<h&&(h=s,f=t)}d=f+1;d>=j.ca&&(d=0);ed[0].mb.x=b.position.x+(b.d.a.x*j.r[f].x+b.d.b.x*j.r[f].y);ed[0].mb.y=b.position.y+(b.d.a.y*j.r[f].x+b.d.b.y*j.r[f].y);Uc(ed[0].id.rb,c);Vc(ed[0].id.rb,f);Wc(ed[0].id.rb,0);ed[1].mb.x=b.position.x+(b.d.a.x*j.r[d].x+b.d.b.x*j.r[d].y);ed[1].mb.y=b.position.y+(b.d.a.y*j.r[d].x+b.d.b.y*j.r[d].y);Uc(ed[1].id.rb,c);Vc(ed[1].id.rb,d);Wc(ed[1].id.rb,1);c=i.r[n];i=n+1<i.ca?i.r[n+1]:i.r[0];jd.j(i.x-c.x,i.y-c.y);G(jd);kd.x=jd.y;kd.y=-jd.x;ld.j(0.5*(c.x+i.x),0.5*(c.y+i.y));
nd.x=l.d.a.x*jd.x+l.d.b.x*jd.y;nd.y=l.d.a.y*jd.x+l.d.b.y*jd.y;od.x=-nd.x;od.y=-nd.y;md.x=nd.y;md.y=-nd.x;pd.x=l.position.x+(l.d.a.x*c.x+l.d.b.x*c.y);pd.y=l.position.y+(l.d.a.y*c.x+l.d.b.y*c.y);qd.x=l.position.x+(l.d.a.x*i.x+l.d.b.x*i.y);qd.y=l.position.y+(l.d.a.y*i.x+l.d.b.y*i.y);if(!(bd(fd,ed,od,-nd.x*pd.x-nd.y*pd.y+g)<2)&&!(bd(gd,fd,nd,nd.x*qd.x+nd.y*qd.y+g)<2)){a.Fa.m(kd);a.I.m(ld);l=md.x*pd.x+md.y*pd.y;for(n=i=0;n<2;++n)if(md.x*gd[n].mb.x+md.y*gd[n].mb.y-l<=g)c=gd[n].mb.x-m.position.x,j=gd[n].mb.y-
m.position.y,a.G[i].I.x=c*m.d.a.x+j*m.d.a.y,a.G[i].I.y=c*m.d.b.x+j*m.d.b.y,a.G[i].qc.j(gd[n].id),c=a.G[i].qc.rb,c.Vg=p,c.Ic.Qa=c.Ic.Qa&16777215|c.Vg<<24&4278190080,i++;a.pa=i}}}};function Ud(){this.Nb=[];Vd(this,Od,"b2CircleShape","b2CircleShape");Vd(this,Rd,"b2PolygonShape","b2CircleShape");Vd(this,Td,"b2PolygonShape","b2PolygonShape");Vd(this,Pd,"b2EdgeShape","b2CircleShape");Vd(this,Sd,"b2PolygonShape","b2EdgeShape")}function Vd(a,c,b,d){a.Nb[b]=a.Nb[b]||[];a.Nb[b][d]=new Sc;a.Nb[b][d].gh=c;a.Nb[b][d].Ih=o;if(b!=d)a.Nb[d]=a.Nb[d]||[],a.Nb[d][b]=new Sc,a.Nb[d][b].gh=c,a.Nb[d][b].Ih=r}
Ud.prototype.Pb=function(a,c){var b=this.Nb[a.la.Of()][c.la.Of()],d=b.gh;return d!=q?b.Ih?new d(a,c):new d(c,a):q};Ud.prototype.Ec=function(a){a.ib.pa>0&&(Md(a.X.z(),o),Md(a.ea.z(),o))};function Wd(a,c){this.te=a;this.ue=c};function Xd(a){this.J=new Ub;this.parent=this.jc=this.Za=q;if(typeof a!="undefined")this.df=a};function Yd(){this.ec=q;this.$i=this.Mj=0}u=Yd.prototype;u.ce=function(a,c){var b=new Xd(c);b.J.lowerBound.x=a.lowerBound.x-0.1;b.J.lowerBound.y=a.lowerBound.y-0.1;b.J.upperBound.x=a.upperBound.x+0.1;b.J.upperBound.y=a.upperBound.y+0.1;Zd(this,b);return b};u.de=function(a){$d(this,a)};
u.Qf=function(a,c,b){M(a.Za===q);if(Wb(a.J,c))return r;$d(this,a);var d=0.1+2*Math.abs(b.x),b=0.1+2*Math.abs(b.y);a.J.lowerBound.x=c.lowerBound.x-d;a.J.lowerBound.y=c.lowerBound.y-b;a.J.upperBound.x=c.upperBound.x+d;a.J.upperBound.y=c.upperBound.y+b;Zd(this,a);return o};u.yd=function(a){return a.J};u.Rf=function(a,c){if(this.ec!==q){var b=[];for(b.push(this.ec);b.length>0;){var d=b.pop();if(d.J.Bd(c))if(d.Za===q){if(!a(d.df))break}else b.push(d.Za),b.push(d.jc)}}};
function Zd(a,c){a.$i++;if(a.ec===q)a.ec=c,a.ec.parent=q;else{var b;b=Vb(c.J);for(var d=a.ec;d.Za!==q;)var e=d.Za,d=d.jc,d=Math.abs((e.J.lowerBound.x+e.J.upperBound.x)/2-b.x)+Math.abs((e.J.lowerBound.y+e.J.upperBound.y)/2-b.y)<Math.abs((d.J.lowerBound.x+d.J.upperBound.x)/2-b.x)+Math.abs((d.J.lowerBound.y+d.J.upperBound.y)/2-b.y)?e:d;b=d;e=b.parent;d=new Xd;d.parent=e;Xb(d.J,c.J,b.J);if(e){b.parent.Za==b?e.Za=d:e.jc=d;d.Za=b;d.jc=c;b.parent=d;for(c.parent=d;e;){if(Wb(e.J,d.J))break;Xb(e.J,e.Za.J,e.jc.J);
d=e;e=e.parent}}else d.Za=b,d.jc=c,b.parent=d,c.parent=d,a.ec=d}}function $d(a,c){if(c==a.ec)a.ec=q;else{var b=c.parent,d=b.parent,e;e=b.Za==c?b.jc:b.Za;if(d){d.Za==b?d.Za=e:d.jc=e;for(e.parent=d;d;){b=d.J;e=d;var g=new Ub;Xb(g,d.Za.J,d.jc.J);e.J=g;if(Wb(b,d.J))break;d=d.parent}}else a.ec=e,e.parent=q}};function ae(){this.tc=new Yd;this.Pd=[]}u=ae.prototype;u.ce=function(a,c){var b=this.tc.ce(a,c);this.Pd.push(b);return b};u.de=function(a){Ka(this.Pd,a);this.tc.de(a)};u.Qf=function(a,c,b){this.tc.Qf(a,c,b)&&this.Pd.push(a)};u.Bd=function(a,c){return this.tc.yd(a).Bd(this.tc.yd(c))};u.yd=function(a){return this.tc.yd(a)};
function be(a,c){for(var b=[],d=0;d<a.Pd.length;d++){var e=a.Pd[d];a.tc.Rf(function(a){a!=e.df&&b.push(new Wd(e.df,a));return o},a.tc.yd(e))}a.Pd=[];for(d=0;d<b.length;){var g=b[d];c(g.te,g.ue);for(d++;d<b.length;){var f=b[d];if(!(f.te==g.te&&f.ue==g.ue)&&!(f.te==g.ue&&f.ue==g.te))break;d++}}}u.Rf=function(a,c){this.tc.Rf(a,c)};function ce(){}ce.prototype.be=aa();ce.prototype.xd=aa();ce.prototype.le=aa();ce.prototype.je=aa();var de=new ce;function ee(a){this.Wa=a;this.Ae=0;this.kg=Mc;this.Md=de;this.th=new Ud;this.nd=new ae}
function fe(a){be(a.nd,function(c,b){a:{var d=c,e=b,g=d.z(),f=e.z();if(g!=f&&f.Wb(g)&&a.kg.Wb(d,e)){for(f=f.U;f;){if(f.ha==g){var h=f.Ea.X,i=f.Ea.ea;if(h==d&&i==e)break a;if(h==e&&i==d)break a}f=f.next}h=a.th.Pb(d,e);d=h.X;e=h.ea;g=d.z();f=e.z();h.jb=q;h.K=a.Wa.U;if(a.Wa.U!=q)a.Wa.U.jb=h;a.Wa.U=h;h.cb.Ea=h;h.cb.ha=f;h.cb.oa=q;h.cb.next=g.U;if(g.U!=q)g.U.oa=h.cb;g.U=h.cb;h.eb.Ea=h;h.eb.ha=g;h.eb.oa=q;h.eb.next=f.U;if(f.U!=q)f.U.oa=h.eb;f.U=h.eb;a.Ae++}}})}
ee.prototype.Ec=function(a){var c=a.X.z(),b=a.ea.z();a.wd&&this.Md.xd(a);if(a.jb)a.jb.K=a.K;if(a.K)a.K.jb=a.jb;if(a==this.Wa.U)this.Wa.U=a.K;if(a.cb.oa)a.cb.oa.next=a.cb.next;if(a.cb.next)a.cb.next.oa=a.cb.oa;if(a.cb==c.U)c.U=a.cb.next;if(a.eb.oa)a.eb.oa.next=a.eb.next;if(a.eb.next)a.eb.next.oa=a.eb.oa;if(a.eb==b.U)b.U=a.eb.next;this.th.Ec(a);this.Ae--};new function(){this.position=new F(0,0);this.Wj=new F(0,0);this.uc=new F(0,0);this.id=new Xc};function ge(){this.Gd=[]}ge.prototype.ve=0;ge.prototype.Oe=0;ge.prototype.clear=function(){this.Oe=this.ve=this.Gd.length=0};function he(a){this.body=a;this.zg=this.next=q}he.prototype.z=ba("body");function ie(){this.Fb=[];for(var a=0;a<je;a++)this.Fb[a]=q;this.$e=[];for(a=0;a<je;a++)this.$e[a]=q;this.Cd={};this.Yf=0}ie.prototype.Te=function(a){var c=a.Pf;this.Cd[c]==q&&(ke(this,a,c,je),le(this,a),a.tf.push(this),this.Yf++)};function le(a,c){var b=c.F,d=c.Pf,e=c.vb,g=c.Gc();b==2?ke(a,c,d,me):ne(a,d,me);b!=0?ke(a,c,d,oe):ne(a,d,oe);b!=0&&g&&e?ke(a,c,d,pe):ne(a,d,pe);g?ke(a,c,d,qe):ne(a,d,qe)}
function re(a,c){var b=c.Pf;if(a.Cd[b]!=q){Ka(c.tf,a);for(var d=0;d<je;d++)ne(a,b,d);delete a.Cd[b];a.Yf--}}function ne(a,c,b){var d=a.Cd[c];if(d!=q&&(c=d[b],c!=q))d[b]=q,d=c.zg,c=c.next,d==q?a.Fb[b]=c:d.next=c,c==q?a.$e[b]=d:c.zg=d}function ke(a,c,b,d){var e=a.Cd[b];if(e==q){for(var e=[],g=0;g<je;g++)e[g]=q;a.Cd[b]=e}if(e[d]==q)e[d]=new he(c),c=a.$e[d],c!=q?c.next=e[d]:a.Fb[d]=e[d],e[d].zg=c,a.$e[d]=e[d]}ie.prototype.Nf=ba("Yf");var me=1,oe=2,qe=3,pe=4,je=5;function se(a,c,b){this.Xg=255*L(a,0,1);this.Wg=255*L(c,0,1);this.Ug=255*L(b,0,1)}se.prototype.j=function(a,c,b){this.Xg=255*L(a,0,1);this.Wg=255*L(c,0,1);this.Ug=255*L(b,0,1)};function Rb(a){return a.Xg<<16|a.Wg<<8|a.Ug};function te(){this.L=new F(0,0);this.G=[];for(var a=this.pa=0;a<2;a++)this.G[a]=new F(0,0)}
te.prototype.V=function(a,c,b,d,e){if(a.pa!=0){var g=0,f,h,i=0,j=0,l=0,m=0,n=0;f=0;switch(a.F){case 1:h=c.d;f=a.I;g=c.position.x+h.a.x*f.x+h.b.x*f.y;c=c.position.y+h.a.y*f.x+h.b.y*f.y;h=d.d;f=a.G[0].I;a=d.position.x+h.a.x*f.x+h.b.x*f.y;d=d.position.y+h.a.y*f.x+h.b.y*f.y;f=a-g;h=d-c;i=f*f+h*h;i>vc?(i=Math.sqrt(i),this.L.x=f/i,this.L.y=h/i):(this.L.x=1,this.L.y=0);f=c+b*this.L.y;d-=e*this.L.y;this.G[0].x=0.5*(g+b*this.L.x+(a-e*this.L.x));this.G[0].y=0.5*(f+d);break;case 2:h=c.d;f=a.Fa;i=h.a.x*f.x+h.b.x*
f.y;j=h.a.y*f.x+h.b.y*f.y;h=c.d;f=a.I;l=c.position.x+h.a.x*f.x+h.b.x*f.y;m=c.position.y+h.a.y*f.x+h.b.y*f.y;this.L.x=i;this.L.y=j;for(g=0;g<a.pa;g++)h=d.d,f=a.G[g].I,n=d.position.x+h.a.x*f.x+h.b.x*f.y,f=d.position.y+h.a.y*f.x+h.b.y*f.y,this.G[g].x=n+0.5*(b-(n-l)*i-(f-m)*j-e)*i,this.G[g].y=f+0.5*(b-(n-l)*i-(f-m)*j-e)*j;break;case 4:h=d.d;f=a.Fa;i=h.a.x*f.x+h.b.x*f.y;j=h.a.y*f.x+h.b.y*f.y;h=d.d;f=a.I;l=d.position.x+h.a.x*f.x+h.b.x*f.y;m=d.position.y+h.a.y*f.x+h.b.y*f.y;this.L.x=-i;this.L.y=-j;for(g=
0;g<a.pa;g++)h=c.d,f=a.G[g].I,n=c.position.x+h.a.x*f.x+h.b.x*f.y,f=c.position.y+h.a.y*f.x+h.b.y*f.y,this.G[g].x=n+0.5*(e-(n-l)*i-(f-m)*j-b)*i,this.G[g].y=f+0.5*(e-(n-l)*i-(f-m)*j-b)*j}}};function ue(){}ue.prototype.j=function(a){this.Y=a.Y;this.ub=a.ub;this.Yd=a.Yd;this.ae=a.ae;this.gc=a.gc};function ve(){this.Zb=new F(0,0);this.M=new F(0,0);this.N=new F(0,0)};function we(){this.kf=new F(0,0);this.Zb=new F(0,0);this.uc=new F(0,0);this.Xd=new ic;this.Cb=new ic;this.Pa=[];for(var a=0;a<2;a++)this.Pa[a]=new ve};function xe(){this.L=new F(0,0);this.xf=[];this.G=[];for(var a=0;a<2;a++)this.G[a]=new F(0,0)}
xe.prototype.V=function(a){M(a.kb>0);var c=0,b=0,d=0,e=0,g=0;switch(a.type){case 1:var f=a.T.e.d,d=a.Zb,c=a.T.e.position.x+(f.a.x*d.x+f.b.x*d.y),b=a.T.e.position.y+(f.a.y*d.x+f.b.y*d.y),f=a.W.e.d,d=a.Pa[0].Zb,e=a.W.e.position.x+(f.a.x*d.x+f.b.x*d.y),f=a.W.e.position.y+(f.a.y*d.x+f.b.y*d.y),d=e-c,g=f-b,h=d*d+g*g;h>vc?(h=Math.sqrt(h),this.L.x=d/h,this.L.y=g/h):(this.L.x=1,this.L.y=0);this.G[0].x=0.5*(c+e);this.G[0].y=0.5*(b+f);this.xf[0]=d*this.L.x+g*this.L.y-a.Cg;break;case 2:f=a.T.e.d;d=a.kf;this.L.x=
f.a.x*d.x+f.b.x*d.y;this.L.y=f.a.y*d.x+f.b.y*d.y;f=a.T.e.d;d=a.Zb;e=a.T.e.position.x+(f.a.x*d.x+f.b.x*d.y);g=a.T.e.position.y+(f.a.y*d.x+f.b.y*d.y);f=a.W.e.d;for(c=0;c<a.kb;c++)d=a.Pa[c].Zb,b=a.W.e.position.x+(f.a.x*d.x+f.b.x*d.y),d=a.W.e.position.y+(f.a.y*d.x+f.b.y*d.y),this.xf[c]=(b-e)*this.L.x+(d-g)*this.L.y-a.Cg,this.G[c].x=b,this.G[c].y=d;break;case 4:f=a.W.e.d;d=a.kf;this.L.x=f.a.x*d.x+f.b.x*d.y;this.L.y=f.a.y*d.x+f.b.y*d.y;f=a.W.e.d;d=a.Zb;e=a.W.e.position.x+(f.a.x*d.x+f.b.x*d.y);g=a.W.e.position.y+
(f.a.y*d.x+f.b.y*d.y);f=a.T.e.d;for(c=0;c<a.kb;c++)d=a.Pa[c].Zb,b=a.T.e.position.x+(f.a.x*d.x+f.b.x*d.y),d=a.T.e.position.y+(f.a.y*d.x+f.b.y*d.y),this.xf[c]=(b-e)*this.L.x+(d-g)*this.L.y-a.Cg,this.G[c].j(b,d);this.L.x*=-1;this.L.y*=-1}};function ye(){this.hj=new ue;this.ac=[]}u=ye.prototype;
u.V=function(a,c,b){b===k&&(b=0);var d;this.hj.j(a);a=0;for(this.ze=b;this.ac.length<this.ze;)this.ac[this.ac.length]=new we;for(a=0;a<b;++a){d=c[a];var e=d.X,g=d.ea,f=e.la.Q,h=g.la.Q,i=e.z(),j=g.z(),l=d.ib,m=Math.sqrt(e.og*g.og),n=e.Ie>g.Ie?e.Ie:g.Ie,p=i.h.x,t=i.h.y,s=j.h.x,v=j.h.y,w=i.t,O=j.t;M(l.pa>0);ze.V(l,i.e,f,j.e,h);g=ze.L.x;d=ze.L.y;e=this.ac[a];e.T=i;e.W=j;e.jj=l;e.uc.x=g;e.uc.y=d;e.kb=l.pa;e.sb=m;e.zc=n;e.kf.x=l.Fa.x;e.kf.y=l.Fa.y;e.Zb.x=l.I.x;e.Zb.y=l.I.y;e.Cg=f+h;e.type=l.F;for(f=0;f<
e.kb;++f){m=l.G[f];h=e.Pa[f];h.Aa=m.rd;h.Bc=m.ud;h.Zb.m(m.I);var m=h.M.x=ze.G[f].x-i.c.g.x,n=h.M.y=ze.G[f].y-i.c.g.y,J=h.N.x=ze.G[f].x-j.c.g.x,P=h.N.y=ze.G[f].y-j.c.g.y,y=m*d-n*g,E=J*d-P*g;y*=y;E*=E;h.Xd=1/(i.l+j.l+i.v*y+j.v*E);var X=i.q*i.l+j.q*j.l;X+=i.q*i.v*y+j.q*j.v*E;h.Ai=1/X;E=d;X=-g;y=m*X-n*E;E=J*X-P*E;y*=y;E*=E;h.xj=1/(i.l+j.l+i.v*y+j.v*E);h.If=0;m=e.uc.x*(s+-O*P-p- -w*n)+e.uc.y*(v+O*J-t-w*m);m<-1&&(h.If+=-e.zc*m)}if(e.kb==2)v=e.Pa[0],s=e.Pa[1],l=i.l,i=i.v,p=j.l,j=j.v,t=v.M.x*d-v.M.y*g,v=
v.N.x*d-v.N.y*g,w=s.M.x*d-s.M.y*g,s=s.N.x*d-s.N.y*g,g=l+p+i*t*t+j*v*v,d=l+p+i*w*w+j*s*s,j=l+p+i*t*w+j*v*s,g*g<100*(g*d-j*j)?(e.Cb.a.j(g,j),e.Cb.b.j(j,d),g=e.Cb,e=e.Xd,d=g.a.x*g.b.y-g.b.x*g.a.y,d!==0&&(d=1/d),e.a.x=d*g.b.y,e.b.x=-d*g.b.x,e.a.y=-d*g.a.y,e.b.y=d*g.a.x):e.kb=1}};
u.Ub=function(a){for(var c=0;c<this.ze;++c){var b=this.ac[c],d=b.T,e=b.W,g=d.l,f=d.v,h=e.l,i=e.v,j=b.uc.x,l=b.uc.y,m=l,n=-j,p=0,t=0;if(a.gc){t=b.kb;for(p=0;p<t;++p){var s=b.Pa[p];s.Aa*=a.Ra;s.Bc*=a.Ra;var v=s.Aa*j+s.Bc*m,w=s.Aa*l+s.Bc*n;d.t-=f*(s.M.x*w-s.M.y*v);d.h.x-=g*v;d.h.y-=g*w;e.t+=i*(s.N.x*w-s.N.y*v);e.h.x+=h*v;e.h.y+=h*w}}else{t=b.kb;for(p=0;p<t;++p)d=b.Pa[p],d.Aa=0,d.Bc=0}}};
u.Eb=function(){for(var a=0,c,b=0,d=0,e=0,g=d=d=b=b=0,f=b=b=0,h=b=e=0,i=0,j,l=0;l<this.ze;++l){var e=this.ac[l],m=e.T,n=e.W,p=m.t,t=n.t,s=m.h,v=n.h,w=m.l,O=m.v,J=n.l,P=n.v,h=e.uc.x,y=i=e.uc.y;j=-h;f=e.sb;for(a=0;a<e.kb;a++)c=e.Pa[a],b=v.x-t*c.N.y-s.x+p*c.M.y,d=v.y+t*c.N.x-s.y-p*c.M.x,b=b*y+d*j,b=c.xj*-b,d=f*c.Aa,d=L(c.Bc+b,-d,d),b=d-c.Bc,g=b*y,b*=j,s.x-=w*g,s.y-=w*b,p-=O*(c.M.x*b-c.M.y*g),v.x+=J*g,v.y+=J*b,t+=P*(c.N.x*b-c.N.y*g),c.Bc=d;if(e.kb==1)c=e.Pa[0],b=v.x+-t*c.N.y-s.x- -p*c.M.y,d=v.y+t*c.N.x-
s.y-p*c.M.x,e=b*h+d*i,b=-c.Xd*(e-c.If),d=c.Aa+b,d=d>0?d:0,b=d-c.Aa,g=b*h,b*=i,s.x-=w*g,s.y-=w*b,p-=O*(c.M.x*b-c.M.y*g),v.x+=J*g,v.y+=J*b,t+=P*(c.N.x*b-c.N.y*g),c.Aa=d;else{c=e.Pa[0];var a=e.Pa[1],b=c.Aa,f=a.Aa,E=(v.x-t*c.N.y-s.x+p*c.M.y)*h+(v.y+t*c.N.x-s.y-p*c.M.x)*i,X=(v.x-t*a.N.y-s.x+p*a.M.y)*h+(v.y+t*a.N.x-s.y-p*a.M.x)*i,d=E-c.If,g=X-a.If;j=e.Cb;d-=j.a.x*b+j.b.x*f;for(g-=j.a.y*b+j.b.y*f;;){j=e.Xd;y=-(j.a.x*d+j.b.x*g);j=-(j.a.y*d+j.b.y*g);if(y>=0&&j>=0){b=y-b;f=j-f;e=b*h;b*=i;h*=f;i*=f;s.x-=w*(e+
h);s.y-=w*(b+i);p-=O*(c.M.x*b-c.M.y*e+a.M.x*i-a.M.y*h);v.x+=J*(e+h);v.y+=J*(b+i);t+=P*(c.N.x*b-c.N.y*e+a.N.x*i-a.N.y*h);c.Aa=y;a.Aa=j;break}y=-c.Xd*d;j=0;X=e.Cb.a.y*y+g;if(y>=0&&X>=0){b=y-b;f=j-f;e=b*h;b*=i;h*=f;i*=f;s.x-=w*(e+h);s.y-=w*(b+i);p-=O*(c.M.x*b-c.M.y*e+a.M.x*i-a.M.y*h);v.x+=J*(e+h);v.y+=J*(b+i);t+=P*(c.N.x*b-c.N.y*e+a.N.x*i-a.N.y*h);c.Aa=y;a.Aa=j;break}y=0;j=-a.Xd*g;E=e.Cb.b.x*j+d;if(j>=0&&E>=0){b=y-b;f=j-f;e=b*h;b*=i;h*=f;i*=f;s.x-=w*(e+h);s.y-=w*(b+i);p-=O*(c.M.x*b-c.M.y*e+a.M.x*i-a.M.y*
h);v.x+=J*(e+h);v.y+=J*(b+i);t+=P*(c.N.x*b-c.N.y*e+a.N.x*i-a.N.y*h);c.Aa=y;a.Aa=j;break}j=y=0;E=d;X=g;if(E>=0&&X>=0){b=y-b;f=j-f;e=b*h;b*=i;h*=f;i*=f;s.x-=w*(e+h);s.y-=w*(b+i);p-=O*(c.M.x*b-c.M.y*e+a.M.x*i-a.M.y*h);v.x+=J*(e+h);v.y+=J*(b+i);t+=P*(c.N.x*b-c.N.y*e+a.N.x*i-a.N.y*h);c.Aa=y;a.Aa=j;break}break}}m.t=p;n.t=t}};u.Mf=function(){for(var a=0;a<this.ze;++a)for(var c=this.ac[a],b=c.jj,d=0;d<c.kb;++d){var e=b.G[d],g=c.Pa[d];e.rd=g.Aa;e.ud=g.Bc}};
u.Db=function(a){a===k&&(a=0);for(var c=0,b=0;b<this.ze;b++){var d=this.ac[b],e=d.T,g=d.W,f=e.q*e.l,h=e.q*e.v,i=g.q*g.l,j=g.q*g.v;Ae.V(d);for(var l=Ae.L,m=0;m<d.kb;m++){var n=d.Pa[m],p=Ae.G[m],t=Ae.xf[m],s=p.x-e.c.g.x,v=p.y-e.c.g.y,w=p.x-g.c.g.x,p=p.y-g.c.g.y,c=c<t?c:t,t=-n.Ai*L(a*(t+0.005),-0.2,0),n=t*l.x;t*=l.y;e.c.g.x-=f*n;e.c.g.y-=f*t;e.c.n-=h*(s*t-v*n);T(e);g.c.g.x+=i*n;g.c.g.y+=i*t;g.c.n+=j*(w*t-p*n);T(g)}}return c>-0.0075};var ze=new te,Ae=new xe;function Be(a,c){this.yh=a;this.Lb=c;this.$b=[];this.qf=[];this.Tc=[];this.Mb=[];this.Ia=[]}function Ce(a){a.$b=[];a.qf=[];a.Tc=[];a.Mb=[];a.Ia=[]}
Be.prototype.me=function(a,c,b){for(var d=0;d<this.qf.length;d++){var e=this.qf[d];e.h.x+=a.Y*(c.x+e.l*e.rf.x);e.h.y+=a.Y*(c.y+e.l*e.rf.y);e.t+=a.Y*e.v*e.vg;e.h.ic(L(1-a.Y*e.cj,0,1));e.t*=L(1-a.Y*e.Ri,0,1)}this.Lb.V(a,this.Mb,this.Mb.length);this.Lb.Ub(a);for(c=0;c<this.Ia.length;c++)this.Ia[c].Ub(a);for(c=0;c<a.ae;c++){for(d=0;d<this.Ia.length;d++)this.Ia[d].Eb(a);this.Lb.Eb()}for(c=0;c<this.Ia.length;c++)this.Ia[c].Mf();this.Lb.Mf();for(c=0;c<this.Tc.length;++c){var d=this.Tc[c],e=a.Y*d.h.x,g=a.Y*
d.h.y;e*e+g*g>4&&(G(d.h),d.h.x*=2*a.ub,d.h.y*=2*a.ub);e=a.Y*d.t;if(e*e>tc)d.t=d.t<0?-sc*a.ub:sc*a.ub;d.c.Ca.m(d.c.g);d.c.pb=d.c.n;d.c.g.x+=a.Y*d.h.x;d.c.g.y+=a.Y*d.h.y;d.c.n+=a.Y*d.t;T(d)}for(c=0;c<a.Yd;c++){d=this.Lb.Db(0.2);e=o;for(g=0;g<this.Ia.length;g++)var f=this.Ia[g].Db(0.2),e=e&&f;if(d&&e)break}De(this,this.Lb.ac);if(b){b=Number.MAX_VALUE;for(c=0;c<this.Tc.length;c++)d=this.Tc[c],!d.ig||Math.abs(d.t)>uc||kc(d.h,d.h)>1.0E-4?b=d.yf=0:(d.yf+=a.Y,b=Math.min(b,d.yf));if(b>=0.5)for(a=0;a<this.$b.length;a++)Md(this.$b[a],
r)}};
Be.prototype.Tf=function(a){var c=0,b=0;this.Lb.V(a,this.Mb,this.Mb.length);for(var d=this.Lb,c=0;c<this.Ia.length;++c)this.Ia[c].Ub(a);for(c=0;c<a.ae;++c){d.Eb();for(b=0;b<this.Ia.length;++b)this.Ia[b].Eb(a)}for(c=0;c<this.Tc.length;++c){var b=this.Tc[c],e=a.Y*b.h.x,g=a.Y*b.h.y;e*e+g*g>4&&(G(b.h),b.h.x*=2*a.ub,b.h.y*=2*a.ub);e=a.Y*b.t;if(e*e>tc)b.t=b.t<0?-sc*a.ub:sc*a.ub;b.c.Ca.m(b.c.g);b.c.pb=b.c.n;b.c.g.x+=a.Y*b.h.x;b.c.g.y+=a.Y*b.h.y;b.c.n+=a.Y*b.t;T(b)}for(c=0;c<a.Yd;++c){e=d.Db(0.75);g=o;for(b=
0;b<this.Ia.length;++b)var f=this.Ia[b].Db(0.2),g=g&&f;if(e&&g)break}De(this,d.ac)};function De(a,c){if(a.yh!=q)for(var b=0;b<a.Mb.length;++b){for(var d=a.Mb[b],e=c[b],g=0;g<e.kb;++g)Ee.rj[g]=e.Pa[g].Aa,Ee.wj[g]=e.Pa[g].Bc;a.yh.je(d,Ee)}}Be.prototype.Te=function(a){this.$b.push(a);a.F!=0&&(this.Tc.push(a),a.F==2&&this.qf.push(a))};var Ee=new function(){this.rj=[];this.wj=[]};function Fe(a){R.call(this,a);this.B=new F(0,0);this.C=new F(0,0);this.va=new F(0,0);this.B.m(a.Sa);this.C.m(a.Ta);this.xh=a.length;this.ng=a.lh;this.Ui=a.hh;this.rh=this.pd=this.i=0}z(Fe,R);u=Fe.prototype;u.Rb=function(){return S(this.s,this.B)};u.Sb=function(){return S(this.u,this.C)};
u.Ub=function(a){var c,b=0,d=this.s,e=this.u;c=d.e.d;var g=this.B.x-d.c.p.x,f=this.B.y-d.c.p.y,b=c.a.x*g+c.b.x*f,f=c.a.y*g+c.b.y*f,g=b;c=e.e.d;var h=this.C.x-e.c.p.x,i=this.C.y-e.c.p.y,b=c.a.x*h+c.b.x*i,i=c.a.y*h+c.b.y*i,h=b;this.va.x=e.c.g.x+h-d.c.g.x-g;this.va.y=e.c.g.y+i-d.c.g.y-f;b=Math.sqrt(this.va.x*this.va.x+this.va.y*this.va.y);b>0.005?this.va.ic(1/b):this.va.O();c=g*this.va.y-f*this.va.x;var j=h*this.va.y-i*this.va.x;c=d.l+d.v*c*c+e.l+e.v*j*j;this.q=c!=0?1/c:0;if(this.ng>0){b-=this.xh;var j=
2*Math.PI*this.ng,l=this.q*j*j;this.pd=a.Y*(2*this.q*this.Ui*j+a.Y*l);this.pd=this.pd!=0?1/this.pd:0;this.rh=b*a.Y*l*this.pd;this.q=c+this.pd;this.q=this.q!=0?1/this.q:0}a.gc?(this.i*=a.Ra,a=this.i*this.va.x,c=this.i*this.va.y,d.h.x-=d.l*a,d.h.y-=d.l*c,d.t-=d.v*(g*c-f*a),e.h.x+=e.l*a,e.h.y+=e.l*c,e.t+=e.v*(h*c-i*a)):this.i=0};
u.Eb=function(){var a=this.B.x-this.s.c.p.x,c=this.B.y-this.s.c.p.y,b=this.s.e.d.a.x*a+this.s.e.d.b.x*c,c=this.s.e.d.a.y*a+this.s.e.d.b.y*c,a=b,d=this.C.x-this.u.c.p.x,e=this.C.y-this.u.c.p.y,b=this.u.e.d.a.x*d+this.u.e.d.b.x*e,e=this.u.e.d.a.y*d+this.u.e.d.b.y*e,d=b,g=-this.q*(this.va.x*(this.u.h.x-this.u.t*e-(this.s.h.x-this.s.t*c))+this.va.y*(this.u.h.y+this.u.t*d-(this.s.h.y+this.s.t*a))+this.rh+this.pd*this.i);this.i+=g;b=g*this.va.x;g*=this.va.y;this.s.h.x-=this.s.l*b;this.s.h.y-=this.s.l*g;
this.s.t-=this.s.v*(a*g-c*b);this.u.h.x+=this.u.l*b;this.u.h.y+=this.u.l*g;this.u.t+=this.u.v*(d*g-e*b)};
u.Db=function(){if(this.ng>0)return o;var a=this.B.x-this.s.c.p.x,c=this.B.y-this.s.c.p.y,b=this.s.e.d.a.x*a+this.s.e.d.b.x*c,c=this.s.e.d.a.y*a+this.s.e.d.b.y*c,a=b,d=this.C.x-this.u.c.p.x,e=this.C.y-this.u.c.p.y,b=this.u.e.d.a.x*d+this.u.e.d.b.x*e,e=this.u.e.d.a.y*d+this.u.e.d.b.y*e,d=b,g=this.u.c.g.x+d-this.s.c.g.x-a,f=this.u.c.g.y+e-this.s.c.g.y-c,b=Math.sqrt(g*g+f*f);g/=b;f/=b;var b=L(b-this.xh,-0.2,0.2),h=-this.q*b;this.va.j(g,f);g=h*this.va.x;f=h*this.va.y;this.s.c.g.x-=this.s.l*g;this.s.c.g.y-=
this.s.l*f;this.s.c.n-=this.s.v*(a*f-c*g);this.u.c.g.x+=this.u.l*g;this.u.c.g.y+=this.u.l*f;this.u.c.n+=this.u.v*(d*f-e*g);T(this.s);T(this.u);return Math.abs(b)<0.005};function Ge(){this.mg=new gc;this.Nc=new Ub;this.la=this.K=this.jg=q;this.Ie=this.og=this.of=0}u=Ge.prototype;u.hc=ba("aj");u.z=ba("jg");u.Kg=function(a){a||(a=new Fc);this.la.Ig(a,this.of);return a};u.Pb=function(a,c,b){this.og=b.sb;this.Ie=b.zc;this.jg=a;this.K=q;this.mg=b.filter.da();this.aj=b.hf;this.la=b.shape.da();this.of=b.se};u.Ec=function(){this.la=q};u.ce=function(a,c){this.la.Ve(this.Nc,c);this.Uc=a.ce(this.Nc,this)};u.de=function(a){if(this.Uc!=q)a.de(this.Uc),this.Uc=q};
function He(a,c,b,d){if(a.Uc){var e=new Ub,g=new Ub;a.la.Ve(e,b);a.la.Ve(g,d);Xb(a.Nc,e,g);c.Qf(a.Uc,a.Nc,K(d.position,b.position))}};function Ie(a,c){this.Pf="Body"+Je++;this.e=new Gc;this.e.position.m(a.position);this.e.d.j(a.Ya);this.c=new Gd;this.c.p.O();this.c.Ba=1;this.c.pb=this.c.n=a.Ya;this.c.g.x=this.e.d.a.x*this.c.p.x+this.e.d.b.x*this.c.p.y;this.c.g.y=this.e.d.a.y*this.c.p.x+this.e.d.b.y*this.c.p.y;this.c.g.x+=this.e.position.x;this.c.g.y+=this.e.position.y;this.c.Ca.m(this.c.g);this.h=a.Oi.da();this.rf=new F(0,0);this.mf=a.pi;this.Vi=a.Lc;this.ig=a.ii;this.vb=a.li;this.qh=a.hi;this.Wa=c;this.nf=this.U=this.ka=q;this.Ti=
0;this.t=a.ki;this.cj=a.Ni;this.Ri=a.ji;this.yf=this.vg=0;this.F=a.type;this.q=this.F==2?1:0;this.l=this.F==2?1:0;this.v=this.nc=0;this.Zi=a.Gi;this.pc=q;this.vh=0;this.tf=[]}function Ke(a,c,b){M(!a.Wa.qd);a.e.d.j(b);a.e.position.m(c);var c=a.e.d,d=a.c.p;a.c.g.x=c.a.x*d.x+c.b.x*d.y;a.c.g.y=c.a.y*d.x+c.b.y*d.y;a.c.g.x+=a.e.position.x;a.c.g.y+=a.e.position.y;a.c.Ca.m(a.c.g);a.c.pb=a.c.n=b;b=a.Wa.Ha.nd;for(c=a.pc;c;c=c.K)He(c,b,a.e,a.e);fe(a.Wa.Ha)}u=Ie.prototype;u.gb=ba("e");u.Tb=function(){return this.c.n};
function U(a){return a.c.g}function Le(a,c,b){a.F==2&&(Md(a,o),a.h.x+=a.l*c.x,a.h.y+=a.l*c.y,a.t+=a.v*((b.x-a.c.g.x)*c.y-(b.y-a.c.g.y)*c.x))}u.Kg=function(a){a||(a=new Fc);a.Xc=this.q;a.fe=this.nc;a.fd.m(this.c.p);return a};function S(a,c){var b=a.e.d,b=new F(b.a.x*c.x+b.b.x*c.y,b.a.y*c.x+b.b.y*c.y);b.x+=a.e.position.x;b.y+=a.e.position.y;return b}function Md(a,c){if(a.vb!=c){a.vb=c;a.yf=0;if(!c)a.h.O(),a.t=0,a.rf.O(),a.vg=0;for(var b=0;b<a.tf.length;b++)le(a.tf[b],a)}}u.Gc=ba("qh");
function Me(a){Ne.d.j(a.c.pb);var c=Ne.d,b=a.c.p;Ne.position.x=a.c.Ca.x-(c.a.x*b.x+c.b.x*b.y);Ne.position.y=a.c.Ca.y-(c.a.y*b.x+c.b.y*b.y);b=a.Wa.Ha.nd;for(c=a.pc;c;c=c.K)He(c,b,Ne,a.e)}function T(a){a.e.d.j(a.c.n);var c=a.e.d,b=a.c.p;a.e.position.x=a.c.g.x-(c.a.x*b.x+c.b.x*b.y);a.e.position.y=a.c.g.y-(c.a.y*b.x+c.b.y*b.y)}u.Wb=function(a){if(this.F!=2&&a.F!=2)return r;for(var c=this.ka;c;c=c.next)if(c.ha==a&&c.Yb.sh==r)return r;return o};
u.Cc=function(a){this.c.Cc(a);this.c.g.m(this.c.Ca);this.c.n=this.c.pb;T(this)};var Je=0,Ne=new Gc;function Oe(a,c){this.Ha=new ee(this);this.Lb=new ye;this.tg=this.qd=r;this.Ma=this.pf=q;this.Gb=new ie;this.nf=this.ka=this.U=q;this.Ti=this.sf=0;this.Si=this.ij=o;this.ig=c;this.Wi=a;this.wh=0;this.pg=Pe(this,new Id)}var Qe=1-100*Number.MIN_VALUE;function Pe(a,c){M(!a.qd);var b=new Ie(c,a);a.Gb.Te(b);return b}
function V(a,c){var b=c.Pb();b.jb=q;if(b.K=a.ka)a.ka.jb=b;a.ka=b;a.sf++;b.Ua.Yb=b;b.Ua.ha=b.u;b.Ua.oa=q;if(b.Ua.next=b.s.ka)b.s.ka.oa=b.Ua;b.s.ka=b.Ua;b.Va.Yb=b;b.Va.ha=b.s;b.Va.oa=q;if(b.Va.next=b.u.ka)b.u.ka.oa=b.Va;b.u.ka=b.Va;var d=c.T,e=c.W;if(!c.$f)for(e=e.U;e;){if(e.ha==d)e.Ea.cf=o;e=e.next}return b}Oe.prototype.Nf=function(){return this.Gb.Nf()};
function Re(a,c,b,d){if(a.tg)fe(a.Ha),a.tg=r;a.qd=o;var e=new ue;e.Y=c;e.ae=b;e.Yd=d;e.ub=c>0?1/c:0;e.Ra=a.wh*c;e.gc=a.ij;c=a.Ha;for(b=c.Wa.U;b;){var d=b.X,g=b.ea,f=d.z(),h=g.z();if(f.vb==r&&h.vb==r)b=b.K;else{if(b.cf){if(h.Wb(f)==r){d=b;b=d.K;c.Ec(d);continue}if(c.kg.Wb(d,g)==r){d=b;b=d.K;c.Ec(d);continue}b.cf=r}c.nd.Bd(d.Uc,g.Uc)==r?(d=b,b=d.K,c.Ec(d)):(Ld(b,c.Md),b=b.K)}}if(e.Y>0)a.me(e),a.Si&&e.Y>0&&a.Tf(e),a.wh=e.ub;a.qd=r}
Oe.prototype.me=function(a){for(var c=this.nf;c;c=c.K)Re(c,a);for(var c=new Be(this.Ha.Md,this.Lb),b=this.Gb.Fb[je];b;b=b.next)b.z().fa=r;for(b=this.U;b;b=b.K)b.fa=r;for(b=this.ka;b;b=b.K)b.fa=r;for(b=this.Gb.Fb[pe];b;b=b.next){var d=b.z();if(!d.fa){Ce(c);var e=[];e.push(d);for(d.fa=o;e.length>0;)if(d=e.pop(),c.Te(d),d.vb||Md(d,o),d.F!=0){for(var g=d.U;g;g=g.next)if(!g.Ea.fa&&!g.Ea.hc()&&g.Ea.enabled&&g.Ea.wd&&(c.Mb.push(g.Ea),g.Ea.fa=o,!g.ha.fa))e.push(g.ha),g.ha.fa=o;for(d=d.ka;d;d=d.next)if(!d.Yb.fa&&
d.ha.Gc()&&(c.Ia.push(d.Yb),d.Yb.fa=o,!d.ha.fa))e.push(d.ha),d.ha.fa=o}c.me(a,this.Wi,this.ig)}}for(b=this.Gb.Fb[oe];b;b=b.next)d=b.z(),d.vb&&d.Gc()&&Me(d);fe(this.Ha)};
Oe.prototype.Tf=function(a){var c,b,d=new Be(this.Ha.Md,this.Lb);for(b=this.Gb.Fb[je];b;b=b.next){var e=b.z();e.fa=r;e.c.Ba=0}for(b=this.U;b;b=b.K)b.fa=r,b.Sd=q;for(b=this.ka;b;b=b.K)b.fa=r;for(;;){c=q;b=1;for(e=this.U;e;e=e.K){var g;if(e.hc()||!e.enabled||!e.bh)g=o;else{g=e.X.z();var f=e.ea.z();g=(g.F!=2||!g.vb)&&(f.F!=2||!f.vb)?o:r}if(!g){f=1;if(e.Sd!=q)f=e.Sd;else{if(e.wd)f=1;else{var h=e.X.z(),i=e.ea.z();g=h.c.Ba;if(h.c.Ba<i.c.Ba)g=i.c.Ba,h.c.Cc(g);else if(i.c.Ba<h.c.Ba)g=h.c.Ba,i.c.Cc(g);f=e;
h=h.c;i=i.c;Nd.xc.j(f.X.la);Nd.yc.j(f.ea.la);Nd.Lh=h;Nd.Mh=i;Nd.yj=0.005;var j=Nd;vd++;var f=j.xc,i=j.yc,h=j.Lh,l=j.Mh;M(h.Ba==l.Ba);M(1-h.Ba>Number.MIN_VALUE);var m=f.Q+i.Q,j=j.yj,n=0,p=0,t=0;Ad.Dd=0;for(Bd.Ph=r;;){h.gb(Cd,n);l.gb(Dd,n);Bd.xc=f;Bd.yc=i;Bd.Gf=Cd;Bd.Hf=Dd;zc(Fd,Ad,Bd);if(Fd.jd<=0){n=1;break}Ed.V(Ad,f,Cd,i,Dd);var s=Ed.Qb(Cd,Dd);if(s<=0){n=1;break}p==0&&(t=s>m?Math.max(m-j,0.75*m):Math.max(s-j,0.02*m));if(s-t<0.5*j){if(p==0){n=1;break}break}var v=n,w=n,O=1;h.gb(Cd,O);l.gb(Dd,O);var J=
Ed.Qb(Cd,Dd);if(J>=t){n=1;break}for(var P=0;;){var y=0,y=P&1?w+(t-s)*(O-w)/(J-s):0.5*(w+O);h.gb(Cd,y);l.gb(Dd,y);var E=Ed.Qb(Cd,Dd);if(Math.abs(E-t)<0.025*j){v=y;break}E>t?(w=y,s=E):(O=y,J=E);P++;yd++;if(P==50)break}zd=Math.max(zd,P);if(v<(1+100*Number.MIN_VALUE)*n)break;n=v;p++;wd++;if(p==1E3)break}xd=Math.max(xd,p);f=n;M(0<=f&&f<=1);f>0&&f<1&&(f=(1-f)*g+f)}e.Sd=f}Number.MIN_VALUE<f&&f<b&&(c=e,b=f)}}if(c===q||Qe<b)break;g=c.X.z();e=c.ea.z();Se.j(g.c);Te.j(e.c);g.Cc(b);e.Cc(b);Ld(c,this.Ha.Md);c.Sd=
q;if(c.hc()||!c.enabled)g.c.j(Se),e.c.j(Te),T(g),T(e);else if(c.wd){g.F!=2&&(g=e);Ce(d);c=new ge;e=g;c.Gd[c.Oe++]=e;for(g.fa=o;c.size>0;)if(e=c,e.ve!=e.Oe?(g=e.Gd[e.ve],delete e.Gd[e.ve],e.ve++,e=g):e=k,d.Te(e),e.vb||Md(e,o),e.F==2){for(g=e.U;g;g=g.next){if(d.Ae==32)break;if(!g.Ea.fa&&!g.Ea.hc()&&g.Ea.enabled&&g.Ea.wd&&(d.Mb.push(g.Ea),g.Ea.fa=o,!g.ha.fa)){if(g.ha.F!=0)g.ha.Cc(b),Md(g.ha,o),f=g.ha,c.Gd[c.Oe++]=f;g.ha.fa=o}}for(e=e.ka;e;e=e.next)if(d.sf!=32&&!e.Yb.fa&&e.ha.Gc()&&(d.Ia.push(e.Yb),e.Yb.fa=
o,!e.ha.fa)){if(e.ha.F!=0)e.ha.Cc(b),Md(e.ha,o),g=e.ha,c.Gd[c.Oe++]=g;e.ha.fa=o}}c=new ue;c.gc=r;c.Y=(1-b)*a.Y;c.ub=1/c.Y;c.Ra=0;c.ae=a.ae;c.Yd=a.Yd;d.Tf(c);for(b=0;b<d.$b.length;b++)if(d.$b[b].fa=r,d.$b[b].vb&&d.$b[b].F==2){Me(d.$b[b]);for(g=d.$b[b].U;g;g=g.next)g.Ea.Sd=q}for(b=0;b<d.Ae;b++)d.Mb[b].fa=r,d.Mb[b].Sd=q;for(b=0;b<d.sf;b++)d.Ia[b].fa=r;fe(this.Ha)}}};
function Ue(a,c,b,d){if(c instanceof Qd)a.Ma.Uh(I(b,c.ba),c.Q,b.d.a,d);else if(c instanceof Q){for(var e=0,g=c.Lg(),c=c.r,f=[],e=0;e<g;e++)f[e]=I(b,c[e]);a.Ma.Vh(f,g,d)}}var Sb=new Gc,Se=new Gd,Te=new Gd,Ve=new se(0.5,0.8,0.8);function We(a){this.Qg=Xe++;this.position=a.da();this.Ya=0;this.Hg=[];this.ne=[];this.Ue=[];this.ke=[];this.body=q}var Xe=0;function Ye(a,c,b){this.Bg=[];this.Da=[];this.Qj=0;this.yg={};this.ta=a;this.Xa=new F(c.x,c.y);this.ia=new Oe(b,o);this.ia.Ha.kg=this;this.ia.Ha.Md=this;this.top=W(this,new F(this.Xa.x+5,5),new F(this.Xa.x/2,-2.5),r,q,{sb:0});this.bottom=W(this,new F(this.Xa.x+5,5),new F(this.Xa.x/2,this.Xa.y+2.5),r,q,{sb:0});this.left=W(this,new F(5,this.Xa.y+5),new F(-2.5,this.Xa.y/2),r,q,{sb:0});this.right=W(this,new F(5,this.Xa.y+5),new F(this.Xa.x+2.5,this.Xa.y/2),r,q,{sb:0})}u=Ye.prototype;
u.update=function(a,c){Re(this.ia,c,Ze,Ze);for(var b=this.ia.Gb.Fb[me];b;b=b.next){var d=b.z();d.rf.O();d.vg=0}b=this.Bg;this.Bg=[];if(b.length>0)for(d=0;d<b.length;d++)b[d].call(this)};u.Wb=function(a,c){if(!a.hc()&&!c.hc())for(var b=0;b<this.Da.length;b++)if(this.Da[b].Wb&&!this.Da[b].Wb(a,c))return r;return Lc.prototype.Wb(a,c)};
u.be=function(a){for(var c=a.X,b=c.z(),d=b.object,e=a.ea,g=e.z(),f=g.object,h=0;h<d.ne.length;h++)d.ne[h](a,d,b,c,f,g,e);for(h=0;h<f.ne.length;h++)f.ne[h](a,f,g,e,d,b,c);for(h=0;h<this.Da.length;h++)if(this.Da[h].Rg&&this.Da[h].Rg(a),a.disabled)a.enabled=r;for(h=0;h<d.Ue.length;h++)d.Ue[h](a,d,b,c,f,g,e);for(h=0;h<f.Ue.length;h++)f.Ue[h](a,f,g,e,d,b,c);for(h=0;h<this.Da.length;h++)this.Da[h].be&&this.Da[h].be(a)};
u.xd=function(a){for(var c=0;c<this.Da.length;c++)this.Da[c].xd&&this.Da[c].xd(a);a.disabled=r;a.enabled=o};u.le=function(a,c){if(a.disabled)a.enabled=r;for(var b=0;b<this.Da.length;b++)this.Da[b].le&&this.Da[b].le(a,c)};u.je=function(a,c){for(var b=a.X,d=b.z(),e=d.object,g=a.ea,f=g.z(),h=f.object,i=0;i<e.ke.length;i++)e.ke[i](a,c,e,d,b,h,f,g);for(i=0;i<h.ke.length;i++)h.ke[i](a,c,h,f,g,e,d,b);for(i=0;i<this.Da.length;i++)this.Da[i].je&&this.Da[i].je(a,c)};
function Y(a,c,b,d){d=d||0;a=$e(a,c,b,o);a.display.Rh=-10+d;return a}function W(a,c,b,d,e,g){e=e||{};e.type=0;return af(a,c,b,d,{xa:e,lc:g})}function af(a,c,b,d,e){var g=new Q;Kc(g,c.x/2,c.y/2);return a.Hb(c,b,d,g,e)}function bf(a,c,b){var d=new Q,e=new F(c.x/2,c.y/2);Jc(d,[new F(0,e.y),new F(-e.x+0.01,e.y-0.01),new F(-e.x,0),new F(-e.x+0.01,-e.y+0.01),new F(0,-e.y),new F(e.x-0.01,-e.y+0.01),new F(e.x,0),new F(e.x-0.01,e.y-0.01)]);return a.Hb(c,b,o,d,{xa:{Lc:o},lc:{zc:0}})}
function cf(a,c){a.ia.qd?a.Bg.push(c):c.apply(a)}u.Hb=function(a,c,b,d,e){var g=$e(this,a,c,b);cf(this,function(){var a=e,a=a||{},b=df(a.xa,ef),i=new Id;i.type=b.type;i.Ya=b.Ya;i.Lc=b.Lc;i.position=c;b=Pe(this.ia,i);a=ff(b,d,a);g.body=b;g.df=a;b.object=g});return g};function $e(a,c,b,d){b=new We(b);a.yg[b.Qg]=b;d!==r&&dc(b,c);return b}
function ff(a,c,b){var b=b||{},d=df(b.lc,gf),b=new hc;b.se=d.se;b.sb=d.sb;b.zc=d.zc;b.hf=d.hf;b.shape=c;M(!a.Wa.qd);c=new Ge;c.Pb(a,a.e,b);a.qh&&c.ce(a.Wa.Ha.nd,a.e);c.K=a.pc;a.pc=c;a.vh++;c.jg=a;if(c.of>0&&(a.q=0,a.l=0,a.nc=0,a.v=0,a.c.p.O(),!(a.F==0||a.F==1))){b=new F(0,0);for(d=a.pc;d;d=d.K)if(d.of!=0){var e=d.Kg();a.q+=e.Xc;b.x+=e.fd.x*e.Xc;b.y+=e.fd.y*e.Xc;a.nc+=e.fe}a.q>0?(a.l=1/a.q,b.x*=a.l,b.y*=a.l):(a.q=1,a.l=1);a.nc>0&&!a.Vi?(a.nc-=a.q*(b.x*b.x+b.y*b.y),a.nc*=a.Zi,M(a.nc>0),a.v=1/a.nc):
(a.nc=0,a.v=0);d=a.c.g.da();a.c.p.m(b);a.c.Ca.m(I(a.e,a.c.p));a.c.g.m(a.c.Ca);a.h.x+=a.t*-(a.c.g.y-d.y);a.h.y+=a.t*+(a.c.g.x-d.x)}a.Wa.tg=o;return c}
function hf(a,c){cf(a,function(){if(c.body){var a=this.ia,d=c.body;M(!a.qd);for(var e=d.ka;e;){var g=e,e=e.next;a.pf&&a.pf.Hj(g.Yb);var f=a,h=g.Yb,i=h.sh;if(h.jb)h.jb.K=h.K;if(h.K)h.K.jb=h.jb;if(h==f.ka)f.ka=h.K;var g=h.s,j=h.u;Md(g,o);Md(j,o);if(h.Ua.oa)h.Ua.oa.next=h.Ua.next;if(h.Ua.next)h.Ua.next.oa=h.Ua.oa;if(h.Ua==g.ka)g.ka=h.Ua.next;h.Ua.oa=q;h.Ua.next=q;if(h.Va.oa)h.Va.oa.next=h.Va.next;if(h.Va.next)h.Va.next.oa=h.Va.oa;if(h.Va==j.ka)j.ka=h.Va.next;h.Va.oa=q;h.Va.next=q;f.sf--;if(!i)for(f=
j.U;f;){if(f.ha==g)f.Ea.cf=o;f=f.next}}for(e=d.nf;e;)f=e,e=e.Pj,re(f.Ij,d);for(e=d.U;e;)f=e,e=e.next,a.Ha.Ec(f.Ea);d.U=q;for(e=d.pc;e;)f=e,e=e.K,a.pf&&a.pf.Gj(f),f.de(a.Ha.nd),f.Ec();d.pc=q;d.vh=0;re(a.Gb,d)}delete this.yg[c.Qg]})}function jf(a,c,b){cf(a,function(){if(c.body){var a=c.body;Ke(a,b,a.Tb())}else c.position=b.da()})}var Ze=10,gf={se:0.1,sb:0.6,zc:0.01,hf:r},ef={Lc:r,Ya:0,type:2};function df(a,c){var a=a||{},b={},d;for(d in c)b[d]=a[d]===k||a[d]===q?c[d]:a[d];return b};function kf(a){this.ta=a}function lf(a,c,b,d,e){var g=new F(4,4);dc(c.body,b);H(c,"../external-resources/graphics/urbansquall_tileset/characters/princess_AP.png",d);c.display.Ff=new Tb("../external-resources/graphics/urbansquall_tileset/characters/princess_AP.png",d,g,e);c.display.Xb={};c.display.Xb.Lj=e;c.display.Xb.Ci=4;c.display.Xb.Mc=0;c.display.Xb.hb={n:mf,x:mf,y:nf};a=a.ta.Zg;c.Hg.push(of);Ja(a.Gg,c)}var mf=0,nf=2;
function of(a,c){var b=this.display.Xb;b.Mc+=c;var d=new F(1,1),e=this.body.h,g=Math.abs(e.x),f=Math.abs(e.y);if(f<0.01||g>=f){if(e.x>0.01){if(b.hb.x=mf,b.hb.n!=mf)b.hb.n=mf,b.Mc=0}else if(e.x<-0.01){if(b.hb.x=1,b.hb.n!=1)b.hb.n=1,b.Mc=0}else b.Mc=0;d.y=b.hb.x==1?4:2}else if(e.y>0.01){b.hb.y=3;if(b.hb.n!=3)b.hb.n=3,b.Mc=0;d.y=3}else{b.hb.y=nf;if(b.hb.n!=nf)b.hb.n=nf,b.Mc=0;d.y=1}d.x=b.Mc==0?1:Math.floor(b.Mc*b.Ci);b=this.display.Ff;b.lb=d.da();b.lb.x%=b.Ef.x;b.lb.y%=b.Ef.y;if(b.lb.x===0)b.lb.x=b.Ef.x;
if(b.lb.y===0)b.lb.y=b.Ef.y};function pf(){this.Gg=[]};function qf(a,c,b,d,e,g,f){this.$c=a;this.paused=r;this.Re=0;this.Zg=new pf;this.Xb=new kf(this);this.o=new Ye(this,b,d);this.viewport=new Yb(this,c,g,e,f)}function rf(a){if(a.nh===q)a.nh=new Date;var c=new Date-a.nh>=5E3;Gb>0&&!c?setTimeout(function(){rf(a)},50):(c&&alert("It appears to be taking a long time to load the game's images. You may experience some invisible objects until they finish loading, but the game will now start."),a.start())}
qf.prototype.update=function(a,c){if(this.paused)this.Re=0,ac(this.viewport.Hh),this.$c.Se&&this.$c.Se(a,c);else{this.$c.Le&&this.$c.Le(a,c);for(var b=this.Zg,d=0;d<b.Gg.length;d++)for(var e=b.Gg[d],g=0;g<e.Hg.length;g++)e.Hg[g].apply(e,[a,c]);this.Re+=c;for(b=a-this.Re;this.Re>=0.015;)this.Re-=0.015,b+=0.015,this.$c.tj&&this.$c.tj(b,0.015),this.o.update(b,0.015);this.$c.Ke&&this.$c.Ke(a,c);cc(this.viewport.Hh);b=this.viewport;b.display.style.visibility="hidden";if(b.jf.x!=b.ya.x||b.jf.y!=b.ya.y){b.jf.x=
b.ya.x;b.jf.y=b.ya.y;if(b.ab!==q)b.ab.style.left="-"+(b.ya.x*b.scale-b.zb.x/2)+"px",b.ab.style.top="-"+(b.ya.y*b.scale-b.zb.y/2)+"px";b.display.style.left="-"+(b.ya.x*b.scale-b.zb.x/2)+"px";b.display.style.top="-"+(b.ya.y*b.scale-b.zb.y/2)+"px";d=b.Jf;e=b.ya;g=Vb(d);d.lowerBound.Uf(g);d.upperBound.Uf(g);d.lowerBound.Ob(e);d.upperBound.Ob(e)}var d=[],f;for(f in b.kc)d[f]=b.kc[f];f=b.Jf;var e=b.ta.o.yg,h;for(h in e){var i=e[h];if(i.display){var j=i.display,l=i.Ei(b.ya),m=j.size;j.J.lowerBound.j(l.x-
m.x,l.y-m.y);j.J.upperBound.j(l.x+m.x,l.y+m.y);if(f.Bd(j.J)){if(j.ad==q)j.ad=ec++;delete d[j.ad];if(b.kc[j.ad]==q)b.kc[j.ad]=document.createElement("span"),b.kc[j.ad].className="gameObject",b.kc[j.ad].style.zIndex=100+(j.Rh||0),b.display.appendChild(b.kc[j.ad]);var g=b.kc[j.ad],n=Ib(g),p=b.scale!=n.scale;n.scale=b.scale;var t=l.x-m.x/2;if(p||n.left!=t)n.left=t,g.style.left=t*b.scale+"px";l=l.y-m.y/2;if(p||n.top!=l)n.top=l,g.style.top=l*b.scale+"px";l=m.x;if(p||n.width!=l)n.width=l,g.style.width=l*
b.scale+"px";m=m.y;if(p||n.height!=m)n.height=m,g.style.height=m*b.scale+"px";i=i.Di();if(n.rotation!=i)n.rotation=i,g.style.webkitTransform="rotate("+i+"rad)";if(j.Ff!=q){j=j.Ff;n=r;i=Ib(g);if(i.mi!=j.url)i.mi=j.url,g.style.backgroundImage="url("+j.url+")",g.style.backgroundColor="transparent",n=o;else if(i.ni!=j.lb.x||i.oi!=j.lb.y)n=o;if(n)i.ni=j.lb.x,i.oi=j.lb.y,g.style.backgroundPosition=(j.Gh.x+(j.lb.x-1)*j.Nh.x)*-1+"px "+(j.Gh.y+(j.lb.y-1)*j.Nh.y)*-1+"px"}}}}for(var s in d)b.display.removeChild(d[s]),
delete b.kc[s];if(b.ab!==q){b.ab.style.visibility="hidden";h=b.ta.o.ia;if(h.Ma!==q){h.Ma.gj.Fi.clear();s=h.Ma.uh;if(s&Kb){g=new se(0.5,0.5,0.3);j=new se(0.5,0.9,0.5);n=new se(0.5,0.5,0.9);i=new se(0.6,0.6,0.6);p=new se(0.9,0.7,0.7);for(d=h.Gb.Fb[je];d;d=d.next){e=d.z();for(f=e.pc;f;f=f.K)m=f.la,e.Gc()?e.F==0?Ue(h,m,e.e,j):e.F==1?Ue(h,m,e.e,n):e.vb?Ue(h,m,e.e,p):Ue(h,m,e.e,i):Ue(h,m,e.e,g)}}if(s&Lb)for(d=h.ka;d;d=d.K)f=h,e=d,e instanceof Fe?f.Ma.Fc(e.Rb(),e.Sb(),Ve):e instanceof Oc?(f.Ma.Fc(Qc(e),
e.Rb(),Ve),f.Ma.Fc(Rc(e),e.Sb(),Ve),f.Ma.Fc(Qc(e),Rc(e),Ve)):(e.s!=f.pg&&f.Ma.Fc(e.s.e.position,e.Rb(),Ve),f.Ma.Fc(e.Rb(),e.Sb(),Ve),e.u!=f.pg&&f.Ma.Fc(e.u.e.position,e.Sb(),Ve));if(s&Pb)for(d=h.nf;d;d=d.K)d.Dj(h.Ma);if(s&Nb){d=new se(0.3,0.9,0.9);for(f=h.Ha.U;f;f=f.K)h.Ma.Fc(Vb(f.X.Nc),Vb(f.ea.Nc),d)}if(s&Mb){g=new se(0,0,0.8);for(d=h.Gb.Fb[qe];d;d=d.next){e=d.z();for(f=e.pc;f;f=f.K)e=h.Ha.nd.yd(f.Uc),h.Ma.Th([new F(e.lowerBound.x,e.lowerBound.y),new F(e.upperBound.x,e.lowerBound.y),new F(e.upperBound.x,
e.upperBound.y),new F(e.lowerBound.x,e.upperBound.y)],g)}}if(s&Ob)for(d=h.Gb.Fb[je];d;d=d.next)e=d.z(),Sb.d=e.e.d,Sb.position=U(e),h.Ma.Wh()}b.ab.style.visibility=""}b.display.style.visibility=""}};qf.prototype.start=function(){cc(this.viewport.gg);Ja(sf,this);tf||(uf=document.getElementById("fps"),tf=o,vf())};var tf=r,sf=[],wf=60,xf=q,uf=q;
function vf(a){a==q&&(a=(new Date).getTime());var c=0;xf!==q?c=(a-xf)/1E3:xf=a;if(c>0){c>0.2&&(c=0.2);if(uf){for(var b=0,d=0,e=0;e<sf.length;e++)b+=sf[e].o.ia.Nf(),d+=sf[e].o.ia.Ha.Ae;e=1/c;wf=wf*0.99+e*0.01;uf.innerHTML=Math.round(e)+" FPS<br>"+Math.round(wf)+" Rolling FPS<br>"+b+" World Objects<br>"+d+" Active Contacts"}xf=a;for(e=0;e<sf.length;e++)sf[e].update(a,c);for(var g in yb)yb[g].Qh=o;tb=sb;vb=ub;xb=wb}fc(vf,document.body)};function yf(){this.type=0;this.W=this.T=q;this.$f=r};function zf(){yf.call(this);this.ef=new F(0,0);this.ff=new F(0,0);this.Sa=new F(0,0);this.Ta=new F(0,0);this.type=4;this.ef.j(-1,1);this.ff.j(1,1);this.Sa.j(-1,0);this.Ta.j(1,0);this.Eh=this.fg=this.Dh=this.eg=0;this.Yc=1;this.$f=o}z(zf,yf);
zf.prototype.V=function(a,c,b,d,e,g,f){f===k&&(f=0);this.T=a;this.W=c;this.ef.m(b);this.ff.m(d);this.Sa=pc(this.T.e,e);this.Ta=pc(this.W.e,g);a=e.x-b.x;b=e.y-b.y;this.eg=Math.sqrt(a*a+b*b);b=g.x-d.x;d=g.y-d.y;this.fg=Math.sqrt(b*b+d*d);this.Yc=f;f=this.eg+this.Yc*this.fg;this.Dh=f-this.Yc*Pc;this.Eh=(f-Pc)/this.Yc};zf.prototype.Pb=function(){return new Oc(this)};function Z(a,c,b){this.x=a;this.y=c;this.k=b}u=Z.prototype;u.O=function(){this.k=this.y=this.x=0};u.j=function(a,c,b){this.x=a;this.y=c;this.k=b};u.m=function(a){this.x=a.x;this.y=a.y;this.k=a.k};u.Bb=function(){return new Z(-this.x,-this.y,-this.k)};u.Ng=function(){this.x=-this.x;this.y=-this.y;this.k=-this.k};u.da=function(){return new Z(this.x,this.y,this.k)};u.Ob=function(a){this.x+=a.x;this.y+=a.y;this.k+=a.k};u.Uf=function(a){this.x-=a.x;this.y-=a.y;this.k-=a.k};
u.ic=function(a){this.x*=a;this.y*=a;this.k*=a};function Af(a,c,b){this.a=new Z(0,0,0);this.b=new Z(0,0,0);this.H=new Z(0,0,0);a&&this.a.m(a);c&&this.b.m(c);b&&this.H.m(b)}u=Af.prototype;u.da=function(){return new Af(this.a,this.b,this.H)};u.zd=function(a){this.a.m(a.a);this.b.m(a.b);this.H.m(a.H)};u.Kf=function(a){this.a.x+=a.a.x;this.a.y+=a.a.y;this.a.k+=a.a.k;this.b.x+=a.b.x;this.b.y+=a.b.y;this.b.k+=a.b.k;this.H.x+=a.H.x;this.H.y+=a.H.y;this.H.k+=a.H.k};u.Ye=function(){this.a.j(1,0,0);this.b.j(0,1,0);this.H.j(0,0,1)};
u.O=function(){this.a.j(0,0,0);this.b.j(0,0,0);this.H.j(0,0,0)};function Bf(a,c,b,d){var e=a.a.x,g=a.b.x,f=a.a.y,a=a.b.y,h=e*a-g*f;h!=0&&(h=1/h);c.x=h*(a*b-g*d);c.y=h*(e*d-f*b);return c}function Cf(a,c,b,d,e){var g=a.a.x,f=a.a.y,h=a.a.k,i=a.b.x,j=a.b.y,l=a.b.k,m=a.H.x,n=a.H.y,a=a.H.k,p=g*(j*a-l*n)+f*(l*m-i*a)+h*(i*n-j*m);p!=0&&(p=1/p);c.x=p*(b*(j*a-l*n)+d*(l*m-i*a)+e*(i*n-j*m));c.y=p*(g*(d*a-e*n)+f*(e*m-b*a)+h*(b*n-d*m));c.k=p*(g*(j*e-l*d)+f*(l*b-i*e)+h*(i*d-j*b));return c};function Df(a){R.call(this,a);this.B=new F(0,0);this.C=new F(0,0);this.Sc=new F(0,0);this.uf=new F(0,0);this.D=new F(0,0);this.qa=new F(0,0);this.P=new Af;this.i=new Z(0,0,0);this.B.m(a.Sa);this.C.m(a.Ta);this.Sc.m(a.hg);this.uf.x=-this.Sc.y;this.uf.y=this.Sc.x;this.fj=a.Zc;this.i.O();this.ua=this.dc=0;this.Od=a.ph;this.Td=a.Oh;this.dj=a.kj;this.sg=a.xg;this.od=a.bf;this.Be=a.bg;this.aa=0;this.D.O();this.qa.O()}z(Df,R);u=Df.prototype;u.Rb=function(){return S(this.s,this.B)};
u.Sb=function(){return S(this.u,this.C)};function Ef(a){var c=a.s,b=a.u,d=S(c,a.B),b=S(b,a.C),a=nc(c.e.d,a.Sc);return a.x*(b.x-d.x)+a.y*(b.y-d.y)}
u.Ub=function(a){var c=this.s,b=this.u,d,e=0;this.Ee.m(c.c.p);this.Fe.m(b.c.p);var g=c.gb();b.gb();d=c.e.d;var f=this.B.x-this.Ee.x,h=this.B.y-this.Ee.y,e=d.a.x*f+d.b.x*h,h=d.a.y*f+d.b.y*h,f=e;d=b.e.d;var i=this.C.x-this.Fe.x,j=this.C.y-this.Fe.y,e=d.a.x*i+d.b.x*j,j=d.a.y*i+d.b.y*j,i=e;d=b.c.g.x+i-c.c.g.x-f;e=b.c.g.y+j-c.c.g.y-h;this.xb=c.l;this.yb=b.l;this.Oc=c.v;this.Pc=b.v;this.D.m(nc(g.d,this.Sc));this.Ka=(d+f)*this.D.y-(e+h)*this.D.x;this.La=i*this.D.y-j*this.D.x;this.dc=this.xb+this.yb+this.Oc*
this.Ka*this.Ka+this.Pc*this.La*this.La;if(this.dc>Number.MIN_VALUE)this.dc=1/this.dc;this.qa.m(nc(g.d,this.uf));this.Na=(d+f)*this.qa.y-(e+h)*this.qa.x;this.Oa=i*this.qa.y-j*this.qa.x;g=this.xb;f=this.yb;h=this.Oc;i=this.Pc;this.P.a.x=g+f+h*this.Na*this.Na+i*this.Oa*this.Oa;this.P.a.y=h*this.Na+i*this.Oa;this.P.a.k=h*this.Na*this.Ka+i*this.Oa*this.La;this.P.b.x=this.P.a.y;this.P.b.y=h+i;this.P.b.k=h*this.Ka+i*this.La;this.P.H.x=this.P.a.k;this.P.H.y=this.P.b.k;this.P.H.k=g+f+h*this.Ka*this.Ka+i*
this.La*this.La;if(this.od)if(d=this.D.x*d+this.D.y*e,Math.abs(this.Td-this.Od)<0.01)this.aa=3;else if(d<=this.Od){if(this.aa!=1)this.aa=1,this.i.k=0}else if(d>=this.Td){if(this.aa!=2)this.aa=2,this.i.k=0}else this.aa=0,this.i.k=0;else this.aa=0;if(this.Be==r)this.ua=0;a.gc?(this.i.x*=a.Ra,this.i.y*=a.Ra,this.ua*=a.Ra,a=this.i.x*this.qa.x+(this.ua+this.i.k)*this.D.x,d=this.i.x*this.qa.y+(this.ua+this.i.k)*this.D.y,e=this.i.x*this.Na+this.i.y+(this.ua+this.i.k)*this.Ka,g=this.i.x*this.Oa+this.i.y+
(this.ua+this.i.k)*this.La,c.h.x-=this.xb*a,c.h.y-=this.xb*d,c.t-=this.Oc*e,b.h.x+=this.yb*a,b.h.y+=this.yb*d,b.t+=this.Pc*g):(this.i.O(),this.ua=0)};
u.Eb=function(a){var c=this.s,b=this.u,d=c.h,e=c.t,g=b.h,f=b.t,h=0,i=0,j=0,l=0;if(this.Be&&this.aa!=3)l=this.dc*(this.sg-(this.D.x*(g.x-d.x)+this.D.y*(g.y-d.y)+this.La*f-this.Ka*e)),h=this.ua,i=a.Y*this.dj,this.ua=L(this.ua+l,-i,i),l=this.ua-h,h=l*this.D.x,i=l*this.D.y,j=l*this.Ka,l*=this.La,d.x-=this.xb*h,d.y-=this.xb*i,e-=this.Oc*j,g.x+=this.yb*h,g.y+=this.yb*i,f+=this.Pc*l;i=this.qa.x*(g.x-d.x)+this.qa.y*(g.y-d.y)+this.Oa*f-this.Na*e;j=f-e;if(this.od&&this.aa!=0){a=this.D.x*(g.x-d.x)+this.D.y*
(g.y-d.y)+this.La*f-this.Ka*e;h=this.i.da();a=Cf(this.P,new Z(0,0,0),-i,-j,-a);this.i.Ob(a);if(this.aa==1)this.i.k=Math.max(this.i.k,0);else if(this.aa==2)this.i.k=Math.min(this.i.k,0);i=Bf(this.P,new F(0,0),-i-(this.i.k-h.k)*this.P.H.x,-j-(this.i.k-h.k)*this.P.H.y);i.x+=h.x;i.y+=h.y;this.i.x=i.x;this.i.y=i.y;a.x=this.i.x-h.x;a.y=this.i.y-h.y;a.k=this.i.k-h.k;h=a.x*this.qa.x+a.k*this.D.x;i=a.x*this.qa.y+a.k*this.D.y;j=a.x*this.Na+a.y+a.k*this.Ka;l=a.x*this.Oa+a.y+a.k*this.La}else a=Bf(this.P,new F(0,
0),-i,-j),this.i.x+=a.x,this.i.y+=a.y,h=a.x*this.qa.x,i=a.x*this.qa.y,j=a.x*this.Na+a.y,l=a.x*this.Oa+a.y;d.x-=this.xb*h;d.y-=this.xb*i;e-=this.Oc*j;g.x+=this.yb*h;g.y+=this.yb*i;f+=this.Pc*l;c.h.m(d);c.t=e;b.h.m(g);b.t=f};
u.Db=function(){var a=this.s,c=this.u,b=a.c.g,d=a.c.n,e=c.c.g,g=c.c.n,f,h=0,i=0,j=0,l=h=f=0,m=0,i=r,n=0,p=jc(d),t=jc(g);f=p;var m=this.B.x-this.Ee.x,s=this.B.y-this.Ee.y,h=f.a.x*m+f.b.x*s,s=f.a.y*m+f.b.y*s,m=h;f=t;t=this.C.x-this.Fe.x;j=this.C.y-this.Fe.y;h=f.a.x*t+f.b.x*j;j=f.a.y*t+f.b.y*j;t=h;f=e.x+t-b.x-m;h=e.y+j-b.y-s;if(this.od){this.D=nc(p,this.Sc);this.Ka=(f+m)*this.D.y-(h+s)*this.D.x;this.La=t*this.D.y-j*this.D.x;var v=this.D.x*f+this.D.y*h;Math.abs(this.Td-this.Od)<0.01?(n=L(v,-0.2,0.2),
l=Math.abs(v),i=o):v<=this.Od?(n=L(v-this.Od+0.005,-0.2,0),l=this.Od-v,i=o):v>=this.Td&&(n=L(v-this.Td+0.005,0,0.2),l=v-this.Td,i=o)}this.qa=nc(p,this.uf);this.Na=(f+m)*this.qa.y-(h+s)*this.qa.x;this.Oa=t*this.qa.y-j*this.qa.x;p=new Z(0,0,0);s=this.qa.x*f+this.qa.y*h;t=g-d-this.fj;l=Math.max(l,Math.abs(s));m=Math.abs(t);i?(i=this.xb,j=this.yb,f=this.Oc,h=this.Pc,this.P.a.x=i+j+f*this.Na*this.Na+h*this.Oa*this.Oa,this.P.a.y=f*this.Na+h*this.Oa,this.P.a.k=f*this.Na*this.Ka+h*this.Oa*this.La,this.P.b.x=
this.P.a.y,this.P.b.y=f+h,this.P.b.k=f*this.Ka+h*this.La,this.P.H.x=this.P.a.k,this.P.H.y=this.P.b.k,this.P.H.k=i+j+f*this.Ka*this.Ka+h*this.La*this.La,Cf(this.P,p,-s,-t,-n)):(i=this.xb,j=this.yb,f=this.Oc,h=this.Pc,n=f*this.Na+h*this.Oa,v=f+h,this.P.a.j(i+j+f*this.Na*this.Na+h*this.Oa*this.Oa,n,0),this.P.b.j(n,v,0),n=Bf(this.P,new F(0,0),-s,-t),p.x=n.x,p.y=n.y,p.k=0);n=p.x*this.qa.x+p.k*this.D.x;i=p.x*this.qa.y+p.k*this.D.y;s=p.x*this.Na+p.y+p.k*this.Ka;p=p.x*this.Oa+p.y+p.k*this.La;b.x-=this.xb*
n;b.y-=this.xb*i;d-=this.Oc*s;e.x+=this.yb*n;e.y+=this.yb*i;g+=this.Pc*p;a.c.n=d;c.c.n=g;T(a);T(c);return l<=0.005&&m<=qc};function Ff(){yf.call(this);this.Sa=new F(0,0);this.Ta=new F(0,0);this.hg=new F(0,0);this.type=2;this.hg.j(1,0);this.Zc=0;this.bf=r;this.Oh=this.ph=0;this.bg=r;this.xg=this.kj=0}z(Ff,yf);Ff.prototype.V=function(a,c,b,d){this.T=a;this.W=c;this.Sa=pc(this.T.e,b);this.Ta=pc(this.W.e,b);this.hg=oc(this.T.e.d,d);this.Zc=this.W.Tb()-this.T.Tb()};Ff.prototype.Pb=function(){return new Df(this)};function Gf(a,c,b){this.execute=a;this.name=c;this.Bi=b};function $(a){this.ta=a;this.ta.o.Da.push(this)}
$.prototype.qb=function(a,c){var b=bf(this.ta.o,a,c);$.Ji(b);$.Li(b);$.Ki(b);var d=new Q,e=new F(a.x/2,a.y/2);Ic(d,[new F(-e.x+0.01,e.y-0.01),new F(-e.x-0.01,0),new F(-e.x+0.01,-e.y+0.01),new F(e.x-0.01,-e.y+0.01),new F(e.x+0.01,0),new F(e.x-0.01,e.y-0.01)]);b.Jj=ff(b.body,d,{lc:{sb:0}});b.wa={};b.wa.Bf=new Gf(function(){b.f.mc.Mi()},"Move Up",o);b.wa.Af=new Gf(aa(),"Move Down",o);b.wa.Ud=new Gf(function(){b.f.Wd.Ud()},"Move Left",o);b.wa.Vd=new Gf(function(){b.f.Wd.Vd()},"Move Right",o);return b};
(function(a){a.ob=0.1;a.Cj=new F(0,9.8);a.Dc={We:new F(0,9.8),Yh:1.5,Og:8,bi:1};a.Vb={Sh:1,Xh:2,$h:4,Bj:8,Jg:16,Mg:32,Lf:64};a.Zh={ai:1,Aj:2,Ej:4};a.S={Ad:1,bd:2,nb:4,cd:8};a.dg=function(c,b){c.f=c.f||{};c.f.type|=a.Vb.Sh;c.f.af={qj:b&a.S.Ad,nj:b&a.S.nb,oj:b&a.S.bd,pj:b&a.S.cd};c.ne.push(function(b,c,g,f,h,i,j){if(!b.disabled)if(b.disabled=o,g=new te,Kd(b,g),g=g.L,b.X==j&&(g=g.Bb()),!c.f.af.qj&&g.y<-a.ob)b.disabled=r;else if(!c.f.af.nj&&g.y>a.ob)b.disabled=r;else if(!c.f.af.pj&&g.x>a.ob)b.disabled=
r;else if(!c.f.af.oj&&g.x<-a.ob)b.disabled=r})};a.Ji=function(c){var b=$.Dc.Og;c.f=c.f||{};c.f.type|=a.Vb.Xh;c.f.mc={ld:[],speed:b,Mi:function(){var b=c.f.mc.ld;if(b.length>0){var e=c.body.q*c.f.mc.speed*a.Dc.Yh,g=U(c.body),f=c.body.h;f.y=0;var h=c.body;h.F!=0&&h.h.m(f);Le(c.body,new F(0,-e),g);for(f=0;f<b.length;f++)Le(b[f].z(),new F(0,e/b.length),g)}}};c.ke.push(function(a,b,c,f,h,i,j,l){if(!a.disabled)if(b=new te,Kd(a,b),b=b.L,a.X==l&&(b=b.Bb()),b.y>0.5){if(!(Ia(c.f.mc.ld,l)>=0))Ja(c.f.mc.ld,l),
a.vd=a.vd||[],Ja(a.vd,c)}else Ia(c.f.mc.ld,l)>=0&&(Ka(c.f.mc.ld,l),Ka(a.vd,c))})};a.Li=function(c){var b=$.Dc.Og,d=$.Dc.bi;c.f=c.f||{};c.f.type|=a.Vb.$h;c.f.Wd={Yg:d,speed:b,Vd:function(){var a=c.body.h,a=Math.min(a.x+c.f.Wd.Yg,c.f.Wd.speed)-a.x;a>0&&Le(c.body,new F(c.body.q*a,0),U(c.body))},Ud:function(){var a=c.body.h,a=Math.max(a.x-c.f.Wd.Yg,-c.f.Wd.speed)-a.x;a<0&&Le(c.body,new F(c.body.q*a,0),U(c.body))}}};a.Hd=function(c,b,d,e){c.f=c.f||{};c.f.type|=a.Vb.Lf;c.f.w=c.f.w||{};if(d&a.S.Ad)c.f.w.cg=
o,c.f.w.Pe=c.f.w.Pe||[],c.f.w.Pe.push(b);if(d&a.S.nb)c.f.w.cg=o,c.f.w.oe=c.f.w.oe||[],c.f.w.oe.push(b);if(d&a.S.bd)c.f.w.cg=o,c.f.w.we=c.f.w.we||[],c.f.w.we.push(b);if(d&a.S.cd)c.f.w.cg=o,c.f.w.Me=c.f.w.Me||[],c.f.w.Me.push(b);if(e&a.S.Ad)c.f.w.gf=o,c.f.w.Qe=c.f.w.Qe||[],c.f.w.Qe.push(b);if(e&a.S.nb)c.f.w.gf=o,c.f.w.pe=c.f.w.pe||[],c.f.w.pe.push(b);if(e&a.S.bd)c.f.w.gf=o,c.f.w.xe=c.f.w.xe||[],c.f.w.xe.push(b);if(e&a.S.cd)c.f.w.gf=o,c.f.w.Ne=c.f.w.Ne||[],c.f.w.Ne.push(b)};a.Ii=function(c,b){c.f=c.f||
{};c.f.type|=a.Vb.Jg;c.f.ag={uj:b,filter:0}};a.Ki=function(c){var b=$.Zh.ai;c.f=c.f||{};c.f.type|=a.Vb.Mg;c.f.Pi={filter:b}};a.prototype.Wb=q;a.prototype.Rg=q;a.prototype.be=function(a){if(!a.disabled){var b=a.X,d=b.z().object,e=a.ea,g=e.z().object;d&&g&&(d.f&&this.Sg(a,d,g,e),g.f&&this.Sg(a,g,d,b))}};a.prototype.Sg=function(c,b,d,e){if(b.f.type&a.Vb.Lf){var g=new te;Kd(c,g);g=g.L;c.X==e&&(g=g.Bb());if(g.y<-a.ob&&b.f.w.Pe)for(e=0;e<b.f.w.Pe.length;e++)b.f.w.Pe[e](c);else if(g.y>a.ob&&b.f.w.oe)for(e=
0;e<b.f.w.oe.length;e++)b.f.w.oe[e](c);if(g.x>a.ob&&b.f.w.we)for(e=0;e<b.f.w.we.length;e++)b.f.w.we[e](c);else if(g.x<-a.ob&&b.f.w.Me)for(e=0;e<b.f.w.Me.length;e++)b.f.w.Me[e](c)}b.f.type&a.Vb.Jg&&d.f&&d.f.type&a.Vb.Mg&&(b.f.ag.filter==0||b.f.ag.filter&d.f.Pi.filter)&&jf(this.ta.o,d,b.f.ag.uj)};a.prototype.xd=function(a){if(a.vd){for(var b=0;b<a.vd.length;b++){var d=a.vd[b];Ka(d.f.mc.ld,a.X);Ka(d.f.mc.ld,a.ea)}a.vd=q}if(!a.disabled){var b=a.X,d=b.z().object,e=a.ea,g=e.z().object;d&&g&&(d.f&&this.Tg(a,
d,e),g.f&&this.Tg(a,g,b))}};a.prototype.Tg=function(c,b,d){if(b.f.type&a.Vb.Lf&&b.f.w.gf){var e=new te;Kd(c,e);e=e.L;c.X==d&&(e=e.Bb());if(e.y<-a.ob&&b.f.w.Qe)for(d=0;d<b.f.w.Qe.length;d++)b.f.w.Qe[d](c);else if(e.y>a.ob&&b.f.w.pe)for(d=0;d<b.f.w.pe.length;d++)b.f.w.pe[d](c);if(e.x>a.ob&&b.f.w.xe)for(d=0;d<b.f.w.xe.length;d++)b.f.w.xe[d](c);else if(e.x<-a.ob&&b.f.w.Ne)for(d=0;d<b.f.w.Ne.length;d++)b.f.w.Ne[d](c)}};a.prototype.le=q;a.prototype.je=q;a.prototype.$a=function(a,b){return W(this.ta.o,a,
b,o)};a.prototype.Kc=function(c,b,d){c=W(this.ta.o,c,b,o,q,q);if(d===k||d===q)d=a.S.nb|a.S.bd|a.S.cd;a.dg(c,d);return c};a.prototype.Hi=function(c,b){var d=this;a.Hd(c,function(){hf(d.ta.o,c)},b,q)};a.prototype.re=function(c,b){var d,e=W(this.ta.o,c,b,o,q,q);if(d===k||d===q)d=a.S.nb;this.Hi(e,d);return e};a.prototype.ri=function(c,b,d){c=W(this.ta.o,c,b,o,q,q);a.Ii(c,d);return c}})($);function Hf(){yf.call(this);this.Sa=new F(0,0);this.Ta=new F(0,0);this.type=3;this.length=1;this.hh=this.lh=0}z(Hf,yf);Hf.prototype.V=function(a,c,b,d){this.T=a;this.W=c;this.Sa.m(pc(this.T.e,b));this.Ta.m(pc(this.W.e,d));a=d.x-b.x;b=d.y-b.y;this.length=Math.sqrt(a*a+b*b);this.hh=this.lh=0};Hf.prototype.Pb=function(){return new Fe(this)};function If(a){R.call(this,a);this.Qc=new F(0,0);this.Rc=new F(0,0);this.i=new Z(0,0,0);this.q=new Af;this.Qc.m(a.Sa);this.Rc.m(a.Ta);this.He=a.Zc}z(If,R);u=If.prototype;u.Rb=function(){return S(this.s,this.Qc)};u.Sb=function(){return S(this.u,this.Rc)};
u.Ub=function(a){var c,b=0,d=this.s,e=this.u;c=d.e.d;var g=this.Qc.x-d.c.p.x,f=this.Qc.y-d.c.p.y,b=c.a.x*g+c.b.x*f,f=c.a.y*g+c.b.y*f,g=b;c=e.e.d;var h=this.Rc.x-e.c.p.x,i=this.Rc.y-e.c.p.y,b=c.a.x*h+c.b.x*i,i=c.a.y*h+c.b.y*i,h=b;c=d.l;var b=e.l,j=d.v,l=e.v;this.q.a.x=c+b+f*f*j+i*i*l;this.q.b.x=-f*g*j-i*h*l;this.q.H.x=-f*j-i*l;this.q.a.y=this.q.b.x;this.q.b.y=c+b+g*g*j+h*h*l;this.q.H.y=g*j+h*l;this.q.a.k=this.q.H.x;this.q.b.k=this.q.H.y;this.q.H.k=j+l;a.gc?(this.i.x*=a.Ra,this.i.y*=a.Ra,this.i.k*=
a.Ra,d.h.x-=c*this.i.x,d.h.y-=c*this.i.y,d.t-=j*(g*this.i.y-f*this.i.x+this.i.k),e.h.x+=b*this.i.x,e.h.y+=b*this.i.y,e.t+=l*(h*this.i.y-i*this.i.x+this.i.k)):this.i.O()};
u.Eb=function(){var a,c=0,b=this.s,d=this.u,e=b.h,g=b.t,f=d.h,h=d.t,i=b.l,j=d.l,l=b.v,m=d.v;a=b.e.d;var n=this.Qc.x-b.c.p.x,p=this.Qc.y-b.c.p.y,c=a.a.x*n+a.b.x*p,p=a.a.y*n+a.b.y*p,n=c;a=d.e.d;var t=this.Rc.x-d.c.p.x,s=this.Rc.y-d.c.p.y,c=a.a.x*t+a.b.x*s,s=a.a.y*t+a.b.y*s,t=c;a=new Z(0,0,0);Cf(this.q,a,-(f.x-h*s-e.x+g*p),-(f.y+h*t-e.y-g*n),-(h-g));this.i.Ob(a);e.x-=i*a.x;e.y-=i*a.y;g-=l*(n*a.y-p*a.x+a.k);f.x+=j*a.x;f.y+=j*a.y;h+=m*(t*a.y-s*a.x+a.k);b.t=g;d.t=h};
u.Db=function(){var a,c=0,b=this.s,d=this.u;a=b.e.d;var e=this.Qc.x-b.c.p.x,g=this.Qc.y-b.c.p.y,c=a.a.x*e+a.b.x*g,g=a.a.y*e+a.b.y*g,e=c;a=d.e.d;var f=this.Rc.x-d.c.p.x,h=this.Rc.y-d.c.p.y,c=a.a.x*f+a.b.x*h,h=a.a.y*f+a.b.y*h,f=c;a=b.l;var c=d.l,i=b.v,j=d.v,l=d.c.g.x+f-b.c.g.x-e,m=d.c.g.y+h-b.c.g.y-g,n=d.c.n-b.c.n-this.He,p=Math.sqrt(l*l+m*m),t=Math.abs(n);p>0.05&&(i*=1,j*=1);this.q.a.x=a+c+g*g*i+h*h*j;this.q.b.x=-g*e*i-h*f*j;this.q.H.x=-g*i-h*j;this.q.a.y=this.q.b.x;this.q.b.y=a+c+e*e*i+f*f*j;this.q.H.y=
e*i+f*j;this.q.a.k=this.q.H.x;this.q.b.k=this.q.H.y;this.q.H.k=i+j;var s=new Z(0,0,0);Cf(this.q,s,-l,-m,-n);b.c.g.x-=a*s.x;b.c.g.y-=a*s.y;b.c.n-=i*(e*s.y-g*s.x+s.k);d.c.g.x+=c*s.x;d.c.g.y+=c*s.y;d.c.n+=j*(f*s.y-h*s.x+s.k);T(b);T(d);return p<=0.005&&t<=qc};function Jf(){yf.call(this);this.Sa=new F(0,0);this.Ta=new F(0,0);this.type=8;this.Zc=0}z(Jf,yf);Jf.prototype.V=function(a,c,b){this.T=a;this.W=c;this.Sa.m(pc(this.T.e,b));this.Ta.m(pc(this.W.e,b));this.Zc=this.W.Tb()-this.T.Tb()};Jf.prototype.Pb=function(){return new If(this)};function Kf(a){R.call(this,a);this.Cb=new ic;this.ge=new ic;this.he=new ic;this.ie=new ic;this.za=new Z(0,0,0);this.Ib=new F(0,0);this.fc=new F(0,0);this.B=new F(0,0);this.C=new F(0,0);this.i=new Z(0,0,0);this.q=new Af;this.B.m(a.Sa);this.C.m(a.Ta);this.He=a.Zc;this.i.O();this.ua=0;this.vf=a.Qi;this.wg=a.zj;this.ej=a.lj;this.sg=a.xg;this.od=a.bf;this.Be=a.bg;this.aa=0}z(Kf,R);u=Kf.prototype;u.Rb=function(){return S(this.s,this.B)};u.Sb=function(){return S(this.u,this.C)};
function Lf(a){return a.u.c.n-a.s.c.n-a.He}
u.Ub=function(a){var c=this.s,b=this.u,d,e=0;d=c.e.d;var g=this.B.x-c.c.p.x,f=this.B.y-c.c.p.y,e=d.a.x*g+d.b.x*f,f=d.a.y*g+d.b.y*f,g=e;d=b.e.d;var h=this.C.x-b.c.p.x,i=this.C.y-b.c.p.y,e=d.a.x*h+d.b.x*i,i=d.a.y*h+d.b.y*i,h=e;d=c.l;var e=b.l,j=c.v,l=b.v;this.q.a.x=d+e+f*f*j+i*i*l;this.q.b.x=-f*g*j-i*h*l;this.q.H.x=-f*j-i*l;this.q.a.y=this.q.b.x;this.q.b.y=d+e+g*g*j+h*h*l;this.q.H.y=g*j+h*l;this.q.a.k=this.q.H.x;this.q.b.k=this.q.H.y;this.q.H.k=j+l;this.dc=1/(j+l);if(!this.Be)this.ua=0;if(this.od){var m=
b.c.n-c.c.n-this.He;if(Math.abs(this.wg-this.vf)<2*qc)this.aa=3;else if(m<=this.vf){if(this.aa!=1)this.i.k=0;this.aa=1}else if(m>=this.wg){if(this.aa!=2)this.i.k=0;this.aa=2}else this.aa=0,this.i.k=0}else this.aa=0;a.gc?(this.i.x*=a.Ra,this.i.y*=a.Ra,this.ua*=a.Ra,a=this.i.x,m=this.i.y,c.h.x-=d*a,c.h.y-=d*m,c.t-=j*(g*m-f*a+this.ua+this.i.k),b.h.x+=e*a,b.h.y+=e*m,b.t+=l*(h*m-i*a+this.ua+this.i.k)):(this.i.O(),this.ua=0)};
u.Eb=function(a){var c=this.s,b=this.u,d=0,e=d=0,g=0,f=0,h=0,i=c.h,j=c.t,l=b.h,m=b.t,n=c.l,p=b.l,t=c.v,s=b.v;if(this.Be&&this.aa!=3)e=this.dc*-(m-j-this.sg),g=this.ua,f=a.Y*this.ej,this.ua=L(this.ua+e,-f,f),e=this.ua-g,j-=t*e,m+=s*e;if(this.od&&this.aa!=0){var a=c.e.d,e=this.B.x-c.c.p.x,g=this.B.y-c.c.p.y,d=a.a.x*e+a.b.x*g,g=a.a.y*e+a.b.y*g,e=d,a=b.e.d,f=this.C.x-b.c.p.x,h=this.C.y-b.c.p.y,d=a.a.x*f+a.b.x*h,h=a.a.y*f+a.b.y*h,f=d,a=l.x+-m*h-i.x- -j*g,v=l.y+m*f-i.y-j*e;Cf(this.q,this.za,-a,-v,-(m-j));
if(this.aa==3)this.i.Ob(this.za);else if(this.aa==1){if(d=this.i.k+this.za.k,d<0)Bf(this.q,this.fc,-a,-v),this.za.x=this.fc.x,this.za.y=this.fc.y,this.za.k=-this.i.k,this.i.x+=this.fc.x,this.i.y+=this.fc.y,this.i.k=0}else if(this.aa==2&&(d=this.i.k+this.za.k,d>0))Bf(this.q,this.fc,-a,-v),this.za.x=this.fc.x,this.za.y=this.fc.y,this.za.k=-this.i.k,this.i.x+=this.fc.x,this.i.y+=this.fc.y,this.i.k=0;i.x-=n*this.za.x;i.y-=n*this.za.y;j-=t*(e*this.za.y-g*this.za.x+this.za.k);l.x+=p*this.za.x;l.y+=p*this.za.y;
m+=s*(f*this.za.y-h*this.za.x+this.za.k)}else a=c.e.d,e=this.B.x-c.c.p.x,g=this.B.y-c.c.p.y,d=a.a.x*e+a.b.x*g,g=a.a.y*e+a.b.y*g,e=d,a=b.e.d,f=this.C.x-b.c.p.x,h=this.C.y-b.c.p.y,d=a.a.x*f+a.b.x*h,h=a.a.y*f+a.b.y*h,f=d,Bf(this.q,this.Ib,-(l.x+-m*h-i.x- -j*g),-(l.y+m*f-i.y-j*e)),this.i.x+=this.Ib.x,this.i.y+=this.Ib.y,i.x-=n*this.Ib.x,i.y-=n*this.Ib.y,j-=t*(e*this.Ib.y-g*this.Ib.x),l.x+=p*this.Ib.x,l.y+=p*this.Ib.y,m+=s*(f*this.Ib.y-h*this.Ib.x);c.h.m(i);c.t=j;b.h.m(l);b.t=m};
u.Db=function(){var a=0,c,b=this.s,d=this.u,e=0,g=c=0,f=0,h=0;if(this.od&&this.aa!=0){var a=d.c.n-b.c.n-this.He,i=0;this.aa==3?(a=L(a-this.vf,-rc,rc),i=-this.dc*a,e=Math.abs(a)):this.aa==1?(a-=this.vf,e=-a,a=L(a+qc,-rc,0),i=-this.dc*a):this.aa==2&&(a-=this.wg,e=a,a=L(a-qc,0,rc),i=-this.dc*a);b.c.n-=b.v*i;d.c.n+=d.v*i;T(b);T(d)}c=b.e.d;i=this.B.x-b.c.p.x;a=this.B.y-b.c.p.y;g=c.a.x*i+c.b.x*a;a=c.a.y*i+c.b.y*a;i=g;c=d.e.d;var j=this.C.x-d.c.p.x,l=this.C.y-d.c.p.y,g=c.a.x*j+c.b.x*l,l=c.a.y*j+c.b.y*l,
j=g,f=d.c.g.x+j-b.c.g.x-i,h=d.c.g.y+l-b.c.g.y-a,m=f*f+h*h;c=Math.sqrt(m);var g=b.l,n=d.l,p=b.v,t=d.v;m>0.05*0.05&&(m=1/(g+n),f=m*-f,h=m*-h,b.c.g.x-=0.5*g*f,b.c.g.y-=0.5*g*h,d.c.g.x+=0.5*n*f,d.c.g.y+=0.5*n*h,f=d.c.g.x+j-b.c.g.x-i,h=d.c.g.y+l-b.c.g.y-a);this.ge.a.x=g+n;this.ge.b.x=0;this.ge.a.y=0;this.ge.b.y=g+n;this.he.a.x=p*a*a;this.he.b.x=-p*i*a;this.he.a.y=-p*i*a;this.he.b.y=p*i*i;this.ie.a.x=t*l*l;this.ie.b.x=-t*j*l;this.ie.a.y=-t*j*l;this.ie.b.y=t*j*j;this.Cb.zd(this.ge);this.Cb.Kf(this.he);this.Cb.Kf(this.ie);
this.Cb.me(Mf,-f,-h);f=Mf.x;h=Mf.y;b.c.g.x-=b.l*f;b.c.g.y-=b.l*h;b.c.n-=b.v*(i*h-a*f);d.c.g.x+=d.l*f;d.c.g.y+=d.l*h;d.c.n+=d.v*(j*h-l*f);T(b);T(d);return c<=0.005&&e<=qc};var Mf=new F(0,0);function Nf(){yf.call(this);this.Sa=new F(0,0);this.Ta=new F(0,0);this.type=1;this.Sa.O();this.Ta.O();this.xg=this.lj=this.zj=this.Qi=this.Zc=0;this.bg=this.bf=r}z(Nf,yf);Nf.prototype.V=function(a,c,b){this.T=a;this.W=c;this.Sa=pc(this.T.e,b);this.Ta=pc(this.W.e,b);this.Zc=this.W.Tb()-this.T.Tb()};Nf.prototype.Pb=function(){return new Kf(this)};function Of(){this.Jb=new F(0,0);this.Kb=new F(0,0)}Of.prototype.O=function(){this.Jb.O();this.dd=0;this.Kb.O();this.ed=0};Of.prototype.j=function(a,c,b,d){c===k&&(c=0);d===k&&(d=0);this.Jb.m(a);this.dd=c;this.Kb.m(b);this.ed=d};function Pf(a){R.call(this,a);this.bc=new F(0,0);this.cc=new F(0,0);this.B=new F(0,0);this.C=new F(0,0);this.ja=new Of;var c=a.Id.F,b=a.Jd.F;this.Rd=this.td=this.Qd=this.sd=q;var d=0,e=0;this.Xi=a.Id.s;this.s=a.Id.u;c==1?(this.sd=a.Id,this.bc.m(this.sd.B),this.B.m(this.sd.C),d=Lf(this.sd)):(this.Qd=a.Id,this.bc.m(this.Qd.B),this.B.m(this.Qd.C),d=Ef(this.Qd));this.Yi=a.Jd.s;this.u=a.Jd.u;b==1?(this.td=a.Jd,this.cc.m(this.td.B),this.C.m(this.td.C),e=Lf(this.td)):(this.Rd=a.Jd,this.cc.m(this.Rd.B),this.C.m(this.Rd.C),
e=Ef(this.Rd));this.na=a.Yc;this.Ld=d+this.na*e;this.i=0}z(Pf,R);u=Pf.prototype;u.Rb=function(){return S(this.s,this.B)};u.Sb=function(){return S(this.u,this.C)};
u.Ub=function(a){var c=this.Xi,b=this.Yi,d=this.s,e=this.u,g=0,f=0,h=0,i=0,j=h=0,l=0;this.ja.O();this.sd?(this.ja.dd=-1,l+=d.v):(c=c.e.d,f=this.Qd.Sc,g=c.a.x*f.x+c.b.x*f.y,f=c.a.y*f.x+c.b.y*f.y,c=d.e.d,h=this.B.x-d.c.p.x,i=this.B.y-d.c.p.y,j=c.a.x*h+c.b.x*i,i=c.a.y*h+c.b.y*i,h=j*f-i*g,this.ja.Jb.j(-g,-f),this.ja.dd=-h,l+=d.l+d.v*h*h);this.td?(this.ja.ed=-this.na,l+=this.na*this.na*e.v):(c=b.e.d,f=this.Rd.Sc,g=c.a.x*f.x+c.b.x*f.y,f=c.a.y*f.x+c.b.y*f.y,c=e.e.d,h=this.C.x-e.c.p.x,i=this.C.y-e.c.p.y,
j=c.a.x*h+c.b.x*i,i=c.a.y*h+c.b.y*i,h=j*f-i*g,this.ja.Kb.j(-this.na*g,-this.na*f),this.ja.ed=-this.na*h,l+=this.na*this.na*(e.l+e.v*h*h));this.q=l>0?1/l:0;a.gc?(d.h.x+=d.l*this.i*this.ja.Jb.x,d.h.y+=d.l*this.i*this.ja.Jb.y,d.t+=d.v*this.i*this.ja.dd,e.h.x+=e.l*this.i*this.ja.Kb.x,e.h.y+=e.l*this.i*this.ja.Kb.y,e.t+=e.v*this.i*this.ja.ed):this.i=0};
u.Eb=function(){var a=this.s,c=this.u,b=this.ja,d=a.h,e=a.t,g=c.h,f=c.t;e===k&&(e=0);f===k&&(f=0);b=-this.q*(b.Jb.x*d.x+b.Jb.y*d.y+b.dd*e+(b.Kb.x*g.x+b.Kb.y*g.y)+b.ed*f);this.i+=b;a.h.x+=a.l*b*this.ja.Jb.x;a.h.y+=a.l*b*this.ja.Jb.y;a.t+=a.v*b*this.ja.dd;c.h.x+=c.l*b*this.ja.Kb.x;c.h.y+=c.l*b*this.ja.Kb.y;c.t+=c.v*b*this.ja.ed};
u.Db=function(){var a=this.s,c=this.u,b=0,d=0,b=this.sd?Lf(this.sd):Ef(this.Qd),d=this.td?Lf(this.td):Ef(this.Rd),b=-this.q*(this.Ld-(b+this.na*d));a.c.g.x+=a.l*b*this.ja.Jb.x;a.c.g.y+=a.l*b*this.ja.Jb.y;a.c.n+=a.v*b*this.ja.dd;c.c.g.x+=c.l*b*this.ja.Kb.x;c.c.g.y+=c.l*b*this.ja.Kb.y;c.c.n+=c.v*b*this.ja.ed;T(a);T(c);return o};function Qf(){yf.call(this);this.type=6;this.Jd=this.Id=q;this.Yc=1}z(Qf,yf);Qf.prototype.V=function(a,c,b){this.Id=a;this.T=a.s;this.Jd=c;this.W=c.s;this.Yc=b};Qf.prototype.Pb=function(){return new Pf(this)};var Rf={};
(function(a){var c,b=new F(350,30),d=new F(1E3,300),e,g,f,h;a.tb=function(c,e,g){f=new qf(a,c,b,$.Dc.We,d,20,e);h=new $(f);a.qb(new F(5,b.y-15),g);a.eh(f,new F(5,b.y));rf(f)};a.qb=function(a,b){var d=new F(0,0),m=new F(21,47),n=new F(m.x/20,m.y/20);c=h.qb(n,a);lf(f.Xb,c,n,d,m);g=new qb("game");D(g,new Gf(function(){f.paused=!f.paused},"Pause",r),80,r,r,r);e=new qb("player");D(e,c.wa.Bf,b?87:38,r,r,r);D(e,c.wa.Ud,b?65:37,r,r,r);D(e,c.wa.Af,b?83:40,r,r,r);D(e,c.wa.Vd,b?68:39,r,r,r)};a.eh=function(a,
b){var c=b.da();c.y-=10;for(var d=new F(2.5,0.1),e=q,f=0;f<30;f++){c.x+=d.x/2;var g;g=f!=0&&f!=29?af(a.o,d,c,o):W(a.o,d,c,o);if(e!=q){var h=new Nf,v=new F(U(e.body).x+U(g.body).x,U(e.body).y+U(g.body).y);v.ic(0.5);h.V(e.body,g.body,v);V(a.o.ia,h)}e=g;c.x+=d.x/2;c.x+=0.5}};a.Se=function(a,b){C(g,b)};a.Le=function(a,b){C(g,b);C(e,b)};a.Ke=function(){Zb(f.viewport,U(c.body))}})(Rf);da("bridge.init",Rf.tb);var Sf={};
(function(a){var c,b=new F(350,30),d=new F(600,300),e,g,f,h,i=new F(0,454),j=new F(178,326),l=new F(2,124),m=new F(354,54),n=new F(0,58),p=new F(290,54),t=new F(178,326),s=new F(0,0),v=new F(32,84),w=new F(354,54),O=new F(0,90),J=new F(0,0),P=new F(2,158),y=new F(158,388),E=new F(190,388),X=new F(158,356),Vf=new F(190,356),Wf=new F(158,356),Xf=new F(190,356),Yf=new F(55,380),Zf=new F(10,396),$f=new F(466,168),ag=new F(452,136),bg=new F(466,104),cg=new F(300,424),dg=new F(300,352),eg=new F(364,424),
fg=new F(364,384),gg=new F(332,352),hg=new F(332,320),ig=new F(396,352),jg=new F(396,320),kg=new F(364,352),lg=new F(362,264),mg=new F(160,64);a.tb=function(c,e,g){f=new qf(a,c,b,$.Dc.We,d,20,e);h=new $(f);c=new F(5,b.y-7);a.qb(c,g);a.fh(f,h,new F(0,b.y),c);g=Y(f.o,new F(d.x/20,d.y/20),new F(0,0),-1);H(g,"graphics/sky.png");g.display.Cf=1;rf(f)};a.qb=function(a,b){var d=new F(0,0),i=new F(21,47),j=new F(i.x/20,i.y/20);c=h.qb(j,a);lf(f.Xb,c,j,d,i);g=new qb("game");D(g,new Gf(function(){f.paused=!f.paused},
"Pause",r),80,r,r,r);e=new qb("player");D(e,c.wa.Bf,b?87:38,r,r,r);D(e,c.wa.Ud,b?65:37,r,r,r);D(e,c.wa.Af,b?83:40,r,r,r);D(e,c.wa.Vd,b?68:39,r,r,r)};a.fh=function(b,c,d,e){for(var f=new F(1.6,1.6),g=new F(d.x-f.x/2,d.y-f.y/2),d=["                                                                                                                                                                                                                    ".split(""),"                                                                                                                                                                                                                    ".split(""),
"                                                                                                                                                                                                      o             ".split(""),"                                                                                                                                                                                                     F|             ".split(""),"                                                                                   G                                                                                                                  |             ".split(""),
"                      O                                                         ########   ###O              M           ###    #OO#                                                        ==        |             ".split(""),"                                                                                                                                                                                           ===        |             ".split(""),"                                                                               G                                                                                                          ====        |     $       ".split(""),
"                                                                1                                                                                                                        =====        |    ^^^      ".split(""),"                O   #M#O#                     <>         {}                  #M#              @     #*    O  O  O     #          ##      =  =          ==  =            ###O#           ======        |    R+L      ".split(""),"                                      <>      []         []                                                                             ==  ==        ===  ==                          =======        |   ^r&l^     ".split(""),
"                            <>        []      []         []                                                                            ===  ===      ====  ===     {}              <> ========        |   ++u++     ".split(""),"                     G      []        [] G    []     G G []                                    G G        T                G G G G    ====  ====    =====  ====    []        G G   []=========        =   ++8++     ".split(""),"---------------------------------------------------------------------  ---------------   ----------------------------------------------------------------  ---------------------------------------------------------".split(""),
"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".split("")],g=new F(g.x,g.y-f.y*(d.length-1)),h=0;h<d.length;h++)for(var i=0;i<d[h].length;i++)a.ti(b,c,d[h][i],new F(i,h),g,f,e)};a.ti=function(a,b,c,d,e,f,g){var h=q,A=q;switch(c){case " ":break;case "-":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=i;break;case "=":h=b.$a(f,new F(e.x+d.x*
f.x,e.y+d.y*f.y));A=l;break;case "O":h=b.re(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));$.Hd(h,function(){var c=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));H(c,"graphics/smbsheet.gif",p);c=Y(a.o,f,new F(e.x+d.x*f.x,e.y+(d.y-1)*f.y));H(c,"graphics/smbsheet.gif",n)},$.S.nb);A=m;break;case "@":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));h.ah=8;h.Zf=0;$.Hd(h,function(){h.Zf++;var c=Y(a.o,f,new F(e.x+d.x*f.x,e.y+(d.y-h.Zf/h.ah)*f.y));H(c,"graphics/smbsheet.gif",n);h.Zf==h.ah&&(hf(a.o,h),c=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*
f.y)),H(c,"graphics/smbsheet.gif",p))},$.S.nb);A=t;break;case "#":h=b.re(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=j;break;case "1":h=b.re(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));$.dg(h,$.S.Ad|$.S.bd|$.S.cd);$.Hd(h,function(){var c=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));H(c,"graphics/smbsheet.gif",p);c=Y(a.o,f,new F(e.x+d.x*f.x,e.y+(d.y-1)*f.y));H(c,"graphics/smbsheet.gif",P)},$.S.nb);A=J;break;case "*":h=b.re(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));$.dg(h,$.S.Ad|$.S.bd|$.S.cd);$.Hd(h,function(){var c=b.$a(f,new F(e.x+
d.x*f.x,e.y+d.y*f.y));H(c,"graphics/smbsheet.gif",p);c=Y(a.o,f,new F(e.x+d.x*f.x,e.y+(d.y-1)*f.y));H(c,"graphics/smbsheet.gif",v)},$.S.nb);A=s;break;case "M":h=b.re(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));$.Hd(h,function(){var c=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));H(c,"graphics/smbsheet.gif",p);c=Y(a.o,f,new F(e.x+d.x*f.x,e.y+(d.y-1)*f.y));H(c,"graphics/smbsheet.gif",O)},$.S.nb);A=w;break;case "[":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=y;break;case "]":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=
E;break;case "<":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=X;break;case ">":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Vf;break;case "{":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Wf;break;case "}":h=b.$a(f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Xf;break;case "T":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Yf;break;case "G":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=Zf;break;case "|":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=$f;break;case "F":h=Y(a.o,f,new F(e.x+d.x*f.x+f.x/2,e.y+d.y*f.y),1);A=ag;
break;case "o":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=bg;break;case "+":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=cg;break;case "^":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=dg;break;case "8":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=eg;break;case "u":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=fg;break;case "R":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=hg;break;case "r":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=gg;break;case "L":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=jg;break;
case "l":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=ig;break;case "&":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y));A=kg;break;case "$":h=Y(a.o,f,new F(e.x+d.x*f.x,e.y+d.y*f.y+f.y/4));A=lg;break;case "x":h=b.ri(f,new F(e.x+d.x*f.x,e.y+d.y*f.y),g);A=mg;break;default:throw"Invalid type: "+c;}h!==q&&"graphics/smbsheet.gif"!==q&&A!==q&&H(h,"graphics/smbsheet.gif",A)};a.Se=function(a,b){C(g,b)};a.Le=function(a,b){C(g,b);C(e,b)};a.Ke=function(){Zb(f.viewport,U(c.body))}})(Sf);da("mario.init",Sf.tb);var Tf={};
(function(a){var c,b=new F(3500,100),d=new F(1024,600),e,g,f,h;a.tb=function(c,e,g){f=new qf(a,c,b,$.Dc.We,d,20,e);h=new $(f);c=new F(5,b.y-7-24);a.qb(c,g);Sf.fh(f,h,new F(0,b.y),c);g=0;g++;Rf.eh(f,new F(15,b.y-(3.2+g*24)));a.ui(++g);a.wi(++g);a.vi(g);a.si();rf(f)};a.qb=function(a,b){var d=new F(0,0),m=new F(21,47),n=new F(m.x/20,m.y/20);c=h.qb(n,a);lf(f.Xb,c,n,d,m);g=new qb("game");D(g,new Gf(function(){f.paused=!f.paused},"Pause",r),80,r,r,r);e=new qb("player");D(e,c.wa.Bf,b?87:38,r,r,r);D(e,c.wa.Ud,
b?65:37,r,r,r);D(e,c.wa.Af,b?83:40,r,r,r);D(e,c.wa.Vd,b?68:39,r,r,r)};a.vi=function(a){for(var c=new F(3,0.25),d=0;d<a;d++){for(var e=3.2+d*24,f=6;f<=24;f+=6)h.Kc(c,new F(4,b.y-f-e)),h.Kc(c,new F(10,b.y-f-e));h.Kc(new F(b.x-15,0.25),new F((b.x-15)/2+15,b.y-e-24))}h.Kc(new F(1,1),new F(12,b.y-3.2-3.5),$.S.bd);h.Kc(new F(1,1),new F(15,b.y-3.2-3.5),$.S.cd);h.Kc(new F(1,1),new F(18,b.y-3.2-3.5),$.S.Ad);h.Kc(new F(1,1),new F(21,b.y-3.2-3.5),$.S.nb);a=h.Kc(new F(1,1),new F(24,b.y-3.2-3.5),$.S.nb).body;
Ke(a,a.e.position,Math.PI/2)};a.wi=function(a){for(var a=new F(17,b.y-(3.2+a*24)),c=-Math.PI/4,d=(0-c)/20;c<=0;c+=d)a.x+=1.5,W(f.o,new F(3,0.3),new F(a.x,a.y-1.5),o,{Ya:c},q),a.x+=3.5};a.ui=function(a){for(var a=new F(17,b.y-(3.2+a*24)),c=0;c<1;c++){var d=new Nf,e=new Jf;a.x+=5;var g={Ya:Math.random()*Math.PI},h=a.y-7.5,t=W(f.o,new F(0.01,0.01),new F(a.x,h),r,{xa:g}),s=af(f.o,new F(10,1),new F(a.x,h),o,{xa:g});H(s,"graphics/spinner.png");g.Ya+=Math.PI/2;g=af(f.o,new F(10,1),new F(a.x,h),o,{xa:g});
H(g,"graphics/spinner.png");d.V(t.body,s.body,U(t.body));V(f.o.ia,d);d.V(t.body,g.body,U(t.body));V(f.o.ia,d);e.V(s.body,g.body,U(s.body));V(f.o.ia,e);a.x+=7}for(c=0;c<1;c++)g={Lc:o},d=new Hf,a.x+=2,h=a.y-6,s=af(f.o,new F(3,0.2),new F(a.x+0.1,h+2),o,{xa:g}),e=af(f.o,new F(3,0.2),new F(a.x+0.1,h-2),o,{xa:g}),t=af(f.o,new F(0.2,3),new F(a.x-2,h+0.1),o,{xa:g}),g=af(f.o,new F(0.2,3),new F(a.x+2,h+0.1),o,{xa:g}),d.V(s.body,e.body,U(s.body),U(e.body)),V(f.o.ia,d),d.V(s.body,t.body,U(s.body),U(t.body)),
V(f.o.ia,d),d.V(s.body,g.body,U(s.body),U(g.body)),V(f.o.ia,d),d.V(e.body,t.body,U(e.body),U(t.body)),V(f.o.ia,d),d.V(e.body,g.body,U(e.body),U(g.body)),V(f.o.ia,d),d.V(t.body,g.body,U(t.body),U(g.body)),V(f.o.ia,d),a.x+=4;for(c=0;c<3;c++)h=a.y-9,g={Lc:o},d=new zf,a.x+=1.5,t=af(f.o,new F(3,0.3),new F(a.x+1.5,h),o,{xa:g}),a.x+=6,g=af(f.o,new F(3,0.3),new F(a.x+1.5,h),o,{xa:g}),h=U(t.body).da(),h.y-=3,Y(f.o,new F(0.3,0.3),h),s=U(g.body).da(),s.y-=3,Y(f.o,new F(0.3,0.3),s),d.V(t.body,g.body,h,s,U(t.body),
U(g.body),(c+1)/2),V(f.o.ia,d),a.x+=3.5;for(c=0;c<2;c++){var d=new Qf,v=new Nf;new Ff;g={Ya:0};a.x+=2;for(var e=q,w=0;w<2;w++)h=a.y-(w+1)*4,t=W(f.o,new F(0.01,0.01),new F(a.x,h),r,{xa:g}),s=af(f.o,new F(4,0.2),new F(a.x,h),o,{xa:g}),v.V(t.body,s.body,U(t.body)),h=V(f.o.ia,v),e!==q&&(d.V(h,e,w),V(f.o.ia,d)),e=h;h=a.y-12;t=W(f.o,new F(0.01,0.01),new F(a.x,h),r,{xa:g});s=af(f.o,new F(0.4,0.2),new F(a.x,h),o,{xa:g});g=new Ff;g.V(t.body,s.body,U(t.body),new F(Math.random(),Math.random()));g.bf=o;g.ph=
-1;g.Oh=1;h=V(f.o.ia,g);d.V(h,e,0.5);V(f.o.ia,d);a.x+=4}};a.si=function(){for(var a={type:2,Lc:r},c={zc:1.25},d=new Qd(0.25),e=new F(0.5,0.5),g=0;g<5;g++){var h=g*5%(b.x-10),h=new F(h+g%20/20+4.5,15+g%20);f.o.Hb(e,h,o,d,{xa:a,lc:c})}d=new Q;Kc(d,0.25,0.25);for(g=0;g<5;g++)h=g*5%(b.x-10),h=new F(h+(g+5)%20/20+4.5,15+(g+5)%20),a.Ya=g%17/17,f.o.Hb(e,h,o,d,{xa:a,lc:c});d=new Q;Jc(d,[new F(-0.5,-0.5),new F(0.5,-0.5),new F(-0.5,0.5)]);for(g=0;g<5;g++)h=g*5%(b.x-10),h=new F(h+(g+10)%20/20+4.5,15+(g+10)%
20),a.Ya=g%22/22,f.o.Hb(e,h,o,d,{xa:a,lc:c});d=new Q;Jc(d,[new F(-Math.random()*0.5,-Math.random()*0.5),new F(Math.random()*0.5,-Math.random()*0.5),new F(Math.random()*0.5,Math.random()*0.5),new F(-Math.random()*0.5,Math.random()*0.5)]);for(g=0;g<5;g++)h=g*5%(b.x-10),h=new F(h+(g+15)%20/20+4.5,15+(g+15)%20),a.Ya=g%35/35,f.o.Hb(e,h,o,d,{xa:a,lc:c});d=new Q;Jc(d,[new F(-0.5,-0.5),new F(0,-0.5),new F(0.5,0),new F(0.5,0.5),new F(0,0.3)]);for(g=0;g<5;g++)h=g*5%(b.x-10),h=new F(h+(g+15)%20/20+4.5,15+(g+
15)%20),a.Ya=g%35/35,f.o.Hb(e,h,o,d,{xa:a,lc:c})};a.Se=function(a,b){C(g,b)};a.Le=function(a,b){C(g,b);C(e,b)};a.Ke=function(){Zb(f.viewport,U(c.body))}})(Tf);da("test.init",Tf.tb);var Uf={};
(function(a){var c,b=new F(5,10),d=new F(100,200),e,g,f,h;a.tb=function(c,e,g){f=new qf(a,c,b,$.Dc.We,d,20,e);h=new $(f);c=new F(2,2);a.xi();a.qb(c,g);rf(f)};a.qb=function(a,b){var d=new F(0,0),m=new F(21,47),n=new F(m.x/20,m.y/20);c=h.qb(n,a);lf(f.Xb,c,n,d,m);g=new qb("game");D(g,new Gf(function(){f.paused=!f.paused},"Pause",r),80,r,r,r);e=new qb("player");D(e,c.wa.Bf,b?87:38,r,r,r);D(e,c.wa.Ud,b?65:37,r,r,r);D(e,c.wa.Af,b?83:40,r,r,r);D(e,c.wa.Vd,b?68:39,r,r,r)};a.xi=function(){h.$a(new F(b.x,0.5),
new F(b.x/2,b.y-0.25));a.qi(new F(b.x,6),new F(0,b.y-0.25))};a.qi=function(a,b){W(f.o,new F(0.25,a.y),new F(b.x+0,b.y-a.y/2),o,q,q);W(f.o,new F(0.25,a.y),new F(b.x+a.x-0.125,b.y-a.y/2),o,q,q);for(var c=new Qd(0.15),d=0,e=0.15;e<a.x-0.15;e+=0.3)for(var g=0;g<a.y/2;g+=0.3){var h=f.o.Hb(new F(0.3,0.3),new F(b.x+e-d++%2*0.15,b.y-g),o,c,{lc:{se:0.1,zc:0.1,sb:0.1}}),s=Math.random();s<=0.25?H(h,"graphics/ball-red.png"):s<=0.5?H(h,"graphics/ball-green.png"):s<=0.75?H(h,"graphics/ball-yellow.png"):H(h,"graphics/ball-blue.png")}};
a.Se=function(a,b){C(g,b)};a.Le=function(a,b){C(g,b);C(e,b)};a.Ke=function(){Zb(f.viewport,U(c.body))}})(Uf);da("pit.init",Uf.tb);})();
